<html>
<head>
<title>How to Ensure the Security of NFT Under the Web 3.0 Boom? Beosin VaaS Has Provided With a Solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Web 3.0热潮下，如何保证NFT的安全？Beosin VaaS提供了一个解决方案</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-ensure-the-security-of-nft-under-the-web-3-0-boom-beosin-vaas-has-provided-with-a-solution-50697ccd4f56?source=collection_archive---------17-----------------------#2022-04-24">https://medium.com/coinmonks/how-to-ensure-the-security-of-nft-under-the-web-3-0-boom-beosin-vaas-has-provided-with-a-solution-50697ccd4f56?source=collection_archive---------17-----------------------#2022-04-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="6ec4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如今，NFT的爆炸式增长正在推动Web 3.0的发展。过去的Web 1.0到Web 2.0实现了内容从消费者到生产者的转变，其本质是一次时空平行的从物理世界到网络世界的大迁徙。那么在Web 3.0的世界里，每个用户都掌控着自己的数据、身份和命运，新一代的互联网就此诞生。</p><p id="ca94" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Web 3.0存在于区块链的基础上，承诺将隐私和数字身份归还给用户，同时借助NFTs等应用程序实现新水平的交互。但我们更需要关注的是Web 3.0热潮下NFT隐藏的安全问题，最近在NFT空间随处可见的“黑客事件”就是明证。</p><p id="0c31" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">ⅰ最近发生了哪些NFT契约漏洞？</strong></p><p id="7ca7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">4月20日，联盟NFTs (NBA)因一个合同漏洞而被利用。在契约代码中，传入的函数中没有验证vData内存参数info，导致签名可重用，用户可以使用别人的签名来伪造NFT。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/20ce8b67271c5917a059922a7c09a593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NFwGNmB8s-0T-fRZm2UUyg.png"/></div></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ka"><img src="../Images/36a332ad19ef59dc5fe0d339692af04d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZhvC83hwSGKIyt7jfY6KqA.png"/></div></div></figure><p id="3911" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2022年4月23日，由于智能合约本身存在漏洞，NTF项目Akutar的AkuAuction合约已经永久锁定了11,539 ETH(价值~ 3400万美元)。经过Beosin安全团队的分析，我们在Akutar的合同中发现了两个漏洞。</p><p id="c627" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第一个漏洞存在于processRefunds中，其中设计者基于refundProgress执行循环退款。但是，如果此时有攻击者在回退中进行还原，就会导致后续的人无法进行退款。此漏洞已在链上得到证明，但未被利用。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kb"><img src="../Images/9e0e3e91ad1dfff4d1544dbef1d941db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqHKN1vkDIvgH4AYSqHxnw.png"/></div></div></figure><p id="6159" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第二个漏洞在claimProjectFunds中，require语句的totalBids变量(refundProgress &gt; = totalBids)应该是bidIndex，这个漏洞使得这个判断条件永远失效，导致无法进行后续的提现操作。最终，这导致11，539个ETH(价值约3，400万美元)无法提取。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kc"><img src="../Images/b4078303e50a83ba7835d6735bd30783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kb5_WHvje4twnMznf6LTxA.png"/></div></div></figure><p id="8e49" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">因此，关注NFT合同风险变得越来越迫切。</p><p id="ac59" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">ⅱ常见的NFT合同问题有哪些？</strong></p><p id="490d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">根据NFTSCAN的数据，现在全球有近70，000个NFT合同地址，并且这个数字还在继续增长。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kd"><img src="../Images/f722669f66a2d4a7cafa4115b9e4c620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rTPqcR_82D-0QnOVq1W2Q.png"/></div></div></figure><p id="cb63" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">数据来源:NFTSCAN(更新时间:2022年4月24日)</p><p id="d625" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">作为Web3.0的基础，NFT的安全问题对区块链产业的发展同样重要。为了给Web3.0的安全生态保驾护航，Beosin VaaS对数千个NFT项目进行了漏洞扫描，发现NFT常见的合同问题可以分为以下几类。</p><p id="1efd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">商业逻辑相关问题</strong></p><p id="f360" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这样的问题会直接导致合同的业务逻辑出现错误。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ke"><img src="../Images/b4f0424e8872f4245f75bbd3d83024be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kKROQP04ULk34-lTXMxPpg.png"/></div></div></figure><p id="7113" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">漏洞描述:</strong>chapterAuctionMinted的值始终是初始值，但在这里该值用于条件检查。如果在开发阶段使用Beosin VaaS进行扫描，开发人员可以根据结果确定相关逻辑是否缺失(这可能会导致业务逻辑问题，如NFT过度铸造)或冗余代码。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kf"><img src="../Images/2c2cbfa363b79dfc668dcaebddfb32f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkuPRLoAbv4e4qDuTpoZFw.png"/></div></div></figure><p id="a032" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">漏洞描述:未检查的返回值。在NFT项目中经常可以看到付费铸币功能，调用者需要向NFT铸币合同发送ERC20代币作为铸币费，然后NFT铸币合同为其铸造相应数量的NFT代币。然而，一些ERC20契约具有假存款的问题，即，转移失败不抛出异常而是返回false，这导致攻击者可以利用它来制造任意数量的NFT而无需支付费用的问题。开发人员应检查transferFrom操作的返回值，或者根据“Beosin VaaS”的建议使用ERC20令牌传输的safeTransferFrom函数。</p><p id="f3dd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">编码标准相关问题</strong></p><p id="a991" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这样的问题可能不会直接导致业务逻辑中的错误，但是它们会影响代码的可读性，导致契约调用中的额外消耗等等。此外，非标准代码在编写时容易导致逻辑混乱，隐藏逻辑错误的可能性更高。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kg"><img src="../Images/93823167b5652134a1658c4e0e71dcbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d6ZkNfhbQvEQ93VsKfPybg.png"/></div></div></figure><p id="a1df" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">漏洞描述:</strong>这里循环的结束条件是curr &gt; =0，curr是uint导致curr &gt; =0不断满足。这将导致循环不能正常结束。“Beosin VaaS”将对结果的固定值发出警报，用户可以在此确认删除或修改条件的逻辑。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kh"><img src="../Images/b4a64aceb8a1edc210d16efc5153f5a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*skghYl_TD9TG_ioSdEZ9VQ.png"/></div></div></figure><p id="3629" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">漏洞描述:</strong>此处字符串类型的数据在事件中被标记为indexed，这将导致在事件结果中无法直接得到对应的字符串结果。建议用户参考“Beosin VaaS”中的建议，并仅使用索引来修改固定长度的变量。</p><p id="1389" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们的研究发现，大多数NFT合同都没有经过专业审计，这带来了很大的安全风险，很容易导致攻击和资产损失。NFT智能合约开发人员在设计和实现合约时应该注意代码的正确性。我们强烈建议在开发完成后，开发人员可以使用‘beos in VaaS’对项目进行安全测试。项目上线前，合同业主可以选择专业的安全审计来规避安全风险。</p><p id="da7c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">安全是区块链技术的重要保障，守护Web 3.0的安全变得越来越重要。我们今天讨论的与业务逻辑相关的问题和与代码标准相关的问题也是智能合约中常见的问题类型，我们将继续发布与NFT相关的安全报告。敬请期待！</p><p id="77f0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">项目上线前，强烈建议选择专业的安全审计公司进行全面的安全审计，规避安全风险。</p><p id="ded9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果您需要任何区块链安全服务，请联系我们:</p><p id="018b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae ki" href="https://beosin.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">网站</strong> </a> <strong class="is hu"> </strong> <a class="ae ki" href="http://contact@beosin.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">邮箱</strong> </a> <strong class="is hu"> </strong> <a class="ae ki" href="https://twitter.com/Beosin_com" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">官方推特</strong> </a> <strong class="is hu"> </strong> <a class="ae ki" href="https://twitter.com/BeosinAlert" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">预警</strong> </a> <strong class="is hu"> </strong> <a class="ae ki" href="https://t.me/beosin" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">电报</strong></a><strong class="is hu"/><a class="ae ki" href="https://www.linkedin.com/company/beosin" rel="noopener ugc nofollow" target="_blank"><strong class="is hu">LinkedIn</strong></a></p><blockquote class="kj"><p id="b46a" class="kk kl ht bd km kn ko kp kq kr ks jn ek translated">加入Coinmonks <a class="ae ki" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ki" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="0e0c" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">另外，阅读</h1><ul class=""><li id="68c7" class="lr ls ht is b it lt ix lu jb lv jf lw jj lx jn ly lz ma mb dt translated"><a class="ae ki" href="https://coincodecap.com/anny-trade-review" rel="noopener ugc nofollow" target="_blank">氹欞侊贸易评论</a> | <a class="ae ki" href="https://coincodecap.com/coinspot-review" rel="noopener ugc nofollow" target="_blank"> CoinSpot评论</a></li><li id="31bf" class="lr ls ht is b it mc ix md jb me jf mf jj mg jn ly lz ma mb dt translated"><a class="ae ki" href="https://coincodecap.com/crypto-exchange-in-singapore" rel="noopener ugc nofollow" target="_blank">新加坡十大最佳加密交易所</a> | <a class="ae ki" href="https://coincodecap.com/buy-axs-token" rel="noopener ugc nofollow" target="_blank">购买AXS </a></li><li id="9e52" class="lr ls ht is b it mc ix md jb me jf mf jj mg jn ly lz ma mb dt translated"><a class="ae ki" href="https://coincodecap.com/best-crypto-to-invest-in-india-in-2021" rel="noopener ugc nofollow" target="_blank">投资印度的最佳加密软件</a> | <a class="ae ki" href="https://coincodecap.com/wazirx-p2p" rel="noopener ugc nofollow" target="_blank"> WazirX P2P </a></li><li id="78db" class="lr ls ht is b it mc ix md jb me jf mf jj mg jn ly lz ma mb dt translated"><a class="ae ki" href="https://coincodecap.com/zero-fee-crypto-exchanges" rel="noopener ugc nofollow" target="_blank"> 7个最佳零费用加密交易平台</a></li><li id="46ef" class="lr ls ht is b it mc ix md jb me jf mf jj mg jn ly lz ma mb dt translated"><a class="ae ki" href="https://coincodecap.com/best-online-casinos" rel="noopener ugc nofollow" target="_blank">最佳网上赌场</a> | <a class="ae ki" rel="noopener" href="/coinmonks/futures-trading-bots-5a282ccee3f5">期货交易机器人</a></li></ul></div></div>    
</body>
</html>