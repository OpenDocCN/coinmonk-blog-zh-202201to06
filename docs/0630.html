<html>
<head>
<title>Tips for Testing in Hardhat</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在安全帽中测试的技巧</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/tips-for-testing-in-hardhat-c59e03837c92?source=collection_archive---------11-----------------------#2022-02-13">https://medium.com/coinmonks/tips-for-testing-in-hardhat-c59e03837c92?source=collection_archive---------11-----------------------#2022-02-13</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="70fb" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">我如何测试和调试我的智能合约。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/ffc8ee0c788e2c8591ee3cdbeb88a0ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z5pcfeH4EloeWzc5RbudfQ.jpeg"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Image by @whoisdenilo on Unsplash.com</figcaption></figure><h1 id="9654" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">介绍</h1><p id="a92e" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">本文将是<a class="ae lm" href="https://hardhat.org/getting-started/" rel="noopener ugc nofollow" target="_blank">官方安全帽文档</a>的延伸。如果你还没有，我强烈建议你先去那里看看。话虽如此，我们还是直奔主题吧！</p><h1 id="adb1" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">它</h1><h2 id="30f9" class="ln jz ht bd ka lo lp lq ke lr ls lt ki kz lu lv kk ld lw lx km lh ly lz ko ma dt translated">应该使用console.log()</h2><p id="4f5d" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">如果你做过任何类型的编程，你就会知道在代码执行过程中读取变量是多么的有用。我个人喜欢用这种方法，尤其是当我试图定位错误的时候。但是在你的智能合同中使用这个有点棘手。首先，您必须通过在您的Solidity代码中添加以下行来导入hardhat控制台:</p><pre class="jj jk jl jm fq mf me mg mh aw mi dt"><span id="2e67" class="ln jz ht me b fv mj mk l ml mm">import "hardhat/console.sol";</span></pre><p id="2717" class="pw-post-body-paragraph kq kr ht ks b kt mn iu kv kw mo ix ky kz mp lb lc ld mq lf lg lh mr lj lk ll hm dt translated">然后创建一个Hardhat节点来运行您的代码。您可以使用以下终端命令来完成此操作:</p><pre class="jj jk jl jm fq mf me mg mh aw mi dt"><span id="a0f5" class="ln jz ht me b fv mj mk l ml mm">npx hardhat node</span></pre><p id="ca70" class="pw-post-body-paragraph kq kr ht ks b kt mn iu kv kw mo ix ky kz mp lb lc ld mq lf lg lh mr lj lk ll hm dt translated">如果需要，你也可以<a class="ae lm" href="https://hardhat.org/hardhat-network/guides/mainnet-forking.html" rel="noopener ugc nofollow" target="_blank">分叉</a> mainnet或testnet。现在，当您运行您的测试/代码(在不同的终端窗口中)时，您将能够在节点终端中看到您<em class="ms"> console.logged </em>的值！</p><p id="00fd" class="pw-post-body-paragraph kq kr ht ks b kt mn iu kv kw mo ix ky kz mp lb lc ld mq lf lg lh mr lj lk ll hm dt translated">另一种方法是使用一个名为<em class="ms">的服务，它将允许您查看来自已部署合同的<em class="ms"> console.logs </em>。这种方法比较繁琐，但是允许您在生产中进行测试。</em></p><h2 id="d6cc" class="ln jz ht bd ka lo lp lq ke lr ls lt ki kz lu lv kk ld lw lx km lh ly lz ko ma dt translated">应该使用。只是为了隔离测试</h2><p id="56d1" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">有时候你<em class="ms">。只有</em>想在你数百万的套件中运行某些测试。可以通过在<strong class="ks hu">描述</strong>或<strong class="ks hu"> it </strong>命令后添加<code class="eh mb mc md me b">.only</code>来实现，如下所示:</p><pre class="jj jk jl jm fq mf me mg mh aw mi dt"><span id="0cc0" class="ln jz ht me b fv mj mk l ml mm">describe.only("Blah blah blah",...);</span></pre><p id="cdcc" class="pw-post-body-paragraph kq kr ht ks b kt mn iu kv kw mo ix ky kz mp lb lc ld mq lf lg lh mr lj lk ll hm dt translated">Hardhat将只运行那个特定的测试，忽略所有其他的测试(和文件)。可以<em class="ms">。只有</em>多次测试，但有某些规则我还没来得及搞清楚。完成后，记得移除修饰符。</p><h2 id="80b1" class="ln jz ht bd ka lo lp lq ke lr ls lt ki kz lu lv kk ld lw lx km lh ly lz ko ma dt translated">应该组织测试</h2><p id="bd07" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">如果你有很多测试(安全在加密中很重要，或者他们这么说)，那么<em class="ms">。只有</em>的方法可能还不够。幸运的是，Hardhat有一个选项允许您指定测试的位置。您可以将您的测试分组到文件夹中，并在配置文件中更改指定的文件夹<a class="ae lm" href="https://hardhat.org/config/" rel="noopener ugc nofollow" target="_blank">路径，只运行该文件夹中的测试。</a></p><h1 id="c382" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">结束语</h1><p id="5f12" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">您可能已经注意到，加密领域的文档从高度受限到根本不存在。因此，即使作为一个非作家，我也觉得有必要接过衣钵，为这个巨大的档案空白照亮一些光明。希望读者会发现我的文章很有帮助。我是这方面的新手，所以非常欢迎评论。编码快乐！</p><blockquote class="mt"><p id="35dc" class="mu mv ht bd mw mx my mz na nb nc ll ek translated">加入Coinmonks <a class="ae lm" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae lm" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="594f" class="ln jz ht bd ka lo nd lq ke lr ne lt ki kz nf lv kk ld ng lx km lh nh lz ko ma dt translated">也阅读</h2><div class="ni nj fm fo nk nl"><a href="https://coincodecap.com/blockfi-review" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab ej"><div class="nn ab no cl cj np"><h2 class="bd hu fv z el nq eo ep nr er et hs dt translated">BlockFi评论:2022年的利弊和利率</h2><div class="ns l"><h3 class="bd b fv z el nq eo ep nr er et ek translated">今天，我们提出了一个全面的BlockFi评论，这是一个成立于2017年的加密贷款平台，拥有其…</h3></div><div class="nt l"><p class="bd b gc z el nq eo ep nr er et ek translated">coincodecap.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz js nl"/></div></div></a></div><div class="ni nj fm fo nk nl"><a rel="noopener follow" target="_blank" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94"><div class="nm ab ej"><div class="nn ab no cl cj np"><h2 class="bd hu fv z el nq eo ep nr er et hs dt translated">如何在印度购买比特币？2021年购买比特币的7款最佳应用[手机版]</h2><div class="ns l"><h3 class="bd b fv z el nq eo ep nr er et ek translated">如何使用移动应用程序购买比特币印度</h3></div><div class="nt l"><p class="bd b gc z el nq eo ep nr er et ek translated">medium.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz js nl"/></div></div></a></div><div class="ni nj fm fo nk nl"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="nm ab ej"><div class="nn ab no cl cj np"><h2 class="bd hu fv z el nq eo ep nr er et hs dt translated">加密税务软件——五大最佳比特币税务计算器[2021]</h2><div class="ns l"><h3 class="bd b fv z el nq eo ep nr er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="nt l"><p class="bd b gc z el nq eo ep nr er et ek translated">medium.com</p></div></div><div class="nu l"><div class="ob l nw nx ny nu nz js nl"/></div></div></a></div></div></div>    
</body>
</html>