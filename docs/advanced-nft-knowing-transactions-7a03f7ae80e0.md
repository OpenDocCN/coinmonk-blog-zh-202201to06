# 高级 NFT-不同的事务处理状态

> 原文：<https://medium.com/coinmonks/advanced-nft-knowing-transactions-7a03f7ae80e0?source=collection_archive---------40----------------------->

![](img/6cc148be9cfb6f21e5291af656333650.png)

上周，我们学习了气体及其在引擎盖下的工作原理。由于天然气最终是交易中的一个属性，我们可以看到它在比较失败和取消的交易中的作用。然而，当我们取消一个交易时，相对于当我们允许它失败时，到底发生了什么？交易中还会发生什么？今天，我们将找出答案。

之前，我们提到汽油是汽车到达目的地的汽油。所以，交易就像汽车——运输的对象。类似于汽车，它的作用是运送东西或者把人带到目的地，这就是我们所说的数据。在每笔交易中，我们总是在区块链网络内将数据从一个地址传输到另一个地址。

简而言之，一项交易由 5 个主要部分组成:

*   发件人地址
*   目的地址
*   数据
*   气体
*   密码锁

事务需要知道它从哪里来，要去哪里，要带什么，要推多少气，而且必须密码锁定。但是，事务是如何被传递到目的地址的呢？

首次提交交易时，交易将被加密锁定。正如我们上周所了解的，我们设定的天然气将决定激励矿工挖掘您的交易的程度。**每一个事务都是从一个未决事务开始的**。

如果事务没有被挖掘者挖掘，它将保持为挂起的事务。如果事务长时间未被挖掘，它可能会从网络中被丢弃——丢弃的事务。如果事务被挖掘，它可能会失败或成功。用户也可以决定取消交易。

在 NFT 铸币厂的高度竞争场景中，未决交易可能是铸币厂不成功的标志，并且这是非常可能的。然而，未决事务是一种中性现象。用户以他们愿意支付的价格获得了服务的速度。如果交易对时间不敏感，比如你正在给一个朋友做一个简单的 eth 转账，而你们都有能力等待很长时间，那么一个低汽油费和等待很长时间的交易可能是一个好的策略。

NFT 的公共造币厂和 altcoin 的发行就是时间敏感交易的例子，因为一旦人们把它们都用完了，供应和分配就会耗尽。许多用户会增加汽油费，希望他们的未决交易能被矿商优先处理。因此，当天然气费用较低的交易跳转到网络时，它不会被矿工优先考虑。当它在这段时间内没有得到优先处理时，这就是事务在一段时间内保持挂起的地方。

对于永远悬而未决的交易，令人欣慰的是它还没有产生任何成本。除了留在待定状态，直到王国到来，地位也可能发生变化。

# 成功交易

顾名思义，一个成功的交易意味着它最终被矿工优先处理。在 NFT 造币厂的例子中，**一次成功的交易将花费你 NFTs 的价格+汽油费**。

然而，在大多数情况下，NFT 有限的供应性质，市场将试图除气彼此到地狱，特别是在公共造币厂。当矿商优先考虑你的永久未决交易时，供应已经耗尽。这将导致交易失败。

# 失败的交易

当事务的结果出乎意料时，就会发生事务失败。然而，**仍然会消耗气费，因为矿工试图开采交易**。理所当然地，你应该在消费汽油后收到 NFT 来处理交易。不幸的是，供应用完了，它没有给你任何回报。

在交易失败的情况下，不会消耗 NFTs 的价格，但是会消耗燃气费。

# 丢弃的事务

在事务被丢弃的情况下，挖掘器决定从内存池中删除挂起的事务。当挂起的事务在 mempool 中停留的时间太长，并且有太多新的挂起事务进入 mempool 而耗尽空间时，就会发生这种情况。

所发生的是，矿工将从具有最少天然气费用的未决交易开始，开始从内存池中丢弃未决交易。

**对于掉线的交易，绝对不会涉及任何成本，甚至连油费都没有**。

# 取消的交易

作为用户，您可能希望取消交易，并且有许多方法可以做到这一点—无论是通过单击“取消交易”按钮，还是通过注销应用程序，或者手动创建覆盖交易。

取消的事务基本上是一个新的覆盖事务，它有四个属性:

*   新的覆盖事务和旧的待定事务的创建者必须相同。
*   新的覆盖交易必须具有比旧的待定交易更高的燃气费。
*   新的覆盖交易必须与旧的待定交易具有相同的“标识号”。
*   新的覆盖事务的用法将是向创建者进行简单的转移，而不是旧的未决事务的原始用法——铸造/购买/销售。

在引擎盖下，这些属性的存在是因为:

*   只有您可以取消自己的待定交易。
*   这两个事务都将在内存池中，但是挖掘器将被激励首先处理新的事务。
*   一个“识别号”只能代表一笔交易。一旦新事务被首先处理，旧事务将成为被丢弃的事务。
*   本质上，新交易的功能是一个简单的转移，而不是复杂的造币/购买/销售。这意味着天然气(而不是天然气费)将发生变化，因为一个简单的函数意味着更少的计算工作意味着更少的天然气。

一个简短的介绍:“身份号码”在技术术语中也被称为 nonce，就像人们如何通过身份证和号码来识别一样。一个随机数只能用于标识一个交易。

取消的交易更复杂的原因是因为它是用户触发的操作，钱包实际上必须解释“取消的”交易的实际含义——用新的更快的交易覆盖——并采取必要的行动。而其余的交易类型是网络触发的，因此网络将相应地采取行动。

这也是为什么失败的交易和取消的交易在天然气成本上存在差异。

# DevCandy

然而，还有另一种状态，更常见的是被开发商称为“汽油用完”的交易状态。

消费者几乎看不到这种状态，因为燃气单位通常由钱包服务提供/估计，并且不建议改变。

然而，作为一名开发人员，有时为了测试我们的合同，我们可能希望发送一个带有自定义 gas 参数的自定义事务。当我们这样做时，不足以完成功能，它将返回一个“汽油用完”的交易状态。这是一个失败的交易，将消耗所有的汽油费，因为它试图完成交易，从而运行的汽油里程。

# 结论

当然，事务中还有许多其他细节可以探究，比如不同类型的事务，以及事务中可以传输的不同类型的数据。这些东西也是基本的，但对非功能性测试来说还不重要。

归根结底，一笔交易在 NFT 市场上的存在不仅仅是为了简单的转让，而是为了运行一份合同的功能。下周，我们将探讨合同是如何工作的，以及它是如何被轻易利用的。

> 加入 Coinmonks [电报频道](https://t.me/coincodecap)和 [Youtube 频道](https://www.youtube.com/c/coinmonks/videos)了解加密交易和投资

# 另外，阅读

*   [OKEx vs KuCoin](https://coincodecap.com/okex-kucoin) | [摄氏替代品](https://coincodecap.com/celsius-alternatives) | [如何购买 VeChain](https://coincodecap.com/buy-vechain)
*   [币安期货交易](https://coincodecap.com/binance-futures-trading)|[3 commas vs Mudrex vs eToro](https://coincodecap.com/mudrex-3commas-etoro)
*   [如何购买 Monero](https://coincodecap.com/buy-monero) | [IDEX 评论](https://coincodecap.com/idex-review) | [BitKan 交易机器人](https://coincodecap.com/bitkan-trading-bot)
*   [CoinDCX 评论](/coinmonks/coindcx-review-8444db3621a2) | [加密保证金交易交易所](https://coincodecap.com/crypto-margin-trading-exchanges)
*   [红狗赌场评论](https://coincodecap.com/red-dog-casino-review) | [Swyftx 评论](https://coincodecap.com/swyftx-review) | [CoinGate 评论](https://coincodecap.com/coingate-review)