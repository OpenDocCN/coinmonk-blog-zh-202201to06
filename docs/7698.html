<html>
<head>
<title>Moralis NFT API — getNFTs and searchNFTs with pagination</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">道德NFT API —带分页的getNFTs和searchNFTs</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/moralis-nft-api-getnfts-and-searchnfts-with-pagination-5dd77b990bba?source=collection_archive---------6-----------------------#2022-05-30">https://medium.com/coinmonks/moralis-nft-api-getnfts-and-searchnfts-with-pagination-5dd77b990bba?source=collection_archive---------6-----------------------#2022-05-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><h2 id="94b0" class="hr hs ht bd b gc hu hv hw hx hy hz ek ia translated" aria-label="kicker paragraph">NFT系列</h2><div class=""/><div class=""><h2 id="0216" class="pw-subtitle-paragraph iz ic ht bd b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ek translated">使用游标分页的Moralis getNFTs和searchNFTs APIs的一个预览</h2></div><p id="c1cc" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">在本文中，我们试图使用游标在分页端点上使用Moralis APIs的getNFTs和searchNFTs。API响应有一个光标，我们可以用它来迭代多个页面。</p><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff kn"><img src="../Images/f6c40025eb036fad4378af90c42a649a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9KVPERwsnCnoeTric_UgNw.png"/></div></div></figure></div><div class="ab cl kz la hb lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hm hn ho hp hq"><h2 id="fa1c" class="lg lh ht bd li lj lk ll lm ln lo lp lq ka lr ls lt ke lu lv lw ki lx ly lz hz dt translated">getNFTs</h2><p id="9c05" class="pw-post-body-paragraph jr js ht jt b ju ma jd jw jx mb jg jz ka mc kc kd ke md kg kh ki me kk kl km hm dt translated">它用于获取指定用户地址的所有NFT。根据请求，我们将访问页码、链和用户地址。</p><pre class="ko kp kq kr fq mf mg mh mi aw mj dt"><span id="7d12" class="lg lh ht mg b fv mk ml l mm mn">function getNFTs(req, res, next) {<br/> try {<br/>    const { pageNumber, chain, address } = req.body;<br/>    let cursor = null, count = 1, nfts = [];<br/>    do {<br/>          const options = {<br/>            chain,<br/>            address,<br/>            limit: 10,<br/>            cursor<br/>          };<br/>          nfts = await Moralis.Web3API.account.getNFTs(options);<br/>          cursor = nfts.cursor;<br/>          count++;<br/>       } while (count &lt;= pageNumber);<br/>    return nfts;<br/>   } catch (err) {<br/>     console.log(err);<br/>   }<br/> }</span></pre><h2 id="7ada" class="lg lh ht bd li lj lk ll lm ln lo lp lq ka lr ls lt ke lu lv lw ki lx ly lz hz dt translated">搜索功能</h2><p id="cebb" class="pw-post-body-paragraph jr js ht jt b ju ma jd jw jx mb jg jz ka mc kc kd ke md kg kh ki me kk kl km hm dt translated">它用于基于元数据搜索NFTs。这里我们将查看整个元数据集，因此过滤值设置为<code class="eh mo mp mq mg b">global.</code></p><pre class="ko kp kq kr fq mf mg mh mi aw mj dt"><span id="afa6" class="lg lh ht mg b fv mk ml l mm mn">function searchNFTs(req, res, next) {<br/> try {<br/>    const { pageNumber, chain, searchKey } = req.body;<br/>    let cursor = null, count = 1, nfts = [];<br/>    do {<br/>          const options = {<br/>            q: searchKey,<br/>            chain,<br/>            filter: "global",<br/>            limit: 10,<br/>            cursor<br/>          };<br/>          nfts = await Moralis.Web3API.token.searchNFTs(options);<br/>          cursor = nfts.cursor;<br/>          count++;<br/>       } while (count &lt;= pageNumber);<br/>    return nfts;<br/>   } catch (err) {<br/>     console.log(err);<br/>   }<br/> }</span></pre></div><div class="ab cl kz la hb lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hm hn ho hp hq"><h2 id="e039" class="lg lh ht bd li lj lk ll lm ln lo lp lq ka lr ls lt ke lu lv lw ki lx ly lz hz dt translated">谢谢:)</h2><blockquote class="mr"><p id="03ea" class="ms mt ht bd mu mv mw mx my mz na km ek translated">加入Coinmonks <a class="ae nb" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae nb" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="7e6b" class="nc lh ht bd li nd ne nf lm ng nh ni lq ji nj jj lt jl nk jm lw jo nl jp lz nm dt translated">另外，阅读</h1><ul class=""><li id="bd33" class="nn no ht jt b ju ma jx mb ka np ke nq ki nr km ns nt nu nv dt translated"><a class="ae nb" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a> | <a class="ae nb" href="https://coincodecap.com/pionex-review-exchange-with-crypto-trading-bot" rel="noopener ugc nofollow" target="_blank"> Pionex评论</a> | <a class="ae nb" rel="noopener" href="/coinmonks/coinrule-review-2021-a-beginner-friendly-crypto-trading-bot-daf0504848ba"> Coinrule评论</a></li><li id="4d6a" class="nn no ht jt b ju nw jx nx ka ny ke nz ki oa km ns nt nu nv dt translated"><a class="ae nb" rel="noopener" href="/coinmonks/ledger-vs-ngrave-zero-7e40f0c1d694">莱杰vs n rave</a>|<a class="ae nb" rel="noopener" href="/coinmonks/ledger-nano-s-vs-x-battery-hardware-price-storage-59a6663fe3b0">莱杰nano s vs x </a> | <a class="ae nb" rel="noopener" href="/coinmonks/binance-review-ee10d3bf3b6e">币安评论</a></li><li id="1be3" class="nn no ht jt b ju nw jx nx ka ny ke nz ki oa km ns nt nu nv dt translated"><a class="ae nb" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit Exchange评论</a> | <a class="ae nb" href="https://coincodecap.com/bityard-reivew" rel="noopener ugc nofollow" target="_blank"> Bityard评论</a> | <a class="ae nb" href="https://coincodecap.com/jet-bot-review" rel="noopener ugc nofollow" target="_blank"> Jet-Bot评论</a></li><li id="26ea" class="nn no ht jt b ju nw jx nx ka ny ke nz ki oa km ns nt nu nv dt translated"><a class="ae nb" rel="noopener" href="/coinmonks/3commas-vs-pionex-vs-cryptohopper-best-crypto-bot-6a98d2baa203">3 commas vs crypto hopper</a>|<a class="ae nb" rel="noopener" href="/coinmonks/earn-crypto-interest-b10b810fdda3">赚取秘密利息</a></li><li id="a622" class="nn no ht jt b ju nw jx nx ka ny ke nz ki oa km ns nt nu nv dt translated">最好的比特币<a class="ae nb" rel="noopener" href="/coinmonks/hardware-wallets-dfa1211730c6">硬件钱包</a> | <a class="ae nb" rel="noopener" href="/coinmonks/bitbox02-review-your-swiss-bitcoin-hardware-wallet-c36c88fff29"> BitBox02回顾</a></li></ul></div></div>    
</body>
</html>