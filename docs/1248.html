<html>
<head>
<title>Create an Ethereum Wallet in iOS — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iOS中创建以太坊钱包—第2部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/create-an-ethereum-wallet-in-ios-part-2-9cb9baabfd8c?source=collection_archive---------9-----------------------#2022-02-26">https://medium.com/coinmonks/create-an-ethereum-wallet-in-ios-part-2-9cb9baabfd8c?source=collection_archive---------9-----------------------#2022-02-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/5f6623aef25267d6999d9b0e0eb5a66d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NP54wybVglz5TBYhvzox2A.jpeg"/></div></div></figure><p id="78c1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">关于第二部分已经推迟了一段时间，我在过去的6个月里一直很忙，所以让我们直奔主题吧！</p><p id="3fa4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">简要回顾一下，第1部分包括以下主题:</p><div class="jz ka fm fo kb kc"><a rel="noopener follow" target="_blank" href="/coinmonks/create-an-ethereum-wallet-in-ios-part-1-1e2f215226b7"><div class="kd ab ej"><div class="ke ab kf cl cj kg"><h2 class="bd hu fv z el kh eo ep ki er et hs dt translated">在iOS中创建以太坊钱包—第1部分</h2><div class="kj l"><h3 class="bd b fv z el kh eo ep ki er et ek translated">如今，区块链变得越来越受欢迎，在这十年中涌现了许多创业公司和应用程序…</h3></div><div class="kk l"><p class="bd b gc z el kh eo ep ki er et ek translated">medium.com</p></div></div><div class="kl l"><div class="km l kn ko kp kl kq iz kc"/></div></div></a></div><h1 id="90a9" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">帐目</h1><p id="7e36" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">加载现有帐户</p><p id="21e2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">1.输入帐户私钥的十六进制字符串</p><p id="90fd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2.输入12个单词的助记短语</p><p id="279c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">生成、删除和导出账户</p></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><p id="c369" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在第2部分中，我们将讨论以下主题:</p><p id="7afa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">余额</strong></p><p id="6c73" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">显示ETH、DAI和USDC的余额</p><p id="ef51" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">您可以查看第1部分以了解更多关于帐户操作的信息，本文将重点介绍如何在以太坊中显示余额</p></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><p id="e5ff" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">那么，我们开始进入主题吧！</p><h1 id="f078" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">显示ETH余额</h1><p id="a0e2" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">我们知道，ETH是以太坊中的主要令牌，其他20令牌如戴、。两者都存在于以太坊上，你可以认为它们是ETH的一个分支。</p><p id="641e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有关ERC-20令牌的更多信息，可以查看这篇文章</p><div class="jz ka fm fo kb kc"><a href="https://www.investopedia.com/news/what-erc20-and-what-does-it-mean-ethereum/" rel="noopener  ugc nofollow" target="_blank"><div class="kd ab ej"><div class="ke ab kf cl cj kg"><h2 class="bd hu fv z el kh eo ep ki er et hs dt translated">什么是ERC-20，它对以太坊意味着什么？</h2><div class="kj l"><h3 class="bd b fv z el kh eo ep ki er et ek translated">流行的加密货币和区块链系统以太坊是基于代币的使用，代币可以买卖或…</h3></div><div class="kk l"><p class="bd b gc z el kh eo ep ki er et ek translated">www.investopedia.com</p></div></div><div class="kl l"><div class="mb l kn ko kp kl kq iz kc"/></div></div></a></div><p id="cf90" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">简而言之，ERC-20代币在某些方面类似于比特币、莱特币和任何其他加密货币；ERC-20代币是位于区块链的资产，具有价值，可以发送和接收。主要区别在于，ERC-20代币不是在他们的区块链上运行，而是在以太坊网络上发行。</p><p id="422d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们知道整个区块链就像一个巨大的不变的账本。如果要查询余额，首先要知道要查询哪个页面。我们没有页码或书签，但我们有一个钱包地址。根据地址，我们可以在分类账上查找，找到ETH余额。</p><p id="8db7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用Web3库很容易做到这一点，它看起来像:</p><pre class="mc md me mf fq mg mh mi mj aw mk dt"><span id="8c6d" class="ml ks ht mh b fv mm mn l mo mp">func getETHBalance(wallet: Web3Wallet) throws -&gt; String? {</span><span id="3a30" class="ml ks ht mh b fv mq mn l mo mp">  guard let walletAddress = EthereumAddress(wallet.address) else {<br/>    throw Web3ServiceError.noAddress<br/>  }</span><span id="6298" class="ml ks ht mh b fv mq mn l mo mp">  web3.addKeystoreManager(try fetchKeyStoreManager(wallet: wallet))</span><span id="a9bb" class="ml ks ht mh b fv mq mn l mo mp">  let balance = try web3.eth.getBalance(address: walletAddress)</span><span id="6d16" class="ml ks ht mh b fv mq mn l mo mp">  return Web3.Utils.formatToEthereumUnits(<br/>    balance,<br/>    toUnits: .eth, <br/>    decimals: 3<br/>  )<br/>}</span></pre><ul class=""><li id="d605" class="mr ms ht jd b je jf ji jj jm mt jq mu ju mv jy mw mx my mz dt translated">首先，输入是我们想要查询余额的钱包。</li><li id="0c50" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">生成以太坊地址</li><li id="315e" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">获取包含钱包地址的密钥库，并将其添加到web3服务中</li><li id="d3d8" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">Web3服务绑定到提供者，所以我们可以用它来查询余额</li><li id="71ee" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">将余额格式化为ETH单位</li></ul><h1 id="8e8f" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">显示戴和的平衡</h1><p id="8618" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">正如我之前提到的，戴、或其他20代币在以太坊上发行，遵循20技术标准，可以通过智能合约执行。</p><p id="5b92" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">关于智能合约，你可以查看<a class="ae nf" href="https://www.investopedia.com/terms/s/smart-contracts.asp#:~:text=A%20smart%20contract%20is%20a,a%20distributed%2C%20decentralized%20blockchain%20network." rel="noopener ugc nofollow" target="_blank">这篇文章</a>了解更多信息。</p><p id="bd49" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">也许这不是一个超级好的例子，但你可以这样想。这本名为以太坊的大账本有一个叫和戴的章节。</p><p id="2b96" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">智能合同是指导你采取行动的指南。</p><p id="e4e5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">首先，我们首先需要找到节来找到平衡。</p><pre class="mc md me mf fq mg mh mi mj aw mk dt"><span id="7ed5" class="ml ks ht mh b fv mm mn l mo mp">func getERC20Balance(<br/>  wallet: Web3Wallet, <br/>  token: ERC20Token<br/>) throws -&gt; String? {<br/>  guard let walletAddress = EthereumAddress(wallet.address),<br/>        let erc20ContractAddress = EthereumAddress(token.address, ignoreChecksum: true) else {<br/>    throw Web3ServiceError.noAddress<br/>  }</span><span id="9a68" class="ml ks ht mh b fv mq mn l mo mp">  guard let contract = web3.contract(Web3.Utils.erc20ABI, at: erc20ContractAddress, abiVersion: 2) else {<br/>    throw Web3ServiceError.noContract<br/>  }</span><span id="8aa0" class="ml ks ht mh b fv mq mn l mo mp">  web3.addKeystoreManager(try fetchKeyStoreManager(wallet: wallet))</span><span id="7a89" class="ml ks ht mh b fv mq mn l mo mp">  var options = TransactionOptions.defaultOptions</span><span id="8675" class="ml ks ht mh b fv mq mn l mo mp">  options.from = walletAddress</span><span id="4f07" class="ml ks ht mh b fv mq mn l mo mp">  options.gasPrice = .automatic</span><span id="f2e9" class="ml ks ht mh b fv mq mn l mo mp">  options.gasLimit = .automatic</span><span id="ae9b" class="ml ks ht mh b fv mq mn l mo mp">  let tx = contract.read(<br/>    TxMethod.balanceOf.rawValue,<br/>    parameters: [walletAddress] as [AnyObject],<br/>    extraData: Data(),<br/>    transactionOptions: options<br/>  )</span><span id="909f" class="ml ks ht mh b fv mq mn l mo mp">  let tokenBalance = try tx?.call()</span><span id="4b27" class="ml ks ht mh b fv mq mn l mo mp">  guard let balanceBigUInt = tokenBalance?[“0”] as? BigUInt else {<br/>    throw Web3ServiceError.noBalance<br/>  }</span><span id="ab8b" class="ml ks ht mh b fv mq mn l mo mp">  return Web3.Utils.formatToEthereumUnits(<br/>    balanceBigUInt, <br/>    toUnits: .eth, <br/>    decimals: 3<br/>  )</span><span id="22b9" class="ml ks ht mh b fv mq mn l mo mp">}</span></pre><ul class=""><li id="a5ef" class="mr ms ht jd b je jf ji jj jm mt jq mu ju mv jy mw mx my mz dt translated">输入，即我们想要查询余额的钱包和我们想要查询的令牌</li><li id="de32" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">为钱包生成以太坊地址</li><li id="4824" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">为令牌生成以太坊地址，我们将使用它来查找智能合约</li><li id="8f06" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">获取智能合同</li><li id="f875" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">获取包含钱包地址的密钥库，并将其添加到web3服务中</li><li id="40eb" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">阅读合同，从钱包中取出余额</li><li id="86f1" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated">将其格式化为eth单位</li></ul><p id="57e3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们来看看，如果你想展示其他ERC-20代币，你也可以使用类似的方法。</p><p id="7908" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">本文可能还有一些不正确的地方，欢迎指正或与我讨论！</p><p id="c3c9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果你觉得这篇文章有帮助，别忘了给我点掌声。</p><p id="af8b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">快乐编码，享受区块链技术🙂</p><blockquote class="ng nh ni"><p id="ee4f" class="jb jc nj jd b je jf jg jh ji jj jk jl nk jn jo jp nl jr js jt nm jv jw jx jy hm dt translated">如果你想联系我，请随时通过<br/> <a class="ae nf" href="https://twitter.com/calvinchangtw" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae nf" href="https://www.linkedin.com/in/calvin-chang-cc/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>联系我</p></blockquote><p id="649d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">干杯🍻</p><blockquote class="nn"><p id="783d" class="no np ht bd nq nr ns nt nu nv nw jy ek translated">加入Coinmonks <a class="ae nf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae nf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="307b" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc nx le lf lg ny li lj lk nz lm ln lo dt translated">另外，阅读</h1><ul class=""><li id="aede" class="mr ms ht jd b je lp ji lq jm oa jq ob ju oc jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/okex-kucoin" rel="noopener ugc nofollow" target="_blank"> OKEx vs KuCoin </a> | <a class="ae nf" href="https://coincodecap.com/celsius-alternatives" rel="noopener ugc nofollow" target="_blank">摄氏替代品</a> | <a class="ae nf" href="https://coincodecap.com/buy-vechain" rel="noopener ugc nofollow" target="_blank">如何购买VeChain </a></li><li id="7d89" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/profitfarmers-review" rel="noopener ugc nofollow" target="_blank"> ProfitFarmers点评</a> | <a class="ae nf" href="https://coincodecap.com/cornix-trading-bot" rel="noopener ugc nofollow" target="_blank">如何使用Cornix Trading Bot </a></li><li id="bdd1" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/buy-bitcoin-anonymously" rel="noopener ugc nofollow" target="_blank">如何匿名购买比特币</a> | <a class="ae nf" href="https://coincodecap.com/bitcoin-cash-wallets" rel="noopener ugc nofollow" target="_blank">比特币现金钱包</a></li><li id="30c2" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/wazirx-nft-review" rel="noopener ugc nofollow" target="_blank">瓦济里克斯NFT评论</a>|<a class="ae nf" href="https://coincodecap.com/bitsgap-vs-pionex" rel="noopener ugc nofollow" target="_blank">Bitsgap vs Pionex</a>|<a class="ae nf" href="https://coincodecap.com/tangem-wallet-review" rel="noopener ugc nofollow" target="_blank">坦吉姆评论</a></li><li id="cf70" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/create-a-dapp-on-ethereum-using-solidity" rel="noopener ugc nofollow" target="_blank">如何使用Solidity在以太坊上创建DApp？</a></li><li id="8d68" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/binance-vs-ftx" rel="noopener ugc nofollow" target="_blank">币安vs FTX </a> | <a class="ae nf" href="https://coincodecap.com/solana-wallets" rel="noopener ugc nofollow" target="_blank">最佳(SOL)索拉纳钱包</a></li><li id="113b" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" href="https://coincodecap.com/swap-crypto-on-uniswap" rel="noopener ugc nofollow" target="_blank">如何在Uniswap上交换加密？</a> | <a class="ae nf" href="https://coincodecap.com/a-ads-review" rel="noopener ugc nofollow" target="_blank"> A-Ads审核</a></li><li id="53d2" class="mr ms ht jd b je na ji nb jm nc jq nd ju ne jy mw mx my mz dt translated"><a class="ae nf" rel="noopener" href="/coinmonks/cryptocurrency-savings-accounts-be3bc0feffbf">加密货币储蓄账户</a> | <a class="ae nf" rel="noopener" href="/coinmonks/yobit-review-175464162c62"> YoBit评论</a></li></ul></div></div>    
</body>
</html>