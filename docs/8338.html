<html>
<head>
<title>How ENS registration works on the smart contract layer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ENS注册如何在智能合同层上工作</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-ens-registration-works-on-the-smart-contract-layer-f391bf672bab?source=collection_archive---------9-----------------------#2022-06-09">https://medium.com/coinmonks/how-ens-registration-works-on-the-smart-contract-layer-f391bf672bab?source=collection_archive---------9-----------------------#2022-06-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/74f60acea002db1ae669a5a0b0abc517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9olBTMCre7WXmAGS.png"/></div></div></figure><p id="3628" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当从<a class="ae jz" href="https://ens.domains" rel="noopener ugc nofollow" target="_blank"> ENS官方web应用</a>执行ENS注册时，它解析为几个智能合约调用，这些调用实际上在其注册表中注册了名称。</p><p id="0176" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">注册服务商使用两个事务(提交和显示)来注册域名，注册一个域名只需不到5分钟，包括第一个和第二个事务之间的1分钟延迟，以防止抢注。</p><h2 id="b812" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jm kl km kn jq ko kp kq ju kr ks kt ku dt translated"><strong class="ak"> ENS as NFTs </strong></h2><p id="d06f" class="pw-post-body-paragraph jb jc ht jd b je kv jg jh ji kw jk jl jm kx jo jp jq ky js jt ju kz jw jx jy hm dt translated">每个注册的ENS也被铸造为ERC721令牌。eth名称可以作为NFT在交易所交易。</p><p id="9d55" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">也可以使用ENS应用程序或NFT支持的任何工具将它们转移给其他人</p><h2 id="5979" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jm kl km kn jq ko kp kq ju kr ks kt ku dt translated"><strong class="ak">注册人和控制人</strong></h2><p id="9c38" class="pw-post-body-paragraph jb jc ht jd b je kv jg jh ji kw jk jl jm kx jo jp jq ky js jt ju kz jw jx jy hm dt translated">注册人是拥有的帐户。eth名称。他们可以将所有权转移到另一个帐户，并且可以替换控制器地址。注册人是代表该名称的NFT令牌的所有者。</p><p id="e316" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">控制器是控制日常操作的帐户，名称为:创建子域、设置解析器和记录，等等。</p><h2 id="ed46" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jm kl km kn jq ko kp kq ju kr ks kt ku dt translated"><strong class="ak">智能合同执行</strong></h2><p id="6db1" class="pw-post-body-paragraph jb jc ht jd b je kv jg jh ji kw jk jl jm kx jo jp jq ky js jt ju kz jw jx jy hm dt translated">ENS注册的第一部分是调用<em class="la"> ETH注册控制器</em>契约并执行提交事务。该交易仅支付网络费用并建立注册某一ENS的承诺。</p><p id="0621" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">完成承诺事务后，应用程序必须手动运行注册事务。</p><p id="acd3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ENS web app通过从<em class="la">注册控制器</em>中调用函数<em class="la"> Register with Config </em>来实现这一点。该<em class="la">配置</em>作为<em class="la">数据</em>参数与以下字段一起发送:</p><p id="3f5b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="la">名称</em> </strong> <em class="la">(字符串):域名不带’。eth' <br/> </em> <strong class="jd hu"> <em class="la">所有者</em> </strong> <em class="la">(地址):域名所有者地址<br/> </em> <strong class="jd hu"> <em class="la">持续时间</em> </strong> <em class="la"> (uint256):域名将注册多久<br/> </em> <strong class="jd hu"> <em class="la">秘密</em> </strong> <em class="la">(字节32):散列秘密<br/> </em> <strong class="jd hu"> <em class="la">解析器</em> </strong> <em class="la">(地址)</em></p><p id="3a0c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当正确接收到这些参数时，合同通过以下步骤执行注册:</p><ol class=""><li id="c2cc" class="lb lc ht jd b je jf ji jj jm ld jq le ju lf jy lg lh li lj dt translated">注册ENS域[名称]。ENS上的eth for <strong class="jd hu"> x ETH </strong></li><li id="535b" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lg lh li lj dt translated">使用提供的<em class="la">持续时间</em>设置到期日期</li><li id="4704" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lg lh li lj dt translated">将ENS作为ERC721令牌</li><li id="271c" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lg lh li lj dt translated">将令牌转移给所有者</li></ol><h2 id="6c85" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jm kl km kn jq ko kp kq ju kr ks kt ku dt translated">已完成注册:ENS详细信息</h2><p id="2a09" class="pw-post-body-paragraph jb jc ht jd b je kv jg jh ji kw jk jl jm kx jo jp jq ky js jt ju kz jw jx jy hm dt translated">当所有交易确认后，我们可以通过ENS app看到ENS【名称】。eth已注册并显示以下数据:</p><p id="ed56" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">父级:</strong>每个L1 ENS都有<strong class="jd hu"> eth </strong>作为父级。这适用于所有的域名。eth(不适用于子域)。</p><p id="b042" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">注册人:</strong>显示域名注册人和所有者的地址。转让时，该地址会更新为新的所有者。</p><p id="073e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">控制器:</strong>显示域控制器的地址。<em class="la">有关更多详情，请参见注册人和控制人。</em></p><p id="e701" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">有效期:</strong>从注册域名时的持续时间开始设置。</p><p id="314b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">解析器:</strong>显示解析名称的<em class="la">契约</em>的地址，换句话说，它知道ENS指向哪里。</p><h2 id="07ef" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jm kl km kn jq ko kp kq ju kr ks kt ku dt translated">[计]元数据</h2><p id="f5f5" class="pw-post-body-paragraph jb jc ht jd b je kv jg jh ji kw jk jl jm kx jo jp jq ky js jt ju kz jw jx jy hm dt translated">每个ENS都有存储附加数据的能力。<em class="la">控制器</em>地址是唯一被授权更新这些值的地址。</p><p id="86f7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ENS元数据分为3个部分:</p><p id="8949" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">地址:</strong>可以存储不同的钱包地址(针对不同的区块链)。目前，您只能存储一个ETH、BTC、LTC和DOGE地址。</p><p id="ef1f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">内容:</strong>意为一般用途的文本字段存储。</p><p id="a5ac" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">文字记录:</strong>这一段是最有趣的一段。它允许控制器以键值格式存储不同的文本字段。此时，您可以存储以下字段:</p><ul class=""><li id="3dba" class="lb lc ht jd b je jf ji jj jm ld jq le ju lf jy lp lh li lj dt translated">阿凡达</li><li id="6860" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">电子邮件</li><li id="d2fd" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">全球资源定位器(Uniform Resource Locator)</li><li id="2354" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">描述</li><li id="e3f0" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">通知；注意</li><li id="f366" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">关键词</li><li id="618c" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">com .不和谐</li><li id="c951" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">com.githug</li><li id="8f2c" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">com.reddit</li><li id="0fdd" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">com.twitter</li><li id="1f0e" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">组织电报</li><li id="e3b0" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated">以太网代表</li></ul><blockquote class="lq"><p id="0204" class="lr ls ht bd lt lu lv lw lx ly lz jy ek translated">加入Coinmonks <a class="ae jz" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jz" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="1be8" class="ma kb ht bd kc mb mc md kg me mf mg kk mh mi mj kn mk ml mm kq mn mo mp kt mq dt translated">另外，阅读</h1><ul class=""><li id="ddd5" class="lb lc ht jd b je kv ji kw jm mr jq ms ju mt jy lp lh li lj dt translated"><a class="ae jz" href="https://coincodecap.com/wazirx-nft-review" rel="noopener ugc nofollow" target="_blank">瓦济里克斯NFT评论</a>|<a class="ae jz" href="https://coincodecap.com/bitsgap-vs-pionex" rel="noopener ugc nofollow" target="_blank">Bitsgap vs Pionex</a>|<a class="ae jz" href="https://coincodecap.com/tangem-wallet-review" rel="noopener ugc nofollow" target="_blank">坦吉姆评论</a></li><li id="0b10" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated"><a class="ae jz" href="https://coincodecap.com/create-a-dapp-on-ethereum-using-solidity" rel="noopener ugc nofollow" target="_blank">如何使用Solidity在以太坊上创建DApp？</a></li><li id="714e" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated"><a class="ae jz" href="https://coincodecap.com/binance-vs-ftx" rel="noopener ugc nofollow" target="_blank">币安vs FTX </a> | <a class="ae jz" href="https://coincodecap.com/solana-wallets" rel="noopener ugc nofollow" target="_blank">最佳(索尔)索拉纳钱包</a></li><li id="0255" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated"><a class="ae jz" href="https://coincodecap.com/swap-crypto-on-uniswap" rel="noopener ugc nofollow" target="_blank">如何在Uniswap上交换加密？</a> | <a class="ae jz" href="https://coincodecap.com/a-ads-review" rel="noopener ugc nofollow" target="_blank"> A-Ads评论</a></li><li id="21ce" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/cryptocurrency-savings-accounts-be3bc0feffbf">加密货币储蓄账户</a> | <a class="ae jz" rel="noopener" href="/coinmonks/yobit-review-175464162c62"> YoBit审核</a></li><li id="22f3" class="lb lc ht jd b je lk ji ll jm lm jq ln ju lo jy lp lh li lj dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/botsfolio-vs-napbots-vs-mudrex-c81344970c02">Botsfolio vs nap bots vs Mudrex</a>|<a class="ae jz" rel="noopener" href="/coinmonks/gate-io-exchange-review-61bf87b7078f">gate . io交流回顾</a></li></ul></div></div>    
</body>
</html>