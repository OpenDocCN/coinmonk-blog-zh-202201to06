<html>
<head>
<title>Production Contract Security — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生产合同安全性—第1部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/production-contract-security-part-1-81583b7bde75?source=collection_archive---------24-----------------------#2022-05-11">https://medium.com/coinmonks/production-contract-security-part-1-81583b7bde75?source=collection_archive---------24-----------------------#2022-05-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/531e497a0a384d272fc4ea8ee352aa57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XMPvZp9BUt3dWLuyVTCZAQ.jpeg"/></div></div></figure><div class=""/><p id="f7b3" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">恭喜你！您刚刚在mainnet上部署了您的第一个智能合同，您的平台即将推出。当你在发布会后解开你的飞人乔丹鞋时，你的脑海中有一个挥之不去的想法。</p><figure class="jz ka kb kc fq hv"><div class="bz el l di"><div class="kd ke l"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">mordor is out to get your keys</figcaption></figure><h1 id="4c42" class="kj kk ie bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">问题是</h1><p id="39cb" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lj jo jp jq lk js jt ju ll jw jx jy hm dt translated">智能合约安全性有两个主要方面。第一个也可能是最重要的是<strong class="jd if">代码</strong>本身及其对安全编码标准的坚持，这些标准是通过多年来的许多攻击痛苦地学习来的。另一个关键方面是智能合约<strong class="jd if">所有权</strong>，这将是本文的重点。</p><p id="0ca3" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">由于我一直在这个领域工作，我注意到许多项目在如何处理合同的所有权和事务管理方面存在一个问题。这是关于使用行业最佳实践保护您的智能合约部署的系列文章的第一部分。本文将集中讨论multisigs的使用，以及为什么它们对项目的安全性和可信度很重要。</p><p id="bc5d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">像一个优秀的长老会教徒一样，我将提交multisig有助于解决的3个关键风险</p><ul class=""><li id="d837" class="lm ln ie jd b je jf ji jj jm lo jq lp ju lq jy lr ls lt lu dt translated"><strong class="jd if">所有权风险</strong> —您的组织将失去合同使用权的风险。</li><li id="82b1" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated"><strong class="jd if">资产风险</strong> —你的合同没有保障，合同所拥有的资产可以被拿走的风险。</li><li id="3f6e" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated"><strong class="jd if">声誉风险</strong> —您的项目被负面看待的风险</li></ul></div><div class="ab cl ma mb hb mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hm hn ho hp hq"><blockquote class="mh"><p id="78e8" class="mi mj ie bd mk ml mm mn mo mp mq jy ek translated"><em class="mr">交易新手？试试</em> <a class="ae ms" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"> <em class="mr">密码交易机器人</em> </a> <em class="mr">或者</em> <a class="ae ms" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c"> <em class="mr">复制交易</em> </a></p></blockquote><h1 id="0df0" class="kj kk ie bd kl km kn ko kp kq kr ks kt ku mt kw kx ky mu la lb lc mv le lf lg dt translated">什么是多重信号</h1><p id="45cd" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lj jo jp jq lk js jt ju ll jw jx jy hm dt translated">A <code class="eh mw mx my mz b">multisig</code>是部署到区块链的智能合约钱包，它可以拥有其他合约，并以其所有者的身份以提升的访问权限执行功能。顾名思义，在执行给定的交易之前，它需要其他账户开绿灯或<code class="eh mw mx my mz b">signing</code>的协调。multisig已经使用了一段时间，他们自己也成为了攻击的目标——特别是奇偶校验multi SIG——已经被黑客攻击了数百万次。如今市场上有几款multisigs，但最突出的是<code class="eh mw mx my mz b">Gnosis Safe</code>。</p><p id="87f9" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在以后的文章中，我们将探索Gnosis Safe产品，但是现在我们只讨论概念。</p></div><div class="ab cl ma mb hb mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hm hn ho hp hq"><h1 id="cacd" class="kj kk ie bd kl km nb ko kp kq nc ks kt ku nd kw kx ky ne la lb lc nf le lf lg dt translated">所有权风险</h1><p id="ffb4" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lj jo jp jq lk js jt ju ll jw jx jy hm dt translated">假设你正在开发一个NFT项目，你已经写好了所有的测试，并且觉得代码是安全的，可以发布了。你通过你最喜欢的方式(安全帽、松露等)部署代码，现在你已经为你的薄荷准备好了。</p><ul class=""><li id="ff79" class="lm ln ie jd b je jf ji jj jm lo jq lp ju lq jy lr ls lt lu dt translated">如果您或其他人不小心将部署私钥提交/推送到您的repo，会发生什么情况？这种情况已经发生了很多——比你想象的还要多。</li><li id="68df" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated">您使用部署帐户部署合同，并将所有权转移到公司拥有的分类帐。如果那个人离开了，丢失了他们的账本，或者更糟——它的种子阶段——该怎么办？</li></ul><p id="efcf" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">multisig允许可信的签名者联盟与NFT上的敏感功能进行交互，比如更改baseURI或其他细节。这里的基本思想是将NFT契约的所有权交给multisig，并为其他签名者创建可以加密签名的<code class="eh mw mx my mz b">proposals</code>。multisig将有一个可配置的最低签名人数，一旦达到该人数，拟议的交易将由multisig自己执行。这意味着没有一个人拥有NFT的所有权，它与治理配合得很好，因为提案是公开的，全世界都可以看到。</p></div><div class="ab cl ma mb hb mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hm hn ho hp hq"><h1 id="6cea" class="kj kk ie bd kl km nb ko kp kq nc ks kt ku nd kw kx ky ne la lb lc nf le lf lg dt translated">资金风险</h1><p id="6756" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lj jo jp jq lk js jt ju ll jw jx jy hm dt translated">世界上最好的程序员也会犯错。最重要的是，所有的契约都是公开的，所以有很多人关注它们的代码。有些观众是好奇，想投资，或者是恶意的。在恶意浏览者的情况下，他们会利用你的合同来获取价值，或者干脆破坏你的项目。如果你的合同收到了资金，就像大多数NFT或defi项目的情况一样，你将向潜在的攻击者展示一个蜜罐。无论是对oracle和flash loan攻击的精心策划的攻击，还是简单的可重入黑客攻击，将大量资金留在一份有很大攻击面的合同上是没有意义的。</p><p id="c952" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">multisig可以为您的onchain资金提供一个安全的避风港，因为它是在这一点上建立的。我们编写的许多自定义智能合约都是为了支持某个应用程序或功能而构建的，并没有考虑安全性。这没有错，但是智能合约越复杂，它的攻击面就越大。作为应用程序或NFT合同的所有者，multisig可以提取多余的资金并保持其安全，直到需要部署为止。</p><h1 id="6f79" class="kj kk ie bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">声誉风险</h1><p id="1fdd" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lj jo jp jq lk js jt ju ll jw jx jy hm dt translated">并不是每个人都关注底层的契约代码，但是有相当多的伪安全社会影响者可以在你的项目开始之前就毁掉它。如果这些<code class="eh mw mx my mz b">experts</code>中的一个看了你的合同，注意到它不是由一个multisig拥有的，而是一个有柴犬购买和随机tx历史的地址，他们会欺骗你。这不是个人问题，这是他们如何参与的问题。老实说，你应该更清楚。</p><figure class="jz ka kb kc fq hv"><div class="bz el l di"><div class="kd ke l"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">security influencers</figcaption></figure><p id="b165" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下是其他一些帮助你降低公共合同声誉风险的建议</p><ul class=""><li id="e1a6" class="lm ln ie jd b je jf ji jj jm lo jq lp ju lq jy lr ls lt lu dt translated">使用多重信号</li><li id="3fc4" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated">使用ENS将multisig映射到您的组织，即。<em class="na"> coolnfts.eth </em></li><li id="7457" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated">向您的multisig中添加至少3个签名者，提案需要获得多数支持才能通过</li><li id="c70d" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated">为您组织的签名者使用ENS子域名。<em class="na"> bill.coolnfts.eth </em></li><li id="8d9d" class="lm ln ie jd b je lv ji lw jm lx jq ly ju lz jy lr ls lt lu dt translated">让可信的第三方签名者参与进来——有些人不信任只有公司内部签名者的多重签名</li></ul><p id="afce" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">请注意，我们将在以后的文章中探讨ENS(以太坊名称服务)以及如何使用它们。</p><h1 id="e46c" class="kj kk ie bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated"><strong class="ak">收尾</strong></h1><p id="69ad" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lj jo jp jq lk js jt ju ll jw jx jy hm dt translated">我希望这篇文章很好地总结了multisigs可以为您减少项目风险做些什么。在接下来的文章中，我们将探索一个示例项目，一步一步地完成所有的事情，并介绍一些工具来简化事情。如果你理解了这篇文章中的概念，没有什么可以阻止你在Rinkeby上试验并证明这些概念。愉快的旅程！</p></div></div>    
</body>
</html>