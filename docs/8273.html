<html>
<head>
<title>Storage Vs Memory in Solidity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">存储与存储的稳固性</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/storage-vs-memory-in-solidity-ac95ff6c628?source=collection_archive---------15-----------------------#2022-06-08">https://medium.com/coinmonks/storage-vs-memory-in-solidity-ac95ff6c628?source=collection_archive---------15-----------------------#2022-06-08</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/></div><div class="ab cl iq ir hb is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hm hn ho hp hq"><p id="033b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">大家好，我非常兴奋地分享我的第一篇关于媒体的文章。这是我的一些情况。我是Shahir Zain，我毕业于计算机科学领域，我自称是一名技术爱好者，从第一天起，我就一直参与尖端技术。我攻读了计算机视觉的纳米学位，我喜欢编写与网络应用或人工智能相关的代码。我刚刚开始探索区块链技术，所以我在这里写了一篇全新的文章。</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="fe ff jw"><img src="../Images/4ac9171bdb555519197db3d24de8358b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dsXjhldTuLJjOyp8gxxABA.jpeg"/></div></div></figure><p id="1b58" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在固体中，有两种类型的变量。</p><ul class=""><li id="0ec0" class="ki kj ht iz b ja jb je jf ji kk jm kl jq km ju kn ko kp kq dt translated">态变数</li><li id="93bc" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">记忆变量</li></ul><blockquote class="kw kx ky"><p id="7914" class="ix iy kz iz b ja jb jc jd je jf jg jh la jj jk jl lb jn jo jp lc jr js jt ju hm dt translated">态变数</p></blockquote><p id="7b4a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">合同的状态变量存储在存储器中(区块链)。你可以把它比作数据库，它将永远保存在区块链中。状态变量的值总是存储在协定存储中。存储变量不能在创建合同时实际创建的函数执行期间创建。状态变量在合同级别定义，例如，如下所示:</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="fe ff ld"><img src="../Images/b887ddc50192e2fc3a2b568329946589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_GnBjRW_K9ai2Uj2rEdwQ.png"/></div></div></figure></div><div class="ab cl iq ir hb is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hm hn ho hp hq"><h1 id="3f4d" class="le lf ht bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">状态变量如何存储在区块链中</h1><p id="ffde" class="pw-post-body-paragraph ix iy ht iz b ja mc jc jd je md jg jh ji me jk jl jm mf jo jp jq mg js jt ju hm dt translated">状态变量总是以紧凑的方式存储，使得多个值有时使用同一个存储槽。除了<strong class="iz hu">动态调整大小的数组和映射</strong>。数据是按顺序存储的。对于每个变量，以字节为单位的大小由其类型决定。如果可能的话，需要少于32字节的多个连续项目被打包到单个存储槽中。</p><blockquote class="kw kx ky"><p id="f5eb" class="ix iy kz iz b ja jb jc jd je jf jg jh la jj jk jl lb jn jo jp lc jr js jt ju hm dt translated">如何将槽分配给变量？</p></blockquote><ul class=""><li id="bf54" class="ki kj ht iz b ja jb je jf ji kk jm kl jq km ju kn ko kp kq dt translated">存储槽中的第一项按低位对齐存储。</li><li id="83bd" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">值类型使用必要的字节来存储值。</li><li id="b51f" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">如果值类型不适合存储槽的剩余部分，则将使用下一个存储槽。</li><li id="f7d1" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">结构和数组数据总是开始一个新的槽，并且它们的项根据这些规则紧密打包。</li><li id="e5e0" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">结构或数组数据后面的项总是开始一个新的存储槽。</li></ul><h1 id="b53e" class="le lf ht bd lg lh mh lj lk ll mi ln lo lp mj lr ls lt mk lv lw lx ml lz ma mb dt translated">固体中的记忆变量</h1><p id="13af" class="pw-post-body-paragraph ix iy ht iz b ja mc jc jd je md jg jh ji me jk jl jm mf jo jp jq mg js jt ju hm dt translated">内存变量是在协定初始化时创建的运行时变量，它保存运行时的函数参数和数据，并在执行后被清除。它不像状态变量那样消耗任何气费。内存变量最适合中间计算。下面给出了一个内存变量的例子:</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="fe ff mm"><img src="../Images/e9c408ce10e891da55dfdde5c424e86f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZQ1dxIRGUL7rugOvZOpyw.png"/></div></div></figure><p id="d630" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">一些要点:</p><ul class=""><li id="3263" class="ki kj ht iz b ja jb je jf ji kk jm kl jq km ju kn ko kp kq dt translated">每当我们将一个存储变量分配给内存变量<strong class="iz hu">时，新的内存将被分配</strong>，数据将从存储器复制到内存。</li><li id="aec8" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">当我们将内存变量复制到存储变量<strong class="iz hu">时，将不会分配新的存储空间。</strong>因为存储是在创建合同时分配的。</li><li id="c357" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated">我们可以改变存储变量，但不能分配新的存储，因为所有存储变量都是预先分配的，不能更改。</li></ul><p id="dc84" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我没有涵盖所有的概念，但对于刚开始学习可靠性的人来说，这可能是一个好的开始。</p><p id="9b84" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">就这样，伙计们！希望对你来说是本好书。谢谢大家！✨</p><p id="6fda" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">👉联系我:shahirzain100@gmail.com</p><p id="8c18" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">👉关注我:<a class="ae jv" href="https://github.com/ShahirZain" rel="noopener ugc nofollow" target="_blank">GitHub</a>T2】LinkedIn</p><blockquote class="mn"><p id="9593" class="mo mp ht bd mq mr ms mt mu mv mw ju ek translated">加入Coinmonks <a class="ae jv" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jv" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="8103" class="le lf ht bd lg lh mh lj lk ll mi ln lo lp mx lr ls lt my lv lw lx mz lz ma mb dt translated">另外，阅读</h1><ul class=""><li id="554a" class="ki kj ht iz b ja mc je md ji na jm nb jq nc ju kn ko kp kq dt translated"><a class="ae jv" href="https://coincodecap.com/passive-income-crypto-lending" rel="noopener ugc nofollow" target="_blank">如何开始通过加密贷款赚取被动收入</a></li><li id="a7bb" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated"><a class="ae jv" rel="noopener" href="/coinmonks/cryptocurrency-savings-accounts-be3bc0feffbf">加密货币储蓄账户</a> | <a class="ae jv" href="https://coincodecap.com/best-crypto-trading-bots" rel="noopener ugc nofollow" target="_blank">加密交易机器人</a></li><li id="1f27" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated"><a class="ae jv" rel="noopener" href="/coinmonks/bigone-exchange-review-64705d85a1d4"> BigONE交易所评论</a> | <a class="ae jv" href="https://coincodecap.com/cex-io-review" rel="noopener ugc nofollow" target="_blank"> CEX。IO审查</a> | <a class="ae jv" rel="noopener" href="/coinmonks/swapzone-review-crypto-exchange-data-aggregator-e0ad78e55ed7">交换区审查</a></li><li id="c4f5" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated"><a class="ae jv" rel="noopener" href="/coinmonks/bitcoin-margin-trading-exchange-bcbfcbf7b8e3">最佳比特币保证金交易</a> | <a class="ae jv" href="https://coincodecap.com/bityard-margin-trading" rel="noopener ugc nofollow" target="_blank">比特币保证金交易</a></li><li id="b0e6" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated"><a class="ae jv" rel="noopener" href="/coinmonks/crypto-margin-trading-exchanges-428b1f7ad108">加密保证金交易交易所</a> | <a class="ae jv" rel="noopener" href="/coinmonks/earn-bitcoin-6e8bd3c592d9">赚取比特币</a></li><li id="36c7" class="ki kj ht iz b ja kr je ks ji kt jm ku jq kv ju kn ko kp kq dt translated"><a class="ae jv" rel="noopener" href="/coinmonks/wazirx-vs-coindcx-vs-bitbns-149f4f19a2f1">WazirX vs CoinDCX vs bit bns</a>|<a class="ae jv" rel="noopener" href="/coinmonks/blockfi-vs-coinloan-vs-nexo-cb624635230d">block fi vs coin loan vs Nexo</a></li></ul></div></div>    
</body>
</html>