<html>
<head>
<title>Upgrading Smart Contract (Proxy)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">升级智能合同(代理)</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/upgrading-smart-contract-proxy-657be91c2557?source=collection_archive---------52-----------------------#2022-06-21">https://medium.com/coinmonks/upgrading-smart-contract-proxy-657be91c2557?source=collection_archive---------52-----------------------#2022-06-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="876d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们先来了解一下为什么有人想要升级他们的智能合同？这个问题的答案很简单，创作者可能希望在合同中添加一些新功能，就像我们都收到通知，更新我们手机的软件以获得新功能。其次，如果智能合约被黑客攻击，或者甚至有一个bug，这可能是有帮助的。</p><p id="2851" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可能会认为我们可以部署一个全新的升级合同，但是部署一个新的合同将再次花费你大量的天然气费用，而且我们的合同地址也会改变，因为我们可能会失去与以前的智能合同相关的客户。</p><blockquote class="jo jp jq"><p id="9192" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hm dt translated">交易新手？试试<a class="ae jv" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或者<a class="ae jv" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><p id="0a49" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">如何升级？</strong></p><p id="6f86" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Openzeppelin升级插件用于修改智能合同的代码，同时保留它们的地址、状态和余额。</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="fe ff jw"><img src="../Images/c97b1599d8100d92d748fdd569962a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7piWSOUz6JZ7BsOARKAVtQ.png"/></div></div></figure><p id="a4e0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当您使用deployProxy部署协定时，该协定实例可以在以后升级。</p><p id="d5e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">只有最初部署合同的地址有权升级它。</p><p id="83c8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">不变性真的会受到影响吗？</p><p id="043e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果我们看到这个过程，我们就会明白，我们既不能直接在我们的版本1契约中修改值，也不能在版本2契约中修改值。这就像我们已经聘请了代理管理合同，谁是调用基于需求的合同，并作出改变。</p><p id="99ed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">通过<strong class="is hu">实现契约</strong>使用逻辑</p><p id="39cf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">状态通过<strong class="is hu">代理契约</strong>使用</p></div></div>    
</body>
</html>