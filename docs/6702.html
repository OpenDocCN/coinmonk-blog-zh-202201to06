<html>
<head>
<title>Adventures in Running a Bitcoin Lightning Node — Part 1: The Awakening…</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">运行比特币闪电节点的冒险——第1部分:觉醒…</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/adventures-in-running-a-bitcoin-lightning-node-part-1-the-awakening-61345585acc3?source=collection_archive---------0-----------------------#2022-05-13">https://medium.com/coinmonks/adventures-in-running-a-bitcoin-lightning-node-part-1-the-awakening-61345585acc3?source=collection_archive---------0-----------------------#2022-05-13</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/65f4be988ba04930e1ff43b77fa46705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K_ndq-avnPiPuUji"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/@astro_nic25?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nick Owuor (astro.nic.visuals)</a> on <a class="ae jf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8006" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt ke translated"><span class="l kf kg kh bm ki kj kk kl km di"> R </span> <em class="kn">运行比特币闪电节点..</em>。自2019年以来，我一直在考虑这个想法，但由于各种原因，我多次放弃了它。直到2022年3月底，那次雷击终于把我抓住了！</p><p id="949d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在下面的文章中(可能还会有更多)，我想分享学习的心得和经验。相信我，几周后我可以告诉你:<strong class="ji hu">操作一个闪电节点是另一个全新的兔子洞！</strong></p><h1 id="9187" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">但是首先要做的是:一些免责声明</h1><ul class=""><li id="05c0" class="lm ln ht ji b jj lo jn lp jr lq jv lr jz ls kd lt lu lv lw dt translated">以上都是我的个人观点！</li><li id="66d2" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">这绝对不是投资建议！做你自己的研究，只投资你能努力在闪电中失去的东西！这项技术仍处于早期和试验阶段。</li><li id="8a5c" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">我假设你对比特币和闪电网络有基本的了解。外面有大量的好材料。研究一下！</li><li id="2b74" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">运行闪电节点有许多不同的目标，根据不同的目标，某些方面可能比其他方面更有趣。阅读时要牢记这一点。</li></ul><h1 id="5916" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">我决定摆弄闪电节点的五个理由？</h1><ol class=""><li id="d398" class="lm ln ht ji b jj lo jn lp jr lq jv lr jz ls kd mc lu lv lw dt translated"><a class="ae jf" href="https://en.wikipedia.org/wiki/Lightning_Network" rel="noopener ugc nofollow" target="_blank">闪电网络</a>作为在<a class="ae jf" href="https://en.wikipedia.org/wiki/Bitcoin" rel="noopener ugc nofollow" target="_blank">比特币</a>之上的第二层技术，从第一天起就让我着迷:提高可扩展性的潜力&amp;隐私、支付渠道背后优雅的博弈论以及支付渠道网络的新兴效应。一个神奇的汤，一个数学，优化&amp;支付书呆子渴望的所有成分！</li><li id="5846" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">Rene Pickhardt 和Stefan Richter 撰写的研究论文<a class="ae jf" href="https://arxiv.org/abs/2107.05322" rel="noopener ugc nofollow" target="_blank">T11】最优可靠&amp;闪电网络上的廉价支付流</a>向我展示了解决具有挑战性的网络流问题可以带来更可靠的支付，并激励我更好地理解闪电网络上的支付流。</li><li id="51a4" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">直到几周前，我对lightning背后的理论有了一个比较好的了解，并非常松散地跟踪了代码和实现中的实际实现。关注并参与<a class="ae jf" href="https://lists.linuxfoundation.org/pipermail/lightning-dev/" rel="noopener ugc nofollow" target="_blank"> lightning dev邮件列表</a>上的讨论让我了解到，我在实践中几乎不了解lightning。这需要改变！</li><li id="1496" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">我是Raspberry Pi的超级粉丝，多年来一直在玩和操作它们，用于各种用例。在它上面运行一个闪电节点看起来非常合适！在网上商店的货架上有一个<a class="ae jf" href="https://shop.fulmo.org/" rel="noopener ugc nofollow" target="_blank"> Raspiblitz </a>,只需点击几下鼠标，这实在是太诱人了…</li><li id="0d0c" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">最后，当然…我也很好奇运行一个闪电节点是否可以盈利(至少在硬件成本、电力、学习和维护时间之后)。</li></ol></div><div class="ab cl md me hb mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hm hn ho hp hq"><h1 id="d6f0" class="ko kp ht bd kq kr mk kt ku kv ml kx ky kz mm lb lc ld mn lf lg lh mo lj lk ll dt translated">好了，介绍够了…让我们来看看本质吧！</h1><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="mt mu l"/></div></figure><h1 id="2d13" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">1.装置</h1><p id="1790" class="pw-post-body-paragraph jg jh ht ji b jj lo jl jm jn lp jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd hm dt ke translated"><span class="l kf kg kh bm ki kj kk kl km di">事情比我想象的要顺利得多，只用了几个小时！是的，我已经有一些Pis和Raspiblitz的经验，设置是绝对容易的，特别是因为硬件已经准备好了，SDD有一个预同步的区块链(否则计划几天/几周同步…)。</span></p><figure class="mp mq mr ms fq iu fe ff paragraph-image"><div class="fe ff my"><img src="../Images/1fa3afb490a8a54f5d498744dad05223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*7NU0wKAJJVEXWxYChnQJQg.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Raspiblitz v1.7.2 from FULMOShop</figcaption></figure><p id="0045" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">安装非常符合官方的Raspiblitz指南。对于说德语的人，我也强烈推荐以下两个Raspiblitz设置视频(第1部分和第2部分):</p><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="mz mu l"/></div></figure><p id="8b70" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">通常但重要的提醒:<strong class="ji hu">确保安全存储lightning wallet的种子短语和管理您的lightning node和Raspberry Pi的密码！</strong></p><h1 id="c43c" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">2.配置</h1><p id="e4a9" class="pw-post-body-paragraph jg jh ht ji b jj lo jl jm jn lp jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd hm dt ke translated">配置相当简单，也就几个小时的事情。我花了一些时间来熟悉Raspiblitz菜单和可用选项。基本组件包括:</p><ol class=""><li id="6194" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated">比特币节点:不需要特定的配置，默认设置就可以了。</li><li id="6b7e" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">lightning node:与lightning网络守护进程<code class="eh nd ne nf ng b">lnd</code>一起运行绝对值得关注和配置。定义你的别名，也许重新定义你的节点的颜色，设置默认的费用设置等等都在文件<code class="eh nd ne nf ng b">/mnt/hdd/lnd/lnd.conf</code>中完成</li><li id="077a" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">Tor:如果你没有一个静态的IP地址，你的lightning节点是可以到达的，那么这非常方便。此外，对OpSec的总体建议也不错。没有做任何自定义设置，只是用默认值滚动。</li></ol><p id="1b55" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">Raspiblitz附带了一组有用的工具，可以额外安装，值得探索，以后会变得必不可少:</p><ol class=""><li id="42f3" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated"><a class="ae jf" href="https://thunderhub.io/" rel="noopener ugc nofollow" target="_blank"> ThunderHub </a>:这个应用成为我最喜欢的管理和监控我的lightning node的工具。特别是用于观察信道状态、手动管理信道费用以及用于分析路由转发和获得的sat。唯一恼人的事情:它只显示短频道id，至少我还没有找到一种方法来显示完整的频道id(下面需要另一个重新平衡工具)。</li><li id="ac05" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated"><a class="ae jf" href="https://github.com/Ride-The-Lightning/RTL" rel="noopener ugc nofollow" target="_blank">乘坐闪电</a> (RTL):另一个用于管理和监控的有用应用，但与ThunderHub相比感觉更笨重。但是在那里你可以找到完整的频道id。</li><li id="bbde" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated"><a class="ae jf" href="https://mempool.space/de/" rel="noopener ugc nofollow" target="_blank"> Mempool </a>:一个直接附加到你的比特币满节点的比特币浏览器！非常方便地观察新闪电通道的资金交易的链上交易费用，而不依赖于互联网上的外部来源。</li><li id="d0b8" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">非常有用的命令行来管理lnd和重新平衡你的通道。对于打开与另一个节点的双资助通道也非常有用(尚未尝试)。</li><li id="7fe7" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">当然，在你启动之前，<strong class="ji hu">确保备份你的渠道</strong>并确保你的流动资金部署到他们那里！Raspiblitz的一个非常好的功能是，你可以<a class="ae jf" href="https://github.com/rootzoll/raspiblitz#lnd-staticchannelbackup-on-nextcloud" rel="noopener ugc nofollow" target="_blank">在nextcloud上激活自动加密的LND StaticChannelBackup，</a>它将保护你的<code class="eh nd ne nf ng b">channel.backup</code> of <code class="eh nd ne nf ng b">lnd</code>，这是你的种子短语旁边需要的，以收回你的渠道资金。因为我有一个运行在另一个Raspberry Pi上的nextcloud，所以这种配置是轻而易举的！</li></ol><h1 id="39e1" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">3.新生节点和第一个通道</h1><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="nh mu l"/></div></figure><p id="6206" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">所以，现在变得非常有趣了。我原本以为安装和配置将是最重要的，但我完全错了！一旦我完成了安装和配置设置，我意识到，我没有真正的线索，如何引导我的闪电节点，并把它带到我想要的目的:路由闪电支付！</p><p id="7bc3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在我做了一件事后后悔的事情:我发现了<code class="eh nd ne nf ng b">lnd</code>自动驾驶功能并激活了它<strong class="ji hu">，而没有在<code class="eh nd ne nf ng b">lnd.conf</code>内</strong>正确检查它的相关配置参数。它立即采取行动，打开了几个大通道，分配了我可用的境外流动性的很大一部分。<strong class="ji hu">所以，我建议你在摆弄它之前，先好好检查一下自动驾驶仪的配置！我打算以后再来看这个特性，但是现在我放弃了它。</strong></p><p id="4533" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在那之后，我打开了一些我支持并想与之交易的个人和企业节点的渠道。然而，在那之后的2-3天没有发生任何事情，我意识到一个相当明显的教训，但其意义你只有在实践中才能体会到:<strong class="ji hu">没有任何流入的流动性(或你通过它支付)，你的渠道上永远不会发生任何事情</strong>！</p><p id="ae8d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">好了，现在是时候对如何让闪电节点发挥作用进行更详细的研究了！</p><h1 id="8cd8" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">4.探索闪电宇宙的入站流动性以及如何互联</h1><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="ni mu l"/></div></figure><p id="b95e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我的研究首先集中在如何建立通道上，但是我意识到有一整个宇宙的工具和方法在那里来构造混乱和定位你自己。我完全是空白的，被已经存在的东西吹走了:</p><ol class=""><li id="4460" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated">首先，我偶然发现了<a class="ae jf" href="https://yalls.org/network/" rel="noopener ugc nofollow" target="_blank">Y ' all</a>，你可以听到一些发生在闪电宇宙中的重要八卦信号。</li><li id="c467" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">接下来，我遇到了<a class="ae jf" href="https://terminal.lightning.engineering/#/" rel="noopener ugc nofollow" target="_blank">闪电终端</a>，并用它作为宇宙中心的方位点，用什么样的度量来测量它，以及我的节点位于哪里(远在宇宙的外缘，没有任何分类)</li><li id="17d3" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">我用<a class="ae jf" href="https://lnrouter.app/graph" rel="noopener ugc nofollow" target="_blank"> LnRouter </a>的图形渲染来观察网络</li><li id="c49a" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">并且了解到有很牛逼的工具可以获得对你或者其他节点的洞察:<a class="ae jf" href="https://amboss.space" rel="noopener ugc nofollow" target="_blank"> Amboss Space </a>和<a class="ae jf" href="https://1ml.com/" rel="noopener ugc nofollow" target="_blank"> 1ML </a>。</li><li id="ecdf" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">是的:获得流入流动性的方法多种多样:</li></ol><ul class=""><li id="b65c" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd lt lu lv lw dt translated">请你的闪电社区的人来连接</li><li id="454a" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">通过你的渠道用你的sat买点东西，把流出的转化成流入的流动性</li><li id="dc22" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">打开到节点的信道，然后打开信道。</li><li id="cf70" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">从各种渠道购买渠道和流入的流动性:LNBig、Yalls、Amboss Magma等</li><li id="461e" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">与<a class="ae jf" href="https://lightningnetwork.plus/" rel="noopener ugc nofollow" target="_blank">闪电网络+ </a>和<a class="ae jf" href="https://satoshiradio.nl/ringoffire/" rel="noopener ugc nofollow" target="_blank">火圈</a>上的其他节点(三角形或更大的“环”，如A-&gt;B-&gt;C-&gt;A)一起参与循环通道设置。我真的很喜欢这个想法，以获得入站流动性，并获得“翻倍”的容量。</li><li id="b703" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">与其他节点的双基金渠道(也是您的节点容量的“两倍”)</li></ul><p id="d6a4" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我尝试了上面的大部分方法，并用新收集的知识组合了建立有意义的联系的第一个策略:</p><ol class=""><li id="9abf" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated">使用<a class="ae jf" href="https://terminal.lightning.engineering/#/" rel="noopener ugc nofollow" target="_blank">闪电终端</a>和<a class="ae jf" href="https://amboss.space" rel="noopener ugc nofollow" target="_blank"> Amboss空间</a>来识别一个节点是否是好节点，是否是sink/source/router类型。</li><li id="89b3" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">使用<a class="ae jf" href="https://lnnodeinsight.com/" rel="noopener ugc nofollow" target="_blank"> LNnodeinsight </a>及其信道模拟器来确定该节点是否适合您的节点。</li></ol><h1 id="5d80" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">5.保持平衡</h1><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="nj mu l"/></div></figure><p id="c4c5" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">同样，对我来说，关于路由、渠道平衡和费用收入的最重要的教训之一是(从字面上看，你的sat就像上面摆着的荷马的甜甜圈):</p><ol class=""><li id="6688" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated">你只能为即将离任的前锋赢得sat！</li><li id="359b" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">因此，对于外向远期交易，你需要在外向渠道中有足够的sat流动性</li><li id="2ee6" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">进入渠道的同行方有足够的流动性。</li><li id="d6e2" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">因此，为了以任何可能的方向进行支付，需要在渠道双方之间充分平衡流动性，例如50:50。</li></ol><p id="a49b" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在，在第一个通道建立后给一些时间(耐心点！)，首先路由/转发最终会发生。当你在ThunderHub中得到你的第一个转发通知的惊人时刻！</p><p id="5994" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">但是最近，你需要制定一个策略来平衡你的渠道。当你对自己的渠道行为、活跃程度以及同行的收费策略有所了解时，像<a class="ae jf" href="https://github.com/C-Otto/rebalance-lnd" rel="noopener ugc nofollow" target="_blank"> rebalance-lnd </a>这样的再平衡工具是一个很好的平衡渠道的方法，不需要付出什么，只需要回报自己(减去交易费)。</p><p id="1e07" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae jf" href="https://c-otto.de/" rel="noopener ugc nofollow" target="_blank"> Carsten Otto </a>(运营十大路由节点之一)开发了<a class="ae jf" href="https://github.com/C-Otto/rebalance-lnd" rel="noopener ugc nofollow" target="_blank"> rebalance-lnd </a>，这是一个复杂的Python脚本，用于重新平衡闪电通道，同时也考虑了重新平衡的经济权衡。它允许您将一个具有高流出流动性的渠道A重新平衡到一个具有高流入流动性的渠道B，并确保它仅在您可以预期未来净利润时执行重新平衡(这意味着B上的额外流出流动性在未来转发时赚取的金额大于A上减去的流出流动性减去重新平衡的交易费！).<strong class="ji hu">小心:这是假设您在重新平衡的渠道上设定的费用是现实的，并且您将来不会改变它们，否则您的重新平衡也会给您带来一些损失。</strong></p><p id="87ce" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在学会手动使用重新平衡脚本之后，您可以通过定义一个<code class="eh nd ne nf ng b">cron</code>作业来轻松地自动执行它。小心:有时重新平衡会尝试大量的潜在路径(在我的例子中多达200个),这需要一些时间。所以，应用脚本自动化要小心，比如一天不要超过一次！</p><h1 id="5491" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">6.收费什么？</h1><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="nk mu l"/></div></figure><p id="5b05" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">对于您的渠道，您可以收取以下费用:</p><ol class=""><li id="8387" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated">您可以设定交易的基本费用，与远期交易的金额无关。通常的基本费用是0-3 sat。</li><li id="5267" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">您以ppm为单位设置比例费用，即百万分之一。通常是高达1000ppm的零费用。1000 ppm意味着对于100万satoshi的交易金额，您将收取1000 sats，即0.1%。</li></ol><p id="1605" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">您可以在RTL或ThunderHub中使用<code class="eh nd ne nf ng b">lnd</code>手动设置费用。取决于你打算如何为你的频道收费，这是完全足够的。</p><p id="1fa2" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">然而，如果你想根据渠道平衡调整你的费用，像<a class="ae jf" href="https://github.com/accumulator/charge-lnd" rel="noopener ugc nofollow" target="_blank"> charge-lnd </a>这样的工具是非常方便的，并且可以再次自动化。它允许您根据各种标准定义复杂的渠道费用政策。</p><p id="250a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">一开始，我为每个渠道制定了一个非常简单的政策，根据渠道平衡按比例收费，当我对渠道行为有了更多了解后，我对特定渠道的策略进行了优化。</p><p id="177e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">警告:你的收费-lnd和再平衡-lnd策略需要一致，否则你会降低这些工具的有效性，破坏再平衡-lnd的净利润特征！</strong></p><h1 id="ff4d" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">7.接受侧面挑战:永远不要用UPS断电！</h1><p id="5cdb" class="pw-post-body-paragraph jg jh ht ji b jj lo jl jm jn lp jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd hm dt translated">当你运行一个路由节点时，你最好是24/7在线转发闪电支付！这意味着你的电源也应该如此。尤其是当你在一个树莓Pi上运行你的节点的时候，他不太喜欢电源中断。我过去在Pis上经历过SD卡故障，所以当“sat上线”时，我决定玩save并让我的节点连接到某个<a class="ae jf" href="https://en.wikipedia.org/wiki/Uninterruptible_power_supply" rel="noopener ugc nofollow" target="_blank">不间断电源</a> (UPS)。</p><p id="6f43" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我完全可以推荐下面的视频(德语)，它会指导你完成所有必要的步骤:</p><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="mz mu l"/></div></figure><h1 id="d2b1" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">8.还有耐心！！！</h1><figure class="mp mq mr ms fq iu"><div class="bz el l di"><div class="nk mu l"/></div></figure><p id="26ca" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在我试着练习耐心，让节点进化…相信我，这对我来说是另一个巨大的挑战！</p></div><div class="ab cl md me hb mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hm hn ho hp hq"><h1 id="86fb" class="ko kp ht bd kq kr mk kt ku kv ml kx ky kz mm lb lc ld mn lf lg lh mo lj lk ll dt translated">结论</h1><p id="bdf7" class="pw-post-body-paragraph jg jh ht ji b jj lo jl jm jn lp jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd hm dt translated">经过最初的几周，我可以得出以下结论:</p><ol class=""><li id="69fd" class="lm ln ht ji b jj jk jn jo jr na jv nb jz nc kd mc lu lv lw dt translated">启动并运行lightning node很容易。我高估了那里的复杂性。</li><li id="e4fb" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">让lightning节点自举来真正充当网络中的路由节点不应该被低估。定义您预期的潜在策略，研究成功路由节点的策略，并提前进行规划。调整您想要应用的工具并支持您的目标。</li><li id="3925" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">闪电支付很快，但操作闪电节点需要大量的观察和耐心。</li><li id="2e2c" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd mc lu lv lw dt translated">不要排除在“爱好模式”下的实际盈利能力，就像我到目前为止所做的那样:在迄今为止的几周内，我完成了大约3000万次sat，赚回了我的20个发起渠道的投资承诺费的大约6%。鉴于目前渠道的平均年龄为315.8天，我很有信心我会赚回渠道加盟费，但真正的利润还没有出现。</li></ol><p id="2c2e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">希望你能从我的经历中得到一些启示。有问题就Ping我！</p><p id="46bf" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">不够？？？然后直接看后续文章<a class="ae jf" rel="noopener" href="/coinmonks/adventures-in-running-a-bitcoin-lightning-node-part-2-growing-up-430c6efcd40"> <strong class="ji hu">运行比特币闪电节点的冒险——第二部分:成长……</strong></a></p><blockquote class="nl"><p id="84ee" class="nm nn ht bd no np nq nr ns nt nu kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="fba5" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz nv lb lc ld nw lf lg lh nx lj lk ll dt translated">另外，阅读</h1><ul class=""><li id="12ec" class="lm ln ht ji b jj lo jn lp jr lq jv lr jz ls kd lt lu lv lw dt translated"><a class="ae jf" href="https://coincodecap.com/buy-crypto-with-credit-card" rel="noopener ugc nofollow" target="_blank">用信用卡购买密码的10个最佳地点</a></li><li id="9925" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae jf" href="https://coincodecap.com/5-best-crypto-trading-bots-in-canada" rel="noopener ugc nofollow" target="_blank">加拿大最佳加密交易机器人</a> | <a class="ae jf" href="https://coincodecap.com/bybit-binance-moonxbt" rel="noopener ugc nofollow" target="_blank"> Bybit vs币安</a></li><li id="ab22" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae jf" href="https://coincodecap.com/best-crypto-exchanges-in-uae" rel="noopener ugc nofollow" target="_blank">阿联酋5大最佳加密交易所</a> | <a class="ae jf" href="https://coincodecap.com/simpleswap-review" rel="noopener ugc nofollow" target="_blank"> SimpleSwap评论</a></li><li id="a2a8" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated">购买Dogecoin的7种最佳方式</li><li id="2021" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae jf" href="https://coincodecap.com/futures-trading-signals" rel="noopener ugc nofollow" target="_blank">最佳期货交易信号</a> | <a class="ae jf" href="https://coincodecap.com/liquid-exchange-review" rel="noopener ugc nofollow" target="_blank">流动性交易所评论</a></li><li id="15a9" class="lm ln ht ji b jj lx jn ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae jf" href="https://coincodecap.com/huobi-crypto-trading-signals" rel="noopener ugc nofollow" target="_blank">用于Huobi的加密交易信号</a> | <a class="ae jf" rel="noopener" href="/coinmonks/swapzone-review-crypto-exchange-data-aggregator-e0ad78e55ed7"> Swapzone审查</a></li></ul></div></div>    
</body>
</html>