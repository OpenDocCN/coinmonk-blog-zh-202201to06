<html>
<head>
<title>The mempool — the battleground where history is made</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">记忆池——创造历史的战场</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/the-mempool-the-battleground-where-history-is-made-dc3d99132421?source=collection_archive---------6-----------------------#2022-03-12">https://medium.com/coinmonks/the-mempool-the-battleground-where-history-is-made-dc3d99132421?source=collection_archive---------6-----------------------#2022-03-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="11e4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">区块链以其不变性和刚性而闻名，然而交易被记录在区块链上的过程却不是这样，整个过程经常被忽视。</p><p id="41c7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在我的交易被确认之前，其他人可以查看/影响我的交易吗？ <br/> <em class="jo">我能通过访问mempool数据获得优势吗？</em></p><p id="019b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这个技术潜水中，我们将仔细研究以太坊内存池，看看以太坊生态系统中的开发者是否有任何方法来利用这一资源获得优势，并更好地了解以太坊区块链。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/64dbdcb33f821872dbaf6254ba5e0be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bhgHRaFPP_Vsm5GH"/></div></div></figure><p id="9044" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以太坊内存池数据</p><h1 id="3567" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是内存池，为什么以太坊有内存池？</h1><p id="e6a3" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">当用户在以太坊上发送交易时，交易从钱包或Dapp发送到节点。我们许多开发人员(不运行节点)使用像Infura或Alchemy这样运行自己的节点的服务。如果您运行自己的节点，您可以将事务直接发送到mempool。</p><p id="c615" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">节点是网络上的自愿验证者，不要与挖掘者混淆，(挖掘者试图从内存池中移除事务，这将在后面讨论)。该交易将由该节点进行“审查”,以检查其是否合法以及是否有资格被包括在区块链中。</p><p id="77d0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一切正常后，节点会将事务存储在其不断更新的内存池(mempool)中，准备好在区块链上永久保存。mempool是通往区块链的门户和等候室，所有交易都必须通过它才能包含在区块链的一个块中。</p><p id="f3ca" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">术语“内存池”是一个方便的社会结构，因为它不是传统意义上的单一、连贯的池。mempool的每个部分都保存在每个单独的节点上，这些节点可能与网络上的其他节点一致或不一致。</p><h1 id="b101" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">待定交易…</h1><p id="d97d" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">如果您正在使用元掩码，您可能会看到类似这样的内容:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff le"><img src="../Images/e2e571ce7db78741103dd733411468ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ya32tC9DecMSv5W3"/></div></div></figure><p id="2f95" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">元掩码中的挂起事务</p><p id="35dc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可能也使用过MetaMask提供的“加速”功能。这通过向其添加更多气体来加速交易。也有可能取消交易。这怎么可能呢？一个常见的误解是，从你按下发送键的那一秒起，交易就已经确定了。他们不是。</p><p id="1f8c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">未决事务是当前在mempool中的事务，并且将保持在那里，直到它们被包括在一个块中，或者，如果一个事务被阻塞太久，它将被节点丢弃，并且实际上被取消。只要事务在内存池中，就有可能加速或取消它。</p><p id="7a09" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在撰写本文时，可以在<a class="ae lf" href="https://etherscan.io/txsPending" rel="noopener ugc nofollow" target="_blank"> Etherscan </a>上查看当前未决的事务，mempool中有大约20万个事务。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lg"><img src="../Images/a475c9fd0f96d3980afeb258fc4601dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iRe-4ZRNhRF02cMB"/></div></div></figure><p id="dcec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">待定交易</p><p id="9b20" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在一个节点处理完事务并将其作为未决事务输入mempool后，它会将该事务广播给其他对等节点。每个对等体将把事务添加到它们的内存池中，并再次广播事务以获得最大分布。每个节点将拥有不同的内存池，这些内存池可能与其对等节点有很大不同。内存池绝不是同质的。节点运行在许多不同类型的软件上。以太坊节点及其运行的软件的完整列表(和地图)可以在<a class="ae lf" href="https://www.ethernodes.org/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lh"><img src="../Images/86feaf57147297b8e68f22d34c5d72af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iM6ALGy-69Bg7w08"/></div></div></figure><p id="514d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">全球以太坊节点</p><h1 id="d5b9" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">矿工们来了</h1><p id="a251" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">交易将在<em class="jo"> X </em>秒/分钟小时的时间内保持挂起状态，对所有进入的交易可见。该交易将等待一个矿工捡起来。挖掘器是一种特殊类型的节点，它试图将事务添加到区块链中。交易在内存池中花费的时间将取决于附加的费用，因为这主要是矿工如何选择要拾取的交易，费用越高=交易越快。</p><p id="65d9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最终，一个挖掘器将成功地解决工作证明任务，并在区块链上添加一个包含该事务的新块。只有在这一点上，交易不能再加速或取消。求解后的块会在整个网络中广播，详细描述其中包含的所有事务。然后，网络中的每个节点从它们的内存池中删除所有包含在新块中的事务。</p><h1 id="1d3f" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">警告</h1><p id="1217" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">尽管技术上可以绕过mempool，将事务直接发送给miner以包含在一个块中，但没有标准化的方法来做到这一点。这种方法是否有益并不明显，因为发送者将不得不等待特定的挖掘者成功地利用事务挖掘块，而不是将其转发到mempool以供任何挖掘者拾取，从而使其有更大的机会被包括在即将到来的块中。</p><h1 id="720f" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">我们能用这种智慧做什么？</h1><p id="e9d2" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">知道mempool中的当前交易，我们可以估计理论上的最佳天然气价格，因为我们可以查看当前交易天然气费用的范围。像<a class="ae lf" href="https://ethgasstation.info/" rel="noopener ugc nofollow" target="_blank"> Eth加油站</a>这样的服务利用了这一点。</p><p id="20fa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以看到其他用户和其他机器人的未决事务，如果有必要，可以利用这些信息来避免一场气体战争或领先于其他事务。还可以分析像Uniswap这样的dex的未决交易。</p><p id="ec59" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们还可以监视内存池中的Oracles。他们可能正在向区块链发送信息，这些信息可能会影响定位或其他一些依赖于神谕信息的协议。这给了我们一个潜在的机会，在信息袭击区块链之前采取行动。</p><h1 id="a4cb" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">进入黑暗森林</h1><p id="46c5" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">对Mempool的访问可以让我们看到下一个块中包含的所有潜在事务，这可能是有价值的信息。有几种方法可以访问它。</p><p id="dc13" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Quick Node提供了一个使用web socket服务的向导<a class="ae lf" href="https://www.quicknode.com/guides/defi/how-to-stream-pending-transactions-with-ethers-js" rel="noopener ugc nofollow" target="_blank">这里</a></p><p id="7c67" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Blocknative提供了许多访问内存池数据的选项，包括这个浏览器内流监听dex<a class="ae lf" href="https://explorer.blocknative.com/?v=1.30.5&amp;0=ethereum&amp;1=main&amp;s=%7B%22name%22%3A%22Uniswap+v2+Router%22%2C%22address%22%3A%220x7a250d5630b4cf539739df2c5dacb4c659f2488d%22%7D&amp;s=%7B%22name%22%3A%22SushiSwap+Router%22%2C%22address%22%3A%220xd9e1ce17f2641f24ae83637ab66a2cca9c378b9f%22%7D&amp;s=%7B%22name%22%3A%22Balancer%22%2C%22address%22%3A%220x3e66b66fd1d0b02fda6c811da9e0547970db2f21%22%7D&amp;s=%7B%22name%22%3A%22Curv.fi%22%2C%22address%22%3A%220xdf5e0e81dff6faf3a7e52ba697820c5e32d806a8%22%7D&amp;fr=%7B%22status%22%3A%22pending%22%7D" rel="noopener ugc nofollow" target="_blank">这里</a></p><p id="4ae8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对运行自己的节点感兴趣:</p><p id="c594" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你运行的是一个完整的Geth节点，关于如何查询内存池的细节可以在<a class="ae lf" href="https://geth.ethereum.org/docs/rpc/ns-txpool" rel="noopener ugc nofollow" target="_blank">这里</a>找到。如果你运行的是OpenEthereum节点，关于如何查询内存池的细节可以在<a class="ae lf" href="https://openethereum.github.io/JSONRPC" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h1 id="845c" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">关闭</h1><p id="b162" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">希望这是一个有用的入门读物。充分利用内存池是一个深入的技术话题，在以后的文章中会有更深入的探讨。</p><p id="c1f7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">同时，请随时在Twitter上联系我:<a class="ae lf" href="https://twitter.com/WarrenDubery" rel="noopener ugc nofollow" target="_blank">沃伦·杜伯瑞</a></p><blockquote class="li"><p id="6437" class="lj lk ht bd ll lm ln lo lp lq lr jn ek translated"><em class="ls">加入Coinmonks </em> <a class="ae lf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> <em class="ls">电报频道</em> </a> <em class="ls">和</em> <a class="ae lf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Youtube频道</em> </a> <em class="ls">了解加密交易和投资</em></p></blockquote><h1 id="1c8c" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km lt ko kp kq lu ks kt ku lv kw kx ky dt translated">另外，阅读</h1><ul class=""><li id="754f" class="lw lx ht is b it kz ix la jb ly jf lz jj ma jn mb mc md me dt translated"><a class="ae lf" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap评论</a> | <a class="ae lf" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li><li id="a53a" class="lw lx ht is b it mf ix mg jb mh jf mi jj mj jn mb mc md me dt translated">最佳加密<a class="ae lf" rel="noopener" href="/coinmonks/hardware-wallets-dfa1211730c6">硬件钱包</a> | <a class="ae lf" rel="noopener" href="/coinmonks/bitbns-review-38256a07e161"> Bitbns评论</a></li><li id="e7a1" class="lw lx ht is b it mf ix mg jb mh jf mi jj mj jn mb mc md me dt translated"><a class="ae lf" href="https://coincodecap.com/crypto-exchange-in-singapore" rel="noopener ugc nofollow" target="_blank">新加坡十大最佳加密交易所</a> | <a class="ae lf" href="https://coincodecap.com/buy-axs-token" rel="noopener ugc nofollow" target="_blank">收购AXS </a></li><li id="666c" class="lw lx ht is b it mf ix mg jb mh jf mi jj mj jn mb mc md me dt translated"><a class="ae lf" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae lf" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae lf" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank"> CoinGate评论</a></li><li id="a6cf" class="lw lx ht is b it mf ix mg jb mh jf mi jj mj jn mb mc md me dt translated"><a class="ae lf" href="https://coincodecap.com/best-crypto-to-invest-in-india-in-2021" rel="noopener ugc nofollow" target="_blank">投资印度的最佳加密软件</a>|<a class="ae lf" href="https://coincodecap.com/wazirx-p2p" rel="noopener ugc nofollow" target="_blank">WazirX P2P</a>|<a class="ae lf" href="https://coincodecap.com/hi-dollar-review" rel="noopener ugc nofollow" target="_blank">Hi Dollar Review</a></li></ul></div></div>    
</body>
</html>