<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/coinmonks/beware-of-the-risk-of-phishing-by-malicious-advertisements-for-projects-on-the-terra-chain-9c46b3914df2?source=collection_archive---------14-----------------------#2022-04-21">https://medium.com/coinmonks/beware-of-the-risk-of-phishing-by-malicious-advertisements-for-projects-on-the-terra-chain-9c46b3914df2?source=collection_archive---------14-----------------------#2022-04-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><h2 id="3f77" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">警惕Terra链上项目的恶意广告带来的网络钓鱼风险</h2><figure class="ir is it iu fq iv fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/027b88aeb3c26f218f7e48ec6f6247ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*65FugDvd4FOUcnM0zNpbeg.png"/></div></figure><h2 id="44fa" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">0x01事件摘要</h2><p id="3405" class="pw-post-body-paragraph iy iz ht ja b jb jc jd je jf jg jh ji id jj jk jl ih jm jn jo il jp jq jr js hm dt translated">最近Terra链上部分用户的资产被恶意转出。4月12日至4月21日，约52个地址的资金被恶意转移至<strong class="ja jt">terra 1 FZ 57 nt 6 T3 nxel 6 q 77 wsmxdesn 7 rgy 0h 27 x 30</strong>，损失总额约431万美元。</p><h2 id="3963" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">0x02事件详细信息</h2><p id="f313" class="pw-post-body-paragraph iy iz ht ja b jb jc jd je jf jg jh ji id jj jk jl ih jm jn jo il jp jq jr js hm dt translated">这次攻击是钓鱼的一批谷歌关键词广告。当用户在谷歌上搜索<strong class="ja jt"> astroport </strong>、<strong class="ja jt"> nexus protocol </strong>、<strong class="ja jt"> anchor protocol </strong>等知名的Terra项目时，，Google结果页面第一个看似正常的广告链接(显示的域名甚至相同)其实是一个钓鱼网站。</p><figure class="ir is it iu fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff ju"><img src="../Images/a30cf312c47edebd7e638b9420045980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-eSUk241UYwrGGEyTW39-w.jpeg"/></div></div></figure><p id="ac6c" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">用户在看似合法的网站上输入他的种子短语，黑客们立即开始清空他的钱包。<strong class="ja jt">用户</strong> <strong class="ja jt">在钱包里押了1000卢纳(价值约10万美元)</strong>。利用偷来的<strong class="ja jt">种子短语</strong>，黑客打开他的钱包，开始破解这个Luna。提取staked Luna有21天的锁定期，所以黑客无法立即将其提取到自己的钱包中。Luna block explorer公布了被押的Luna将被释放的确切时间，因此开始了为期3周的倒计时，我们的朋友焦急地看着他的钱包，知道他在解锁的那一刻无助地防止他的Luna被盗。</p><p id="fda0" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">受害者认为黑客会运行一个脚本，在Luna可用的时候花掉它。因此，他们决定，找回Luna的最佳机会是编写一个类似的脚本，希望在黑客的脚本可以做到同样的事情之前，将钱提取到一个安全的钱包中。</p><p id="4e61" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">结果是一场在解散时刻花费Luna的比赛——几乎就像试图成为第一个从盘子里抢走最后一块饼干的人，除了那块饼干价值10万美元。</p><h2 id="b31f" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">0x03他们的方法</h2><p id="29f1" class="pw-post-body-paragraph iy iz ht ja b jb jc jd je jf jg jh ji id jj jk jl ih jm jn jo il jp jq jr js hm dt translated">他们使用terra.js SDK 编写了他们的脚本。它的工作原理如下:</p><ol class=""><li id="c24f" class="kf kg ht ja b jb jz jf ka id kh ih ki il kj js kk kl km kn dt translated">一旦开始，脚本将等待，直到提供<code class="eh ko kp kq kr b">execution_time</code></li><li id="4d8a" class="kf kg ht ja b jb ks jf kt id ku ih kv il kw js kk kl km kn dt translated">然后，每隔200毫秒运行一次间隔计时器，尝试撤回Luna</li><li id="f7c9" class="kf kg ht ja b jb ks jf kt id ku ih kv il kw js kk kl km kn dt translated">要撤回Luna，您需要:<br/> —创建一个<code class="eh ko kp kq kr b">LCDClient</code>并连接到一个节点<br/> —创建一个<code class="eh ko kp kq kr b">MsgSend</code> <br/> —创建并签署一个事务<br/>—广播该事务<br/>注意，这些步骤都是异步完成的<a class="ae ke" href="https://github.com/backupbrain/terra-luna-rescuers-down-under/blob/43aa69bc63135d73a1bcb19a76855e230f75249e/src/lunamethods.js#L72-L104" rel="noopener ugc nofollow" target="_blank"/></li></ol><p id="f2e2" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">这里是<a class="ae ke" href="https://github.com/backupbrain/terra-luna-rescuers-down-under" rel="noopener ugc nofollow" target="_blank"> Github回购</a></p><h2 id="fa1f" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">0x04他们的优化</h2><p id="b3d5" class="pw-post-body-paragraph iy iz ht ja b jb jc jd je jf jg jh ji id jj jk jl ih jm jn jo il jp jq jr js hm dt translated">假设剧本是精心设计的，这个项目本质上是一场与时间的赛跑。为了提高首先提交事务的几率，他们希望连接尽可能多的节点。在<a class="ae ke" href="https://docs.terra.money/docs/develop/endpoints.html" rel="noopener ugc nofollow" target="_blank">文件</a>中列出的6个公共LCD节点中，只有2个为其工作——即<a class="ae ke" href="https://terra-lcd.easy2stake.com/" rel="noopener ugc nofollow" target="_blank">https://terra-lcd.easy2stake.com</a>和<a class="ae ke" href="https://blockdaemon-terra-lcd.api.bdnodes.net:1317/" rel="noopener ugc nofollow" target="_blank">https://blockdaemon-terra-lcd.api.bdnodes.net:1317</a>。</p><p id="0dae" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">对上述2个节点的IP地址查找显示，一个位于德国，另一个位于美国弗吉尼亚州。为了减少我们和节点之间的延迟，我们设置了两个AWS EC2实例:一个位于弗吉尼亚州，另一个位于法兰克福。每个都连接到它们最近的节点。然后，为了更好地衡量，我们在相同的位置设置了另外两个AWS EC2实例。</p><p id="dd8e" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">每台服务器将在解锁前大约30秒开始执行脚本，但开始时间会错开大约250毫秒，以试图提高在正确的时间插入事务的几率。</p><h2 id="8ec9" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">0x05结果</h2><p id="eedd" class="pw-post-body-paragraph iy iz ht ja b jb jc jd je jf jg jh ji id jj jk jl ih jm jn jo il jp jq jr js hm dt translated">当解锁时间到来时，实例能够成功地创建和签署事务(这只有在Luna解锁后才能发生)。不幸的是，我们交易的广播失败了。这大概是由于黑客能够在我们之前广播他们的交易，因此我们的广播被拒绝。</p><p id="920c" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">他们认为，在他们创建交易并将其广播到节点的时间内，黑客已经提交了他们的竞争广播，从而从钱包中取走了Luna。</p><p id="c698" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">下面是黑客的<a class="ae ke" href="https://finder.terra.money/mainnet/tx/E746869A8F8116D837D0E0A94B9C4DD36828AAACCA5E5278DA4F4D154BBE0EDA" rel="noopener ugc nofollow" target="_blank">成功交易</a>。这个黑客是专业的。他们有一个看起来像Luna钱包的网站和谷歌广告，引诱受害者透露他们的种子短语。我们能够在不同的钱包中追踪他们以前的一些交易，发现他们持有大约<a class="ae ke" href="https://finder.terra.money/mainnet/address/terra1j435gkgg8d0qadjcn09s73rtk5k3ftrx7mc4a8" rel="noopener ugc nofollow" target="_blank">2000万美元的被盗密码</a>。</p><p id="bb2e" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">尝试在执行时在4台服务器上创建和广播事务</p><h2 id="c852" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip dt translated">0x05安全建议</h2><p id="eb9a" class="pw-post-body-paragraph iy iz ht ja b jb jc jd je jf jg jh ji id jj jk jl ih jm jn jo il jp jq jr js hm dt translated">Lunaray安全团队建议Terra链上的用户保持警惕，不要点击来自谷歌搜索的链接或点击来历不明的链接，减少使用普通钱包的不必要操作，避免不必要的资金损失。</p><p id="e969" class="pw-post-body-paragraph iy iz ht ja b jb jz jd je jf ka jh ji id kb jk jl ih kc jn jo il kd jq jr js hm dt translated">ref:<a class="ae ke" rel="noopener" href="/@LiorNn/our-failed-attempt-at-saving-100-000-of-crypto-from-hackers-19aa8d3d961e">https://medium . com/@ LiorNn/our-failed-attempt-at-saving-100-000-of-crypto-from-hackers-19 aa 8d 3d 961 e</a></p><figure class="ir is it iu fq iv"><div class="bz el l di"><div class="kx ky l"/></div></figure><blockquote class="kz"><p id="a2ff" class="la lb ht bd lc ld le lf lg lh li js ek translated">加入Coinmonks <a class="ae ke" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ke" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="4eba" class="lj hs ht bd hu lk ll lm hy ln lo lp ic lq lr ls ig lt lu lv ik lw lx ly io lz dt translated">另外，阅读</h1><ul class=""><li id="27e7" class="kf kg ht ja b jb jc jf jg id ma ih mb il mc js md kl km kn dt translated"><a class="ae ke" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap评论</a> | <a class="ae ke" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li><li id="c9cc" class="kf kg ht ja b jb ks jf kt id ku ih kv il kw js md kl km kn dt translated">最佳加密<a class="ae ke" rel="noopener" href="/coinmonks/hardware-wallets-dfa1211730c6">硬件钱包</a> | <a class="ae ke" rel="noopener" href="/coinmonks/bitbns-review-38256a07e161"> Bitbns评论</a></li><li id="2bc0" class="kf kg ht ja b jb ks jf kt id ku ih kv il kw js md kl km kn dt translated"><a class="ae ke" href="https://coincodecap.com/crypto-exchange-in-singapore" rel="noopener ugc nofollow" target="_blank">新加坡十大最佳加密交易所</a> | <a class="ae ke" href="https://coincodecap.com/buy-axs-token" rel="noopener ugc nofollow" target="_blank">购买AXS </a></li><li id="1be9" class="kf kg ht ja b jb ks jf kt id ku ih kv il kw js md kl km kn dt translated"><a class="ae ke" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae ke" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae ke" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank"> CoinGate评论</a></li><li id="0003" class="kf kg ht ja b jb ks jf kt id ku ih kv il kw js md kl km kn dt translated"><a class="ae ke" href="https://coincodecap.com/best-crypto-to-invest-in-india-in-2021" rel="noopener ugc nofollow" target="_blank">投资印度的最佳密码</a>|<a class="ae ke" href="https://coincodecap.com/wazirx-p2p" rel="noopener ugc nofollow" target="_blank">WazirX P2P</a>|<a class="ae ke" href="https://coincodecap.com/hi-dollar-review" rel="noopener ugc nofollow" target="_blank">Hi Dollar Review</a></li></ul></div></div>    
</body>
</html>