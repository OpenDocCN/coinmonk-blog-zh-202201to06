<html>
<head>
<title>Data Analysis on Solana Blockchain data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Solana区块链数据的数据分析</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/data-analysis-on-solana-blockchain-data-193ce5d82bbb?source=collection_archive---------8-----------------------#2022-04-10">https://medium.com/coinmonks/data-analysis-on-solana-blockchain-data-193ce5d82bbb?source=collection_archive---------8-----------------------#2022-04-10</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7abf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">继续分析我在上一篇文章中使用Rust程序收集的交易数据。</p><ol class=""><li id="c266" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">让我们试着找出哪对账户转账最多？运行下面的Cypher查询:</li></ol><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="46f7" class="kh ki ht kd b fv kj kk l kl km">MATCH (a:Account),(b:Account) WHERE a &lt;&gt; b MATCH (a)-[r:TRANSFER_TO]-&gt;(b) RETURN a.key,b.key, count(r)as cnt ORDER by cnt DESC LIMIT 10</span></pre><p id="52c5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它返回前10个传输对。</p><figure class="jy jz ka kb fq ko fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff kn"><img src="../Images/b6633888900bb93aed119b8c7de22a4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sUYVAVaeNeWVuRNAMAJjuA.png"/></div></div></figure><p id="bba9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后我们把重点放在最上面的一对，按照时间戳的顺序把转账列出来。运行以下查询:</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="b34d" class="kh ki ht kd b fv kj kk l kl km">MATCH (a:Account{key: 'J7nSEX8ADf3pVVicd6yKy2Skvg8iLePEmkLUisAAaioD'})-[r:TRANSFER_TO]-&gt;(b:Account {key:'31Sof5r1xi7dfcaz4x9Kuwm8J9ueAdDduMcme59sP8gc'})  RETURN r.amount,r.datetime as dt order bydt limit 100</span></pre><p id="1439" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">结果发现转账非常频繁，转账金额都等于5000。这意味着它是支付给系统账户的交易费— <code class="eh kv kw kx kd b"> 31Sof5r1xi7dfcaz4x9Kuwm8J9ueAdDduMcme59sP8gc</code></p><figure class="jy jz ka kb fq ko fe ff paragraph-image"><div class="fe ff ky"><img src="../Images/9b056903d62f134381b48221f2ff1aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*KweUfa3tAu34nhPpVmOK1g.png"/></div></figure><p id="616c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2.让我们创建另一个虚拟图，它不包括上面的系统帐户— <code class="eh kv kw kx kd b">31Sof5r1xi7dfcaz4x9Kuwm8J9ueAdDduMcme59sP8gc</code>。此外，我们将关系<code class="eh kv kw kx kd b">TRANSFER_TO</code>聚合为一个关系<code class="eh kv kw kx kd b">HasRecFrom</code>，并将总转账金额和转账次数作为关系属性。</p><p id="30f4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下面是命令。</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="05f8" class="kh ki ht kd b fv kj kk l kl km">CALL gds.graph.project.cypher('HasRecFrom',<br/>'MATCH (n:Account) where n.key &lt;&gt; "31Sof5r1xi7dfcaz4x9Kuwm8J9ueAdDduMcme59sP8gc" <br/>RETURN id(n) AS id',<br/>'MATCH (n:Account)-[r:TRANSFER_TO]-&gt;(m:Account) where m.key &lt;&gt;"31Sof5r1xi7dfcaz4x9Kuwm8J9ueAdDduMcme59sP8gc" and n.key &lt;&gt; "31Sof5r1xi7dfcaz4x9Kuwm8J9ueAdDduMcme59sP8gc" <br/>RETURN id(m) AS source, id(n) AS target, "HasRecFrom" AS type, sum(r.amount) AS total_amount, count(r) as total_count')</span></pre><p id="c1f4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">3.然后运行社区检测算法—弱连接组件(WCC ),并将组件ID作为节点属性写回。</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="57cb" class="kh ki ht kd b fv kj kk l kl km">CALL gds.wcc.write('HasRecFrom', {writeProperty: "componentId"})</span></pre><p id="e1ad" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">4.然后运行页面排名算法，找出账号的重要性。使用总转账金额作为权重。</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="c422" class="kh ki ht kd b fv kj kk l kl km">CALL gds.pageRank.write('HasRecFrom', {relationshipWeightProperty:"total_amount", writeProperty: "pagerank"})</span></pre><p id="5982" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">5.现在我可以找出排名最高的账户，以及他们所属的集群(<code class="eh kv kw kx kd b">componentId</code>)。</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="0d37" class="kh ki ht kd b fv kj kk l kl km">MATCH (n:Account)-[r:TRANSFER_TO]-&gt;(m:Account) where m.pagerank&gt;0 and m.componentId&gt;=0 return m.key,m.pagerank as score, n.componentId,m.componentId , sum(r.amount) as total_sum order by score DESC LIMIT 10</span></pre><figure class="jy jz ka kb fq ko fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff kz"><img src="../Images/7e93744a78694c0fb4a388af8db6d2f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B9s1972EgiHlgPVK5WtLLw.png"/></div></div></figure><p id="eef2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">两个收件人帐户排名最高，并且也都属于群集0 ( <code class="eh kv kw kx kd b">componentId=0</code>)。</p><p id="a608" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">6.集群0是一个大集群。运行下面的查询来计算帐户。结果是<code class="eh kv kw kx kd b">59094</code>。由于总共有<code class="eh kv kw kx kd b">115972</code>个账户，集群0已经占了50%左右。</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="2c5e" class="kh ki ht kd b fv kj kk l kl km">MATCH (n:Account {componentId: 0}) RETURN count(n)</span></pre><p id="0b4b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">7.让我们挑选在网页排名中得分超过400的前2个收件人帐户。分别是:<code class="eh kv kw kx kd b">DQyrAcCrDXQ7NeoqGgDCZwBvWDcYmFCjSb9JtteuvPpz</code>和<code class="eh kv kw kx kd b">36c6YqAwyGKQG66XEp2dJc5JqjaBNv7sVghEtJv4c7u6</code>。运行以下查询，找出他们收到的总金额。</p><pre class="jy jz ka kb fq kc kd ke kf aw kg dt"><span id="6562" class="kh ki ht kd b fv kj kk l kl km">MATCH (n:Account)-[r:TRANSFER_TO]-&gt;(m:Account {key:"DQyrAcCrDXQ7NeoqGgDCZwBvWDcYmFCjSb9JtteuvPpz"}) RETURN sum(r.amount)</span><span id="1df0" class="kh ki ht kd b fv la kk l kl km">MATCH (n:Account)-[r:TRANSFER_TO]-&gt;(m:Account {key:"36c6YqAwyGKQG66XEp2dJc5JqjaBNv7sVghEtJv4c7u6"}) RETURN sum(r.amount)</span></pre><p id="a54d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">结果是<code class="eh kv kw kx kd b">23868111063045604</code>和<code class="eh kv kw kx kd b">23850580997809998</code>灯。1兰波特= 0.000000001索尔，2022年4月10日1索尔的价格约为111美元。将2笔金额转换为美元:<code class="eh kv kw kx kd b">2,649,360,328</code>和<code class="eh kv kw kx kd b">2,647,414,491</code>。这意味着超过260万美元流入这两个账户。</p><p id="4384" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">刚刚谷歌了2个账户的密钥，我发现第一个账户可能是一个索拉纳池硬币令牌账户，第二个是血清硬币金库账户。两者都可能与索拉纳令牌或工具的交易有关。有意思？</p><p id="a6c8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果我们做更多的数据分析，可能会挖掘出更多的信息。</p><p id="5cec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="lb">未完待续……</em></p><blockquote class="lc"><p id="33c0" class="ld le ht bd lf lg lh li lj lk ll jn ek translated"><em class="lm">加入Coinmonks </em> <a class="ae jo" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> <em class="lm">电报频道</em> </a> <em class="lm">和</em> <a class="ae jo" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> <em class="lm"> Youtube频道</em> </a> <em class="lm">了解加密交易和投资</em></p></blockquote><h1 id="6d7d" class="ln ki ht bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj dt translated">另外，阅读</h1><div class="mk ml fm fo mm mn"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="mo ab ej"><div class="mp ab mq cl cj mr"><h2 class="bd hu fv z el ms eo ep mt er et hs dt translated">最佳加密税务软件——评论和比较</h2><div class="mu l"><h3 class="bd b fv z el ms eo ep mt er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="mv l"><p class="bd b gc z el ms eo ep mt er et ek translated">medium.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kt mn"/></div></div></a></div><ul class=""><li id="d767" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn nc jv jw jx dt translated"><a class="ae jo" href="https://coincodecap.com/trading-signal" rel="noopener ugc nofollow" target="_blank">有哪些交易信号？</a> | <a class="ae jo" href="https://coincodecap.com/bitstamp-coinbase" rel="noopener ugc nofollow" target="_blank"> Bitstamp vs比特币基地</a> | <a class="ae jo" href="https://coincodecap.com/buy-solana" rel="noopener ugc nofollow" target="_blank">买索拉纳</a></li><li id="5eaa" class="jp jq ht is b it nd ix ne jb nf jf ng jj nh jn nc jv jw jx dt translated"><a class="ae jo" href="https://coincodecap.com/profitfarmers-review" rel="noopener ugc nofollow" target="_blank"> ProfitFarmers回顾</a> | <a class="ae jo" href="https://coincodecap.com/cornix-trading-bot" rel="noopener ugc nofollow" target="_blank">如何使用Cornix Trading Bot </a></li><li id="d2e8" class="jp jq ht is b it nd ix ne jb nf jf ng jj nh jn nc jv jw jx dt translated"><a class="ae jo" href="https://coincodecap.com/best-cryptocurrency-blogs" rel="noopener ugc nofollow" target="_blank">十大最佳加密货币博客</a> | <a class="ae jo" href="https://coincodecap.com/youhodler-review" rel="noopener ugc nofollow" target="_blank"> YouHodler评论</a></li><li id="f27c" class="jp jq ht is b it nd ix ne jb nf jf ng jj nh jn nc jv jw jx dt translated"><a class="ae jo" href="https://coincodecap.com/myconstant-review" rel="noopener ugc nofollow" target="_blank">my constant Review</a>|<a class="ae jo" href="https://coincodecap.com/best-swing-trading-bots" rel="noopener ugc nofollow" target="_blank">8款最佳摇摆交易机器人</a></li><li id="800a" class="jp jq ht is b it nd ix ne jb nf jf ng jj nh jn nc jv jw jx dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/mxc-exchange-review-3af0ec1cba8c"> MXC交易所评论</a> | <a class="ae jo" href="https://coincodecap.com/pionex-vs-binance" rel="noopener ugc nofollow" target="_blank"> Pionex vs币安</a> | <a class="ae jo" href="https://coincodecap.com/pionex-arbitrage-bot" rel="noopener ugc nofollow" target="_blank"> Pionex套利机器人</a></li></ul></div></div>    
</body>
</html>