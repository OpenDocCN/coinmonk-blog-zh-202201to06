<html>
<head>
<title>ERC 721, EIP-721 and NFT: Non-Fungible Token Standard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ERC 721、EIP 721和NFT:不可替换的令牌标准</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/erc-721-eip-721-and-nft-non-fungible-token-standard-6a083be6f3d4?source=collection_archive---------29-----------------------#2022-03-23">https://medium.com/coinmonks/erc-721-eip-721-and-nft-non-fungible-token-standard-6a083be6f3d4?source=collection_archive---------29-----------------------#2022-03-23</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="1355" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">关于使用ERC20的<em class="ji">可替换</em>令牌，我们已经讲得够多了，但是为什么不令牌化一些不寻常的东西呢？R <strong class="ak">不动产</strong>或<strong class="ak">收藏品</strong>，其中一些物品因其有用性、稀有性等而比其他物品更有价值。ERC721是代表不可替代的<em class="ji">令牌所有权的标准，其中每个令牌都是唯一的。</em></h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/60554498197c614438cb61cde97ccae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NuvIDivhhExdraY22Z81KQ.png"/></div></div></figure><p id="fcaa" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">ERC721是一个比ERC20更复杂的标准，具有多个可选扩展，并被划分为多个合同。</p><h1 id="843b" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">EIP-721:不可替代的令牌标准</h1><p id="4fc8" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">以下标准允许在智能合同中实现NFT的标准API。该标准提供了跟踪和传输NFTs的基本功能。</p><p id="37e0" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">NFT可以代表数字或物理资产的所有权。资产类型多种多样，我们知道您会想到更多:</p><ul class=""><li id="0660" class="lo lp ht jx b jy jz kb kc ke lq ki lr km ls kq lt lu lv lw dt translated"><strong class="jx hu">实物财产</strong> —住宅，独一无二的艺术品；</li><li id="0c78" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><strong class="jx hu">虚拟收藏品</strong> —小猫的独特照片，可收藏的明信片；</li><li id="8eac" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><strong class="jx hu">具有“负值”的资产</strong> —贷款、产权负担和其他负债。</li></ul><p id="3572" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">总的来说，所有的家都不一样，没有两只小猫是一样的。NFT是不同的，您必须单独跟踪每个NFT的所有权。</p><p id="b798" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">标准接口允许钱包/经纪人/拍卖应用程序与以太坊上的任何NFT一起工作。</p><p id="bdbb" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">该标准受ERC-20令牌标准的启发，建立在EIP-20创建以来两年的经验基础上。EIP-20不足以跟踪NFT，因为每项资产都是不同的<strong class="jx hu">(不可替代)</strong>，而每项令牌的数量都是相同的<strong class="jx hu">(可替代)</strong>。</p><h1 id="0a1c" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">规格</h1><p id="6228" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">关键词<strong class="jx hu">、【不得】、【要求】、【应】、【不应】、【不应】、【建议】、【可】、【可选】</strong>应按照RFC 2119中的描述进行解释。</p><p id="4212" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">每一个ERC-721兼容的合同都必须实现</strong> <code class="eh mc md me mf b"><strong class="jx hu">ERC721</strong></code> <strong class="jx hu">和</strong> <code class="eh mc md me mf b"><strong class="jx hu">ERC165</strong></code> <strong class="jx hu">接口</strong></p><pre class="jk jl jm jn fq mg mf mh mi aw mj dt"><span id="4b30" class="mk ks ht mf b fv ml mm l mn mo"><strong class="mf hu">pragma</strong> solidity <strong class="mf hu">^</strong>0.4.20;<br/><br/><em class="mp">/// @title ERC-721 Non-Fungible Token Standard<br/>/// @dev See https://eips.ethereum.org/EIPS/eip-721<br/>///  Note: the ERC-165 identifier for this interface is 0x80ac58cd.<br/></em><strong class="mf hu">interface</strong> ERC721 <em class="mp">/* is ERC165 */</em> {<br/>    <em class="mp">/// @dev This emits when ownership of any NFT changes by any mechanism.<br/></em>    <em class="mp">///  This event emits when NFTs are created (`from` == 0) and destroyed<br/></em>    <em class="mp">///  (`to` == 0). Exception: during contract creation, any number of NFTs<br/></em>    <em class="mp">///  may be created and assigned without emitting Transfer. At the time of<br/></em>    <em class="mp">///  any transfer, the approved address for that NFT (if any) is reset to none.<br/></em>    <strong class="mf hu">event</strong> Transfer(<strong class="mf hu">address</strong> <strong class="mf hu">indexed</strong> _from, <strong class="mf hu">address</strong> <strong class="mf hu">indexed</strong> _to, <strong class="mf hu">uint256</strong> <strong class="mf hu">indexed</strong> _tokenId);<br/><br/>    <em class="mp">/// @dev This emits when the approved address for an NFT is changed or<br/></em>    <em class="mp">///  reaffirmed. The zero address indicates there is no approved address.<br/></em>    <em class="mp">///  When a Transfer event emits, this also indicates that the approved<br/></em>    <em class="mp">///  address for that NFT (if any) is reset to none.<br/></em>    <strong class="mf hu">event</strong> Approval(<strong class="mf hu">address</strong> <strong class="mf hu">indexed</strong> _owner, <strong class="mf hu">address</strong> <strong class="mf hu">indexed</strong> _approved, <strong class="mf hu">uint256</strong> <strong class="mf hu">indexed</strong> _tokenId);<br/><br/>    <em class="mp">/// @dev This emits when an operator is enabled or disabled for an owner.<br/></em>    <em class="mp">///  The operator can manage all NFTs of the owner.<br/></em>    <strong class="mf hu">event</strong> ApprovalForAll(<strong class="mf hu">address</strong> <strong class="mf hu">indexed</strong> _owner, <strong class="mf hu">address</strong> <strong class="mf hu">indexed</strong> _operator, <strong class="mf hu">bool</strong> _approved);<br/><br/>    <em class="mp">/// @notice Count all NFTs assigned to an owner<br/></em>    <em class="mp">/// @dev NFTs assigned to the zero address are considered invalid, and this<br/></em>    <em class="mp">///  function throws for queries about the zero address.<br/></em>    <em class="mp">/// @param _owner An address for whom to query the balance<br/></em>    <em class="mp">/// @return The number of NFTs owned by `_owner`, possibly zero<br/></em>    <strong class="mf hu">function</strong> balanceOf(<strong class="mf hu">address</strong> _owner) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">uint256</strong>);<br/><br/>    <em class="mp">/// @notice Find the owner of an NFT<br/></em>    <em class="mp">/// @dev NFTs assigned to zero address are considered invalid, and queries<br/></em>    <em class="mp">///  about them do throw.<br/></em>    <em class="mp">/// @param _tokenId The identifier for an NFT<br/></em>    <em class="mp">/// @return The address of the owner of the NFT<br/></em>    <strong class="mf hu">function</strong> ownerOf(<strong class="mf hu">uint256</strong> _tokenId) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">address</strong>);<br/><br/>    <em class="mp">/// @notice Transfers the ownership of an NFT from one address to another address<br/></em>    <em class="mp">/// @dev Throws unless `msg.sender` is the current owner, an authorized<br/></em>    <em class="mp">///  operator, or the approved address for this NFT. Throws if `_from` is<br/></em>    <em class="mp">///  not the current owner. Throws if `_to` is the zero address. Throws if<br/></em>    <em class="mp">///  `_tokenId` is not a valid NFT. When transfer is complete, this function<br/></em>    <em class="mp">///  checks if `_to` is a smart contract (code size &gt; 0). If so, it calls<br/></em>    <em class="mp">///  `onERC721Received` on `_to` and throws if the return value is not<br/></em>    <em class="mp">///  `bytes4(keccak256("onERC721Received(address,address,uint256,bytes)"))`.<br/></em>    <em class="mp">/// @param _from The current owner of the NFT<br/></em>    <em class="mp">/// @param _to The new owner<br/></em>    <em class="mp">/// @param _tokenId The NFT to transfer<br/></em>    <em class="mp">/// @param data Additional data with no specified format, sent in call to `_to`<br/></em>    <strong class="mf hu">function</strong> safeTransferFrom(<strong class="mf hu">address</strong> _from, <strong class="mf hu">address</strong> _to, <strong class="mf hu">uint256</strong> _tokenId, <strong class="mf hu">bytes</strong> data) <strong class="mf hu">external</strong> <strong class="mf hu">payable</strong>;<br/><br/>    <em class="mp">/// @notice Transfers the ownership of an NFT from one address to another address<br/></em>    <em class="mp">/// @dev This works identically to the other function with an extra data parameter,<br/></em>    <em class="mp">///  except this function just sets data to "".<br/></em>    <em class="mp">/// @param _from The current owner of the NFT<br/></em>    <em class="mp">/// @param _to The new owner<br/></em>    <em class="mp">/// @param _tokenId The NFT to transfer<br/></em>    <strong class="mf hu">function</strong> safeTransferFrom(<strong class="mf hu">address</strong> _from, <strong class="mf hu">address</strong> _to, <strong class="mf hu">uint256</strong> _tokenId) <strong class="mf hu">external</strong> <strong class="mf hu">payable</strong>;<br/><br/>    <em class="mp">/// @notice Transfer ownership of an NFT -- THE CALLER IS RESPONSIBLE<br/></em>    <em class="mp">///  TO CONFIRM THAT `_to` IS CAPABLE OF RECEIVING NFTS OR ELSE<br/></em>    <em class="mp">///  THEY MAY BE PERMANENTLY LOST<br/></em>    <em class="mp">/// @dev Throws unless `msg.sender` is the current owner, an authorized<br/></em>    <em class="mp">///  operator, or the approved address for this NFT. Throws if `_from` is<br/></em>    <em class="mp">///  not the current owner. Throws if `_to` is the zero address. Throws if<br/></em>    <em class="mp">///  `_tokenId` is not a valid NFT.<br/></em>    <em class="mp">/// @param _from The current owner of the NFT<br/></em>    <em class="mp">/// @param _to The new owner<br/></em>    <em class="mp">/// @param _tokenId The NFT to transfer<br/></em>    <strong class="mf hu">function</strong> transferFrom(<strong class="mf hu">address</strong> _from, <strong class="mf hu">address</strong> _to, <strong class="mf hu">uint256</strong> _tokenId) <strong class="mf hu">external</strong> <strong class="mf hu">payable</strong>;<br/><br/>    <em class="mp">/// @notice Change or reaffirm the approved address for an NFT<br/></em>    <em class="mp">/// @dev The zero address indicates there is no approved address.<br/></em>    <em class="mp">///  Throws unless `msg.sender` is the current NFT owner, or an authorized<br/></em>    <em class="mp">///  operator of the current owner.<br/></em>    <em class="mp">/// @param _approved The new approved NFT controller<br/></em>    <em class="mp">/// @param _tokenId The NFT to approve<br/></em>    <strong class="mf hu">function</strong> approve(<strong class="mf hu">address</strong> _approved, <strong class="mf hu">uint256</strong> _tokenId) <strong class="mf hu">external</strong> <strong class="mf hu">payable</strong>;<br/><br/>    <em class="mp">/// @notice Enable or disable approval for a third party ("operator") to manage<br/></em>    <em class="mp">///  all of `msg.sender`'s assets<br/></em>    <em class="mp">/// @dev Emits the ApprovalForAll event. The contract MUST allow<br/></em>    <em class="mp">///  multiple operators per owner.<br/></em>    <em class="mp">/// @param _operator Address to add to the set of authorized operators<br/></em>    <em class="mp">/// @param _approved True if the operator is approved, false to revoke approval<br/></em>    <strong class="mf hu">function</strong> setApprovalForAll(<strong class="mf hu">address</strong> _operator, <strong class="mf hu">bool</strong> _approved) <strong class="mf hu">external</strong>;<br/><br/>    <em class="mp">/// @notice Get the approved address for a single NFT<br/></em>    <em class="mp">/// @dev Throws if `_tokenId` is not a valid NFT.<br/></em>    <em class="mp">/// @param _tokenId The NFT to find the approved address for<br/></em>    <em class="mp">/// @return The approved address for this NFT, or the zero address if there is none<br/></em>    <strong class="mf hu">function</strong> getApproved(<strong class="mf hu">uint256</strong> _tokenId) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">address</strong>);<br/><br/>    <em class="mp">/// @notice Query if an address is an authorized operator for another address<br/></em>    <em class="mp">/// @param _owner The address that owns the NFTs<br/></em>    <em class="mp">/// @param _operator The address that acts on behalf of the owner<br/></em>    <em class="mp">/// @return True if `_operator` is an approved operator for `_owner`, false otherwise<br/></em>    <strong class="mf hu">function</strong> isApprovedForAll(<strong class="mf hu">address</strong> _owner, <strong class="mf hu">address</strong> _operator) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">bool</strong>);<br/>}<br/><br/><strong class="mf hu">interface</strong> ERC165 {<br/>    <em class="mp">/// @notice Query if a contract implements an interface<br/></em>    <em class="mp">/// @param interfaceID The interface identifier, as specified in ERC-165<br/></em>    <em class="mp">/// @dev Interface identification is specified in ERC-165. This function<br/></em>    <em class="mp">///  uses less than 30,000 gas.<br/></em>    <em class="mp">/// @return `true` if the contract implements `interfaceID` and<br/></em>    <em class="mp">///  `interfaceID` is not 0xffffffff, `false` otherwise<br/></em>    <strong class="mf hu">function</strong> supportsInterface(<strong class="mf hu">bytes4</strong> interfaceID) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">bool</strong>);<br/>}</span></pre><p id="b5e1" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">钱包/经纪人/拍卖应用程序必须实现钱包接口，如果它将接受安全转移。</p><pre class="jk jl jm jn fq mg mf mh mi aw mj dt"><span id="f99f" class="mk ks ht mf b fv ml mm l mn mo"><em class="mp">/// @dev Note: the ERC-165 identifier for this interface is 0x150b7a02.<br/></em><strong class="mf hu">interface</strong> ERC721TokenReceiver {<br/>    <em class="mp">/// @notice Handle the receipt of an NFT<br/></em>    <em class="mp">/// @dev The ERC721 smart contract calls this function on the recipient<br/></em>    <em class="mp">///  after a `transfer`. This function MAY throw to revert and reject the<br/></em>    <em class="mp">///  transfer. Return of other than the magic value MUST result in the<br/></em>    <em class="mp">///  transaction being reverted.<br/></em>    <em class="mp">///  Note: the contract address is always the message sender.<br/></em>    <em class="mp">/// @param _operator The address which called `safeTransferFrom` function<br/></em>    <em class="mp">/// @param _from The address which previously owned the token<br/></em>    <em class="mp">/// @param _tokenId The NFT identifier which is being transferred<br/></em>    <em class="mp">/// @param _data Additional data with no specified format<br/></em>    <em class="mp">/// @return `bytes4(keccak256("onERC721Received(address,address,uint256,bytes)"))`<br/></em>    <em class="mp">///  unless throwing<br/></em>    <strong class="mf hu">function</strong> onERC721Received(<strong class="mf hu">address</strong> _operator, <strong class="mf hu">address</strong> _from, <strong class="mf hu">uint256</strong> _tokenId, <strong class="mf hu">bytes</strong> _data) <strong class="mf hu">external</strong> <strong class="mf hu">returns</strong>(<strong class="mf hu">bytes4</strong>);<br/>}</span></pre><p id="ca0b" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">元数据扩展</strong>对于ERC-721智能合约是可选的。这允许您的智能契约被询问其名称以及关于您的NFT所代表的资产的细节。</p><pre class="jk jl jm jn fq mg mf mh mi aw mj dt"><span id="17f0" class="mk ks ht mf b fv ml mm l mn mo"><em class="mp">/// @title ERC-721 Non-Fungible Token Standard, optional metadata extension<br/>/// @dev See https://eips.ethereum.org/EIPS/eip-721<br/>///  Note: the ERC-165 identifier for this interface is 0x5b5e139f.<br/></em><strong class="mf hu">interface</strong> ERC721Metadata <em class="mp">/* is ERC721 */</em> {<br/>    <em class="mp">/// @notice A descriptive name for a collection of NFTs in this contract<br/></em>    <strong class="mf hu">function</strong> name() <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">string</strong> _name);</span><span id="763d" class="mk ks ht mf b fv mq mm l mn mo">    <em class="mp">/// @notice An abbreviated name for NFTs in this contract<br/></em>    <strong class="mf hu">function</strong> symbol() <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">string</strong> _symbol);</span><span id="24e8" class="mk ks ht mf b fv mq mm l mn mo">    <em class="mp">/// @notice A distinct Uniform Resource Identifier (URI) for a given asset.<br/></em>    <em class="mp">/// @dev Throws if `_tokenId` is not a valid NFT. URIs are defined in RFC<br/></em>    <em class="mp">///  3986. The URI may point to a JSON file that conforms to the "ERC721<br/></em>    <em class="mp">///  Metadata JSON Schema".<br/></em>    <strong class="mf hu">function</strong> tokenURI(<strong class="mf hu">uint256</strong> _tokenId) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">string</strong>);</span></pre><p id="79ec" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">这就是“ERC721元数据JSON模式”。</p><pre class="jk jl jm jn fq mg mf mh mi aw mj dt"><span id="6516" class="mk ks ht mf b fv ml mm l mn mo">{<br/>    "title": "Asset Metadata",<br/>    "type": "object",<br/>    "properties": {<br/>        "name": {<br/>            "type": "string",<br/>            "description": "Identifies the asset to which this NFT represents"<br/>        },<br/>        "description": {<br/>            "type": "string",<br/>            "description": "Describes the asset to which this NFT represents"<br/>        },<br/>        "image": {<br/>            "type": "string",<br/>            "description": "A URI pointing to a resource with mime type image/* representing the asset to which this NFT represents. Consider making any images at a width between 320 and 1080 pixels and aspect ratio between 1.91:1 and 4:5 inclusive."<br/>        }<br/>    }<br/>}</span></pre><p id="3dbe" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">对于ERC-721智能合同来说，<strong class="jx hu">枚举扩展</strong>是可选的(参见下面的“注意事项”)。这允许您的合同发布其完整的NFT列表，并使它们可被发现。</p><pre class="jk jl jm jn fq mg mf mh mi aw mj dt"><span id="0df9" class="mk ks ht mf b fv ml mm l mn mo"><em class="mp">/// @title ERC-721 Non-Fungible Token Standard, optional enumeration extension<br/>/// @dev See https://eips.ethereum.org/EIPS/eip-721<br/>///  Note: the ERC-165 identifier for this interface is 0x780e9d63.<br/></em><strong class="mf hu">interface</strong> ERC721Enumerable <em class="mp">/* is ERC721 */</em> {<br/>    <em class="mp">/// @notice Count NFTs tracked by this contract<br/></em>    <em class="mp">/// @return A count of valid NFTs tracked by this contract, where each one of<br/></em>    <em class="mp">///  them has an assigned and queryable owner not equal to the zero address<br/></em>    <strong class="mf hu">function</strong> totalSupply() <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">uint256</strong>);</span><span id="3244" class="mk ks ht mf b fv mq mm l mn mo">    <em class="mp">/// @notice Enumerate valid NFTs<br/></em>    <em class="mp">/// @dev Throws if `_index` &gt;= `totalSupply()`.<br/></em>    <em class="mp">/// @param _index A counter less than `totalSupply()`<br/></em>    <em class="mp">/// @return The token identifier for the `_index`th NFT,<br/></em>    <em class="mp">///  (sort order not specified)<br/></em>    <strong class="mf hu">function</strong> tokenByIndex(<strong class="mf hu">uint256</strong> _index) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">uint256</strong>);</span><span id="bb68" class="mk ks ht mf b fv mq mm l mn mo">    <em class="mp">/// @notice Enumerate NFTs assigned to an owner<br/></em>    <em class="mp">/// @dev Throws if `_index` &gt;= `balanceOf(_owner)` or if<br/></em>    <em class="mp">///  `_owner` is the zero address, representing invalid NFTs.<br/></em>    <em class="mp">/// @param _owner An address where we are interested in NFTs owned by them<br/></em>    <em class="mp">/// @param _index A counter less than `balanceOf(_owner)`<br/></em>    <em class="mp">/// @return The token identifier for the `_index`th NFT assigned to `_owner`,<br/></em>    <em class="mp">///   (sort order not specified)<br/></em>    <strong class="mf hu">function</strong> tokenOfOwnerByIndex(<strong class="mf hu">address</strong> _owner, <strong class="mf hu">uint256</strong> _index) <strong class="mf hu">external</strong> <strong class="mf hu">view</strong> <strong class="mf hu">returns</strong> (<strong class="mf hu">uint256</strong>);<br/>}</span></pre><p id="3aa6" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">0 . 4 . 20 Solidity接口语法的表达能力不足以记录ERC-721标准。符合ERC-721的合同还必须遵守以下规定:</strong></p><ul class=""><li id="e0de" class="lo lp ht jx b jy jz kb kc ke lq ki lr km ls kq lt lu lv lw dt translated">可靠性问题#3412:上述接口包含了每个函数的显式可变性保证。可变性保证按照从弱到强的顺序是:<code class="eh mc md me mf b">payable</code>、隐式不可支付、<code class="eh mc md me mf b">view</code>和<code class="eh mc md me mf b">pure</code>。您的实现必须满足该接口中的可变性保证，并且您可能会满足更强的保证。例如，这个接口中的一个<code class="eh mc md me mf b">payable</code>函数可能在您的契约中被实现为不可支付的(没有指定状态可变性)。我们预计以后的Solidity版本将允许您更严格的契约从该接口继承，但是版本0.4.20的一个变通方法是，您可以在从您的契约继承之前编辑该接口以添加更严格的可变性。</li><li id="e915" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">可靠性问题#3419:实现了<code class="eh mc md me mf b">ERC721Metadata</code>或<code class="eh mc md me mf b">ERC721Enumerable</code>的合同也应该实现<code class="eh mc md me mf b">ERC721</code>。ERC-721实现了ERC-165接口的要求。</li><li id="5c2c" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">可靠性问题#2330:如果一个函数在本规范中显示为<code class="eh mc md me mf b">external</code>，那么如果它使用了<code class="eh mc md me mf b">public</code>可见性，那么它将是兼容的。作为版本0.4.20的一个变通方法，您可以在从您的契约继承之前编辑这个接口以切换到<code class="eh mc md me mf b">public</code>。</li><li id="c766" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">Solidity问题#3494，# 3544:Solidity将<code class="eh mc md me mf b">this.*.selector</code>的使用标记为警告，Solidity的未来版本不会将其标记为错误。</li></ul><h1 id="620a" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">基本原理</h1><p id="c8fb" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">以太坊智能合约的许多用途都依赖于可识别资产的跟踪。现有或计划中的NFT的例子包括<strong class="jx hu">分散之地</strong>的土地、<strong class="jx hu">加密朋克</strong>的同名朋克，以及使用<strong class="jx hu"> DMarket </strong>或<strong class="jx hu"> EnjinCoin </strong>等系统的游戏内物品。未来的用途包括跟踪真实世界的资产，如房地产(如<strong class="jx hu"> Ubitquity </strong>或<strong class="jx hu"> Propy </strong>等公司)。在每一种情况下，非常重要的一点是，这些项目不能作为分类账中的数字<strong class="jx hu"/>“集中在一起”，而是每一项资产都应该拥有自己的所有权，并被单独和自动地跟踪。无论这些资产的性质如何，如果我们有一个支持跨职能资产管理和销售平台的标准化界面，生态系统将会更加强大。</p><h2 id="9144" class="mk ks ht bd kt mr ms mt kx mu mv mw lb ke mx my ld ki mz na lf km nb nc lh nd dt translated"><strong class="ak">“NFT”字选择</strong></h2><p id="dd64" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">“NFT”令几乎所有接受调查的人都感到满意，并广泛适用于各种不同的数字资产。我们认识到“契约”对于该标准的某些应用(特别是有形财产)非常具有描述性。</p><p id="6d83" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><em class="mp">考虑的备选方案:</em> <strong class="jx hu"> <em class="mp">可区分的资产、所有权、代币、资产、股权、票据</em> </strong></p><h2 id="85ff" class="mk ks ht bd kt mr ms mt kx mu mv mw lb ke mx my ld ki mz na lf km nb nc lh nd dt translated"><strong class="ak"> NFT标识符</strong></h2><p id="271b" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">每台NFT都由ERC-721智能合约中唯一的<code class="eh mc md me mf b">uint256</code> ID标识。该识别号在合同有效期内不得改变。然后，对<code class="eh mc md me mf b">(contract address, uint256 tokenId)</code>将成为以太坊链上特定资产的全球唯一且完全合格的标识符。虽然一些ERC-721智能合约可能会发现从ID 0开始并简单地为每个新的NFT增加1很方便，但调用者不应假设ID号有任何特定的模式，而必须将ID视为“黑盒”。还要注意，NFTs可能会变得无效(被销毁)。请查看支持的枚举接口的枚举函数。</p><p id="e92c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">选择<code class="eh mc md me mf b">uint256</code>允许各种各样的应用程序，因为UUIDs和sha3哈希可以直接转换成<code class="eh mc md me mf b">uint256</code>。</p><h2 id="ea24" class="mk ks ht bd kt mr ms mt kx mu mv mw lb ke mx my ld ki mz na lf km nb nc lh nd dt translated"><strong class="ak">传送机构</strong></h2><p id="20dd" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">ERC-721标准化了一个安全传递函数<code class="eh mc md me mf b">safeTransferFrom</code>(重载和不重载<code class="eh mc md me mf b">bytes</code>参数)和一个不安全函数<code class="eh mc md me mf b">transferFrom</code>。转账可由以下人员发起:</p><ul class=""><li id="037e" class="lo lp ht jx b jy jz kb kc ke lq ki lr km ls kq lt lu lv lw dt translated">NFT的主人</li><li id="61d9" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">NFT的核准地址</li><li id="be35" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">NFT当前所有者的授权操作者</li></ul><p id="8958" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">此外，授权操作员可以为NFT设置批准的地址。这为钱包、经纪人和拍卖应用程序提供了一套强大的工具来快速使用<em class="mp">大量的</em>NFT。</p><p id="b51c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">transfer和accept函数的文档只指定了事务必须抛出的条件。您的实现还可能引发其他情况。这允许实现获得有趣的结果:</p><ul class=""><li id="70ff" class="lo lp ht jx b jy jz kb kc ke lq ki lr km ls kq lt lu lv lw dt translated"><strong class="jx hu">如果合同暂停，则不允许转让</strong> —现有技术，CryptoKitties部署合同，第611行</li><li id="b2de" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><strong class="jx hu">阻止接收NFT的特定地址列表</strong> —现有技术，CryptoKitties部署合同，第565、566行</li><li id="1ae8" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><strong class="jx hu">不允许不安全的转移</strong> — <code class="eh mc md me mf b">transferFrom</code>抛出，除非<code class="eh mc md me mf b">_to</code>等于<code class="eh mc md me mf b">msg.sender</code>或者<code class="eh mc md me mf b">countOf(_to)</code>不为零或者先前不为零(因为这种情况是安全的)</li><li id="d54f" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><strong class="jx hu">向交易双方收取费用</strong>——如果之前是零地址，则在使用非零地址<code class="eh mc md me mf b">_approved</code>调用<code class="eh mc md me mf b">approve</code>时要求付款，如果之前是非零地址，则在使用零地址调用<code class="eh mc md me mf b">approve</code>时退还付款，在调用任何转账函数时要求付款，要求转账参数<code class="eh mc md me mf b">_to</code>等于<code class="eh mc md me mf b">msg.sender</code>，要求转账参数<code class="eh mc md me mf b">_to</code>为NFT的批准地址</li><li id="7f83" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><strong class="jx hu">只读NFT注册表</strong> —总是从<code class="eh mc md me mf b">unsafeTransfer</code>、<code class="eh mc md me mf b">transferFrom</code>、<code class="eh mc md me mf b">approve</code>和<code class="eh mc md me mf b">setApprovalForAll</code>抛出</li></ul><p id="7656" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">失败的事务将抛出，这是在ERC-223、ERC-677、ERC-827和OpenZeppelin的SafeERC20.sol实现中确定的最佳实践。ERC-20定义了一个<code class="eh mc md me mf b">allowance</code>功能，这在调用时导致了一个问题，后来修改为不同的数量，如OpenZeppelin问题#438。在ERC-721，没有津贴，因为每个NFT是唯一的，数量是零或一。因此，我们获得了ERC-20的原始设计的好处，没有后来发现的问题。</p><p id="2b33" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">本规范不包括NFT的产生(“铸造”)和NFT的销毁(“燃烧”)。您的合同可以通过其他方式实现这些。请参见<code class="eh mc md me mf b">event</code>文档，了解您在创建或销毁NFT时的职责。</p><h2 id="7b8a" class="mk ks ht bd kt mr ms mt kx mu mv mw lb ke mx my ld ki mz na lf km nb nc lh nd dt translated"><strong class="ak">隐私</strong></h2><p id="ff82" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">动机部分中确定的钱包/经纪人/拍卖人强烈需要确定所有者拥有哪些非金融资产。</p><p id="ac23" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">考虑一个NFT不可枚举的用例可能会很有趣，比如私有的财产所有权注册，或者部分私有的注册。但是，隐私是无法获得的，因为攻击者可以简单地(！idspnonenote)攻击。)为每一个可能的<code class="eh mc md me mf b">tokenId</code>调用<code class="eh mc md me mf b">ownerOf</code>。</p><h2 id="38be" class="mk ks ht bd kt mr ms mt kx mu mv mw lb ke mx my ld ki mz na lf km nb nc lh nd dt translated"><strong class="ak">元数据选择</strong></h2><p id="bf28" class="pw-post-body-paragraph jv jw ht jx b jy lj iu ka kb lk ix kd ke ll kg kh ki lm kk kl km ln ko kp kq hm dt translated">提供了一种将NFTs与URIs相关联的机制。我们预计许多实现将利用这一点为每个NFT提供元数据。图片尺寸推荐取自Instagram，他们大概很懂图片可用性。URI可能是可变的(即，它随时变化)。我们考虑了一个代表房屋所有权的NFT，在这种情况下是关于房屋的元数据(图像、居住者等)。)自然可以改变。</p><p id="d4f2" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">元数据作为字符串值返回。目前这仅可用于从<code class="eh mc md me mf b">web3</code>调用，不能从其他合同调用。这是可以接受的，因为我们没有考虑过区块链上的应用程序查询这种信息的用例。</p><p id="795d" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu"> <em class="mp">备选方案:将每个资产的所有元数据放在区块链上(太贵)，使用URL模板查询元数据部分(URL模板并不适用于所有URL方案，尤其是P2P URLs)，多地址网络地址(不够成熟)</em> </strong></p><h1 id="7c23" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated"><strong class="ak">参考文献:</strong></h1><ol class=""><li id="ebed" class="lo lp ht jx b jy lj kb lk ke ne ki nf km ng kq nh lu lv lw dt translated"><a class="ae ni" href="https://eips.ethereum.org/EIPS/eip-20" rel="noopener ugc nofollow" target="_blank"> ERC-20 </a>令牌标准。</li><li id="d5b6" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated"><a class="ae ni" href="https://eips.ethereum.org/EIPS/eip-165" rel="noopener ugc nofollow" target="_blank"> ERC-165 </a>标准接口检测。</li><li id="d9b9" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated"><a class="ae ni" href="https://eips.ethereum.org/EIPS/eip-173" rel="noopener ugc nofollow" target="_blank"> ERC-173 </a>自有标准。</li><li id="bacc" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated"><a class="ae ni" href="https://github.com/ethereum/EIPs/issues/223" rel="noopener ugc nofollow" target="_blank"> ERC-223 </a>令牌标准。</li><li id="c817" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated"><a class="ae ni" href="https://github.com/ethereum/EIPs/issues/677" rel="noopener ugc nofollow" target="_blank"> ERC-677 </a>令牌标准。</li><li id="9fe0" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated"><a class="ae ni" href="https://github.com/ethereum/EIPs/issues/827" rel="noopener ugc nofollow" target="_blank"> ERC-827 </a>令牌标准。</li><li id="afc1" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated">以太坊名称服务(ENS)。<a class="ae ni" href="https://ens.domains" rel="noopener ugc nofollow" target="_blank"> https://ens.domains </a></li><li id="7a10" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated">insta gram——图像分辨率是多少？<a class="ae ni" href="https://help.instagram.com/1631821640426723" rel="noopener ugc nofollow" target="_blank">https://help.instagram.com/1631821640426723</a></li><li id="2aa5" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated">JSON模式。<a class="ae ni" href="https://json-schema.org/" rel="noopener ugc nofollow" target="_blank">https://json-schema.org/</a></li><li id="c93f" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated">多地址。<a class="ae ni" href="https://github.com/multiformats/multiaddr" rel="noopener ugc nofollow" target="_blank">https://github.com/multiformats/multiaddr</a></li><li id="650a" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated">RFC 2119在RFC中用于表示要求级别的关键词。<a class="ae ni" href="https://www.ietf.org/rfc/rfc2119.txt" rel="noopener ugc nofollow" target="_blank">https://www.ietf.org/rfc/rfc2119.txt</a></li><li id="f77a" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq nh lu lv lw dt translated"><a class="ae ni" href="https://github.com/fulldecent" rel="noopener ugc nofollow" target="_blank">威廉·恩特里肯</a>、<a class="ae ni" href="mailto:dete@axiomzen.co" rel="noopener ugc nofollow" target="_blank">迪特·雪莉</a>、<a class="ae ni" href="mailto:jacob@dekz.net" rel="noopener ugc nofollow" target="_blank">雅各布·伊文思</a>、<a class="ae ni" href="mailto:nastassia.sachs@protonmail.com" rel="noopener ugc nofollow" target="_blank">纳斯塔西亚·萨克斯</a>、【EIP-721:不可替代令牌标准】、<em class="mp">以太坊改进提案</em>，第721期，2018年1月。【网上连载】。可用:<a class="ae ni" href="https://eips.ethereum.org/EIPS/eip-721." rel="noopener ugc nofollow" target="_blank">https://eips.ethereum.org/EIPS/eip-721.</a></li></ol><h2 id="5a49" class="mk ks ht bd kt mr ms mt kx mu mv mw lb ke mx my ld ki mz na lf km nb nc lh nd dt translated">本文将有一个续篇，涵盖与ERC721不可替换令牌标准相关的一系列接口、契约和实用程序</h2><h1 id="4bb6" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">交换。网队<br/>官网—<a class="ae ni" href="https://swap.net/" rel="noopener ugc nofollow" target="_blank">https://swap.net/</a><br/>推特—<a class="ae ni" href="https://twitter.com/NFTSwapnet" rel="noopener ugc nofollow" target="_blank">https://twitter.com/NFTSwapnet</a><br/>不和—<a class="ae ni" href="https://t.co/uzz0Qt12tf" rel="noopener ugc nofollow" target="_blank">https://t.co/uzz0Qt12tf</a><br/>中—<a class="ae ni" rel="noopener" href="/@NFTSwapnet">https://medium.com/@NFTSwapnet</a><br/>Docs&amp;白皮书—<a class="ae ni" href="https://t.co/5qc7Mxt2p5" rel="noopener ugc nofollow" target="_blank">http://docs.swap.net</a></h1><blockquote class="nj"><p id="707d" class="nk nl ht bd nm nn no np nq nr ns kq ek translated">加入Coinmonks <a class="ae ni" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ni" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="0063" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz nt ja ld jc nu jd lf jf nv jg lh li dt translated">另外，阅读</h1><ul class=""><li id="8384" class="lo lp ht jx b jy lj kb lk ke ne ki nf km ng kq lt lu lv lw dt translated"><a class="ae ni" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap评论</a> | <a class="ae ni" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li><li id="1c5c" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">最佳加密<a class="ae ni" rel="noopener" href="/coinmonks/hardware-wallets-dfa1211730c6">硬件钱包</a> | <a class="ae ni" rel="noopener" href="/coinmonks/bitbns-review-38256a07e161"> Bitbns评论</a></li><li id="f8c0" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><a class="ae ni" href="https://coincodecap.com/crypto-exchange-in-singapore" rel="noopener ugc nofollow" target="_blank">新加坡十大最佳加密交易所</a> | <a class="ae ni" href="https://coincodecap.com/buy-axs-token" rel="noopener ugc nofollow" target="_blank">购买AXS </a></li><li id="8132" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><a class="ae ni" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae ni" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae ni" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank">造币厂评论</a></li><li id="d904" class="lo lp ht jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated"><a class="ae ni" href="https://coincodecap.com/best-crypto-to-invest-in-india-in-2021" rel="noopener ugc nofollow" target="_blank">投资印度的最佳密码</a>|<a class="ae ni" href="https://coincodecap.com/wazirx-p2p" rel="noopener ugc nofollow" target="_blank">WazirX P2P</a>|<a class="ae ni" href="https://coincodecap.com/hi-dollar-review" rel="noopener ugc nofollow" target="_blank">Hi Dollar Review</a></li></ul></div></div>    
</body>
</html>