<html>
<head>
<title>How to Calculate ATR (Average True Range ) and Set Stop-Loss — Technical Analysis With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何计算ATR(平均真实范围)并设置止损——用JavaScript进行技术分析</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-calculate-atr-average-true-range-and-set-stop-loss-technical-analysis-with-javascript-39d875d24ac3?source=collection_archive---------8-----------------------#2022-06-12">https://medium.com/coinmonks/how-to-calculate-atr-average-true-range-and-set-stop-loss-technical-analysis-with-javascript-39d875d24ac3?source=collection_archive---------8-----------------------#2022-06-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="9b6d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">“在交易中，你不能阻止损失的发生，但你可以通过在交易中使用止损来避免重大损失。”<br/> ― <a class="ae jo" href="https://www.goodreads.com/quotes/tag/stop-loss#:~:text=%E2%80%9CIn%20trading%2C%20you%20can',stop%20loss%20in%20your%20trades.%E2%80%9D" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">奥拉维尔丹尼尔</strong> </a></p><blockquote class="jp jq jr"><p id="a027" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hm dt translated">你多久交易一次止损？ATR可以帮助你提高胜率。</p></blockquote><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div class="fe ff jw"><img src="../Images/b26072227534796848f1509908fe39eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*hor-UhC7C2qC4S5i_H7MTw.jpeg"/></div><figcaption class="ke kf fg fe ff kg kh bd b be z ek">Photo from <a class="ae jo" href="https://unsplash.com/s/photos/losing-money" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8a53" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可能已经错过了一次交易，因为你的交易在下一次“牛市”之前就已经止损了。</p><p id="7f37" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这是交易者的普遍经验。</p><p id="f9ac" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在本文中，您将了解ATR以及如何使用简单的javascript实现这个指标。</p><p id="5906" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">本文还将帮助您理解如何使用普通javascript计算ATR指标的值。</p><h1 id="220f" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">什么是ATR(平均真实范围指标)？</h1><p id="bd43" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated"><strong class="is hu"> ATR </strong>是<strong class="is hu">平均真实范围的缩写。it </strong>是交易员设置止损的常用指标。尤其是跟踪止损。</p><p id="7221" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">该指标在大多数交易所和TradingView中可用。</p><p id="8cd2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它用于股票、外汇和加密货币市场的技术分析。</p><blockquote class="jp jq jr"><p id="5087" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hm dt translated">“平均真实范围(ATR)是技术分析中使用的市场波动指标。</p><p id="553c" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hm dt translated">它通常来源于一系列真实范围指标的14天简单移动平均线。</p><p id="447c" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hm dt translated">ATR最初是为商品市场开发的，但后来被应用于所有类型的证券。”<a class="ae jo" href="https://www.investopedia.com/terms/a/atr.asp" rel="noopener ugc nofollow" target="_blank">—Investopedia.com</a></p></blockquote><h1 id="0931" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">ATR在技术分析中有多重要？</h1><p id="ca27" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">交易者可以用ATR来进出交易，当ATR和其他指标一起形成一个完整的策略时，ATR是很有用的。</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="fe ff ll"><img src="../Images/8ab749ae0e6f319a027169e7caba848e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IzByImZSflj5fkgzVaU87w.png"/></div></div><figcaption class="ke kf fg fe ff kg kh bd b be z ek">Photo from <a class="ae jo" href="https://currency.com/how-to-read-and-use-average-true-range-trading-indicator" rel="noopener ugc nofollow" target="_blank">Currency.com</a></figcaption></figure><p id="daa0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它的创建是为了让交易者通过简单的计算更准确地衡量资产的每日波动性。</p><p id="cf2f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">指标没有指明价格方向；相反，它主要用于衡量缺口引起的波动，并限制涨跌。</p><p id="977f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ATR的计算相当简单，只需要历史价格数据。</p><h1 id="917b" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">使用ATR设置止损。ATR的广泛应用优势</h1><p id="c597" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">如前所述，ATR是设置止损的重要工具。它可以在交易视图指示器中找到。</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div class="fe ff jw"><img src="../Images/47516c7e21940f3089f69bf4566a46bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*oXpfN9F8t2Ww_FGd6Lc6hw.jpeg"/></div><figcaption class="ke kf fg fe ff kg kh bd b be z ek">Photo from <a class="ae jo" href="https://unsplash.com/s/photos/losing-money" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="506a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">注意:最佳实践是将这些值乘以1.5倍或2倍，具体取决于您的风险管理承受能力。</p><h1 id="7485" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated"><strong class="ak">使用简单Javascript函数的基本ATR公式</strong></h1><p id="2f7a" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">如<strong class="is hu"> Investopedia </strong>网站所提供的，平均真实范围的公式为:</p><blockquote class="jp jq jr"><p id="c08b" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hm dt translated">"<em class="ht">TR</em>= Max[(<em class="ht">H</em>-<em class="ht">L</em>)、Abs(<em class="ht">H</em>-<em class="ht">CP</em>)、Abs(<em class="ht">L</em>-<em class="ht">CP</em>)】<em class="ht">ATR</em>=(<em class="ht">n</em>1)(<em class="ht">I</em>= 1)∑(<em class="ht">n</em>)<em class="ht">TRi</em></p></blockquote><p id="4773" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">因此，必须首先计算真实范围的系列/阵列。然后求出范围的平均值。这成为我们的平均真实范围。</p><p id="8fd2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">真实范围是根据以下公式计算的最大值:</p><pre class="jx jy jz ka fq lq lr ls lt aw lu dt"><span id="ab70" class="lv kj ht lr b fv lw lx l ly lz">High - Low<br/>High - Yesterday's Close<br/>last Candle stick Close - Low</span></pre><p id="1bd7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们为此需要的数据是我们感兴趣的货币或股票的当前/今天的最高价和最低价以及前一天/昨天的收盘价。这取决于所讨论的市场。加密市场全天候运行，因此使用以前的蜡烛棒数据。</p><p id="7616" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以用JavaScript表示如下:</p><figure class="jx jy jz ka fq kb"><div class="bz el l di"><div class="ma mb l"/></div></figure><h1 id="30c9" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">使用交易指标计算ATR。一个Javascript NPM包</h1><p id="2244" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">换句话说，要构建一个全功能的交易机器人，你需要已经构建好的包来实现ATR。</p><p id="81df" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我使用的是用Typescript编写的J  avascript <a class="ae jo" href="https://www.npmjs.com/package/technicalindicators" rel="noopener ugc nofollow" target="_blank">技术指标</a>库。你也应该试试。</p><p id="0f0c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要安装run:</p><pre class="jx jy jz ka fq lq lr ls lt aw lu dt"><span id="667c" class="lv kj ht lr b fv lw lx l ly lz">npm install --save technicalindicators</span><span id="52f4" class="lv kj ht lr b fv mc lx l ly lz">//to import and use in your project.<br/>const ATR <strong class="lr hu">=</strong> require('technicalindicators').ATR;</span></pre><p id="0898" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">代码:</p><figure class="jx jy jz ka fq kb"><div class="bz el l di"><div class="ma mb l"/></div></figure><h1 id="ca21" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">在RunKit上试试</h1><p id="1743" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">您可以使用RunKit轻松尝试ATR公式。以下是链接。<a class="ae jo" href="https://runkit.com/anandaravindan/atr" rel="noopener ugc nofollow" target="_blank">现在就试试</a></p><h1 id="2586" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated"><strong class="ak">结论</strong></h1><p id="9f63" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">ATR是技术分析非常重要的指标。大多数外汇、股票和加密货币的交易者在确定止损点时都使用ATR。</p><p id="53ec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">也有其他的技术指标来设置止损，例如BB(布林线)。技术分析的文章会更多。</p><p id="70d4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">谢谢，继续收听！</p></div><div class="ab cl md me hb mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hm hn ho hp hq"><p id="d696" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">你用什么技术指标来设置止损？请随意分享你的想法。</strong></p><blockquote class="mk"><p id="df03" class="ml mm ht bd mn mo mp mq mr ms mt jn ek translated">加入Coinmonks <a class="ae jo" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jo" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="d3a2" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt mu kv kw kx mv kz la lb mw ld le lf dt translated">另外，阅读</h1><ul class=""><li id="8679" class="mx my ht is b it lg ix lh jb mz jf na jj nb jn nc nd ne nf dt translated"><a class="ae jo" href="https://coincodecap.com/binance-futures-trading" rel="noopener ugc nofollow" target="_blank">币安期货交易</a>|<a class="ae jo" href="https://coincodecap.com/mudrex-3commas-etoro" rel="noopener ugc nofollow" target="_blank">3 commas vs Mudrex vs eToro</a></li><li id="bc2f" class="mx my ht is b it ng ix nh jb ni jf nj jj nk jn nc nd ne nf dt translated"><a class="ae jo" href="https://coincodecap.com/buy-monero" rel="noopener ugc nofollow" target="_blank">如何购买Monero </a> | <a class="ae jo" href="https://coincodecap.com/idex-review" rel="noopener ugc nofollow" target="_blank"> IDEX评论</a> | <a class="ae jo" href="https://coincodecap.com/bitkan-trading-bot" rel="noopener ugc nofollow" target="_blank"> BitKan交易机器人</a></li><li id="c175" class="mx my ht is b it ng ix nh jb ni jf nj jj nk jn nc nd ne nf dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/youhodler-vs-coinloan-vs-hodlnaut-b1050acde55a">尤霍德勒vs科恩洛vs霍德诺特</a> | <a class="ae jo" href="https://coincodecap.com/cryptohopper-vs-haasbot" rel="noopener ugc nofollow" target="_blank"> Cryptohopper vs哈斯博特</a></li><li id="2f3c" class="mx my ht is b it ng ix nh jb ni jf nj jj nk jn nc nd ne nf dt translated"><a class="ae jo" href="https://coincodecap.com/blockchain-courses" rel="noopener ugc nofollow" target="_blank">顶级付费加密货币和区块链课程</a></li><li id="e992" class="mx my ht is b it ng ix nh jb ni jf nj jj nk jn nc nd ne nf dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/mxc-exchange-review-3af0ec1cba8c"> MXC交易所评论</a> | <a class="ae jo" href="https://coincodecap.com/pionex-vs-binance" rel="noopener ugc nofollow" target="_blank"> Pionex vs币安</a> | <a class="ae jo" href="https://coincodecap.com/pionex-arbitrage-bot" rel="noopener ugc nofollow" target="_blank"> Pionex套利机器人</a></li><li id="6c75" class="mx my ht is b it ng ix nh jb ni jf nj jj nk jn nc nd ne nf dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94">如何在印度购买比特币？</a> | <a class="ae jo" rel="noopener" href="/coinmonks/wazirx-review-5c811b074f5b">瓦济克斯评论</a></li></ul></div></div>    
</body>
</html>