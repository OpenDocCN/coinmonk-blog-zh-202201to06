<html>
<head>
<title>NFT: How 2 simple optimizations could have saved 100M USD</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NFT:两个简单的优化如何节省1亿美元</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/nft-how-2-simple-optimizations-could-have-saved-100m-usd-b006b3546678?source=collection_archive---------18-----------------------#2022-05-01">https://medium.com/coinmonks/nft-how-2-simple-optimizations-could-have-saved-100m-usd-b006b3546678?source=collection_archive---------18-----------------------#2022-05-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/b839fac33d3ffb573904ebae71ae1791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7LHJD2U0raQnBcn5"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Source: <a class="ae jf" href="https://www.britannica.com/topic/money" rel="noopener ugc nofollow" target="_blank">https://www.britannica.com/topic/money</a></figcaption></figure><p id="69c1" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">由宇迦实验室发布的Otherside mint event的另一个行为至少可以说有点混乱。区块链以太坊的天然气价格在几分钟内飙升至前所未有的水平。仅在交易费用上就花费了超过1亿美元的价值。整个以太坊网络在很大程度上瘫痪了。</p><p id="7165" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">人们可以把启动策略作为一个原因，但主要因素是缺乏<strong class="ji hu">合同优化</strong>。每笔铸造交易使用的天然气量可以减少70%以上，这将节省价值数千万美元的交易费用。传输NFT的事务也没有得到优化。所以这里有<strong class="ji hu">两个简单的修正</strong>会产生巨大的影响。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ke"><img src="../Images/163f5e1810847ab1002055d330814c48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gCDbj5riMDOrqcl0OEP5Ww.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">ETH safe low gas price (gwei) during the mint event of Otherdeed for Otherside</figcaption></figure><h2 id="1dc4" class="kj kk ht bd kl km kn ko kp kq kr ks kt jr ku kv kw jv kx ky kz jz la lb lc ld dt translated">ERC 721可数</h2><p id="fec4" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated">Otherdeed的智能契约使用了<a class="ae jf" href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/extensions/ERC721Enumerable.sol" rel="noopener ugc nofollow" target="_blank"> ERC721Enumerable </a>扩展，它允许直接在链上存储和跟踪NFTs的所有权。这种扩展大大增加了事务中使用的gas量，因为它增加了必须在每次生成和转移调用时更新的昂贵的数据结构。我们正在讨论下面的变量:</p><figure class="kf kg kh ki fq iu"><div class="bz el l di"><div class="lj lk l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Variables added and updated by the ERC721Enumerable extension</figcaption></figure><p id="f914" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">考虑到这个扩展提供的功能可以很容易地使用交易历史离线实现，并且在链上实现它没有实际的好处，所以在您的智能契约中绝对应该避免使用ERC721Enumerable。</p><h2 id="318a" class="kj kk ht bd kl km kn ko kp kq kr ks kt jr ku kv kw jv kx ky kz jz la lb lc ld dt translated">ERC721A</h2><p id="c7d7" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated"><a class="ae jf" href="https://github.com/chiru-labs/ERC721A" rel="noopener ugc nofollow" target="_blank"> ERC721A </a>是由<a class="ae jf" href="https://www.azuki.com/" rel="noopener ugc nofollow" target="_blank"> AZUKI </a>开发的IERC721标准的新实现。其主要优势在于，在一次交易中铸造多个NFT时，可显著减少气体用量(参见下图，该图比较了ERC721A和ERC721A的多种实施方式)。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ll"><img src="../Images/41da8da1b0e56b349ba29b54ffbe1259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-rKpD7zx670cL2ZA"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Gas usage comparison (source: <a class="ae jf" href="https://github.com/chiru-labs/ERC721A" rel="noopener ugc nofollow" target="_blank">https://github.com/chiru-labs/ERC721A</a>)</figcaption></figure><p id="4612" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">Otherdeed smart合同没有使用ERC721A，因为该项目允许分批造币，所以它有利于他们的天然气优化。</p><p id="6852" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">注意:使用ERC721A的副作用是，它稍微增加了传输交易中使用的气体。也就是说，与铸造时节省的钱相比，这是微不足道的。</p><h2 id="c385" class="kj kk ht bd kl km kn ko kp kq kr ks kt jr ku kv kw jv kx ky kz jz la lb lc ld dt translated">结论</h2><p id="d878" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated">见证NFT空间变得如此之大是不真实的。最大的项目现在可以在几分钟内完全破坏整个以太坊网络。Otherdeed for Otherside mint活动的最大收获是，合同优化不仅会影响项目，还会影响整个生态系统。幸运的是，我们有简单的解决办法，它们可以为整个NFT社会带来巨大的变化。</p><blockquote class="lm"><p id="29ef" class="ln lo ht bd lp lq lr ls lt lu lv kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="7262" class="lw kk ht bd kl lx ly lz kp ma mb mc kt md me mf kw mg mh mi kz mj mk ml lc mm dt translated">另外，阅读</h1><ul class=""><li id="b9a9" class="mn mo ht ji b jj le jn lf jr mp jv mq jz mr kd ms mt mu mv dt translated"><a class="ae jf" href="https://coincodecap.com/trading-signal" rel="noopener ugc nofollow" target="_blank">交易信号是什么？</a> | <a class="ae jf" href="https://coincodecap.com/bitstamp-coinbase" rel="noopener ugc nofollow" target="_blank"> Bitstamp vs比特币基地</a> | <a class="ae jf" href="https://coincodecap.com/buy-solana" rel="noopener ugc nofollow" target="_blank">买索拉纳</a></li><li id="2a60" class="mn mo ht ji b jj mw jn mx jr my jv mz jz na kd ms mt mu mv dt translated"><a class="ae jf" href="https://coincodecap.com/profitfarmers-review" rel="noopener ugc nofollow" target="_blank"> ProfitFarmers回顾</a> | <a class="ae jf" href="https://coincodecap.com/cornix-trading-bot" rel="noopener ugc nofollow" target="_blank">如何使用Cornix Trading Bot </a></li><li id="867a" class="mn mo ht ji b jj mw jn mx jr my jv mz jz na kd ms mt mu mv dt translated"><a class="ae jf" href="https://coincodecap.com/best-cryptocurrency-blogs" rel="noopener ugc nofollow" target="_blank">十大最佳加密货币博客</a> | <a class="ae jf" href="https://coincodecap.com/youhodler-review" rel="noopener ugc nofollow" target="_blank"> YouHodler评论</a></li><li id="5a92" class="mn mo ht ji b jj mw jn mx jr my jv mz jz na kd ms mt mu mv dt translated"><a class="ae jf" href="https://coincodecap.com/myconstant-review" rel="noopener ugc nofollow" target="_blank">my constant Review</a>|<a class="ae jf" href="https://coincodecap.com/best-swing-trading-bots" rel="noopener ugc nofollow" target="_blank">8款最佳摇摆交易机器人</a></li><li id="b94e" class="mn mo ht ji b jj mw jn mx jr my jv mz jz na kd ms mt mu mv dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/mxc-exchange-review-3af0ec1cba8c"> MXC交易所评论</a> | <a class="ae jf" href="https://coincodecap.com/pionex-vs-binance" rel="noopener ugc nofollow" target="_blank"> Pionex vs币安</a> | <a class="ae jf" href="https://coincodecap.com/pionex-arbitrage-bot" rel="noopener ugc nofollow" target="_blank"> Pionex套利机器人</a></li></ul></div></div>    
</body>
</html>