<html>
<head>
<title>How to Predict Ethereum Price using Python and General Brownian Motion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python和广义布朗运动预测以太坊价格</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-predict-ethereum-price-using-python-and-general-brownian-motion-f01cfe7e9ea3?source=collection_archive---------7-----------------------#2022-02-26">https://medium.com/coinmonks/how-to-predict-ethereum-price-using-python-and-general-brownian-motion-f01cfe7e9ea3?source=collection_archive---------7-----------------------#2022-02-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/4eacf2eb7639edb2f18cbe9447da632f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QAbSAIr-T1CyF5rFUPKLEA.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Source: Unsplash</figcaption></figure><p id="a21a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="kd">注意:本文并不旨在提供任何专业的金融/投资建议。这只是为了教育目的。</em></p><p id="8117" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我花了很多时间来建立数学和机器学习模型，以创建产生阿尔法的自动交易系统。这是一个对初学者友好的教程，我的目的是邀请数据科学新手使用它作为学习练习。</p><p id="b3c1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">今天我们将使用模拟随机变量来预测以太坊的价格。从纯数学的角度考虑这种方法，因为极其精确的价格预测需要更复杂的模型输入，如市场情绪、社会经济因素等。</p><p id="4ac6" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在我们进入数学之前，我想为新来的人描述几个术语:</p><ul class=""><li id="a01c" class="ke kf ht jh b ji jj jm jn jq kg ju kh jy ki kc kj kk kl km dt translated"><strong class="jh hu">蒙特卡罗模拟</strong>:这些模型帮助我们预测当随机变量的干预出现时不同结果的概率。它们允许数据科学家构建太复杂而无法分析建模的资产分布。我们将在建模中使用蒙特卡洛模拟(这里的<a class="ae kn" href="https://www.youtube.com/watch?v=7ESK5SaP-bc&amp;ab_channel=MarbleScience" rel="noopener ugc nofollow" target="_blank"/>是一个用简单例子解释这一点的视频)。</li><li id="6a15" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><strong class="jh hu">流程</strong>(在数据科学的语境下！):流程是随着时间的推移而演变以实现目标的事件，通常具有0到t的时间段。在此期间，事件可能在过程中的不同点发生，可能会对流程的最终值产生影响。</li><li id="2fe7" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><strong class="jh hu">随机过程</strong>:可以用某个随机变量随时间的变化来描述的过程，可以是离散的，也可以是连续的。</li><li id="f3b5" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><strong class="jh hu">随机游走</strong>:在有效市场中，金融价格应该呈现随机游走模式。用最简单的话来说，随机漫步是一个从0分开始的随机过程。在每一个离散事件中，有一个概率<em class="kd"> p </em>你的分数会增加+1，有一个概率<em class="kd"> (1-p) </em>你的分数会减少1。事件发生<em class="kd"> T </em>次。在这种情况下，<em class="kd"> T </em>的期望值是<em class="kd"> 0 + T[p(+1) + (1-p)(-1)] </em></li><li id="025a" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><strong class="jh hu">马尔可夫过程</strong>:更准确地说，金融市场价格被假设遵循马尔可夫过程，这是一种随机过程，只有变量的现值与预测未来相关。过去无关紧要。</li></ul><p id="cb1c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">通过模拟，我们将首先创建能够准确反映推动以太坊价格的风险因素的合成变量。这些因素包括加密价格、股票价格、指数、汇率、无风险回报以及商品价格。</p><p id="a22d" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">上面提到的模拟马尔可夫过程是使用以下组件开发的:</p><p id="f171" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">维纳过程</strong></p><p id="be58" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">维纳过程(也称为布朗运动)是由非负实数t索引的随机过程{Wt}t≥0+,具有以下性质:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/605084995e32d4cd3a80bf41203a9617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*lHA43JSX4pBpjma3ZOhK_g.png"/></div></figure><p id="f812" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在我们的例子中，它描述了变量δ<em class="kd">z</em>，其变化在间隔δ<em class="kd">t</em>上被测量，使得其平均变化为零，并且方差与δ<em class="kd">t</em>成比例:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff ky"><img src="../Images/9a8224a83bf44f5e9fc6b4f185b76057.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*3kD7mozaovuhAy8WpjRYdg.png"/></div></figure><p id="eb84" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果<em class="kd"> ε </em>是一个标准正态变量<em class="kd"> N(0，1) </em>，这可以写成:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/04eddce68fa15f313c5215b4859ce1ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/format:webp/1*TJpb9IpRlNDZAd1XNAso5A.png"/></div></figure><p id="4a99" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">接着是<strong class="jh hu">广义维纳过程</strong>，它描述了从维纳过程建立的变量δ<em class="kd">x</em>，此外还有每单位时间的恒定趋势<em class="kd"> a </em>和波动性<em class="kd"> b </em>:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff la"><img src="../Images/e691436a9270a366a240063235b62cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*7RY9AwECNfqfyPUw5Nlr1g.png"/></div></div></figure><p id="5bc9" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">接下来我们有<strong class="jh hu">伊藤过程</strong>，这是一个适应的随机过程，可以表示为布朗运动的积分和时间的积分之和，如下所示:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff lb"><img src="../Images/bb2b670d3e49cec0704bfd4dbbb7caf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*jS7aDZl4DY-FCxX2QxTmuQ.png"/></div></figure><p id="ad86" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">Ito过程的一个特殊例子是<strong class="jh hu">几何布朗运动(GBM) </strong>，对于变量<em class="kd"> S </em>描述为:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff lc"><img src="../Images/4332909cf96dde3d12b6d9ffa3a2355e.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*vPxYJP3iXLngsecfCTQA-w.png"/></div></figure><p id="b6d2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">当您认为百分比变化是独立的且同分布时，GBM在股票价格随时间变化的建模中非常有用。例如，假设<em class="kd"> Xn </em>是某股票在时间<em class="kd"> n. </em>的价格，那么，假设<em class="kd">Xn</em>/<em class="kd">Xn</em>1，<em class="kd"> n </em> ≥ 1，是独立同分布的，这可能是合理的。该过程是几何的，因为趋势和波动项与δ<em class="kd">S</em>的当前值成比例。这通常适用于以太币价格，其回报率似乎比原始美元回报率更稳定。</p><p id="3ec8" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这就是我们的模型所需的大部分理论。在进入python代码之前，我想向您展示一个示例计算。</p><p id="6cdd" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">2021年以太坊的回报率<strong class="jh hu"> 404.2%。</strong>2020年为<strong class="jh hu">464.1%</strong>2019年为<strong class="jh hu">-8.0%</strong>2018年为<strong class="jh hu"> -82.7% </strong>。平均回报为<strong class="jh hu"> ~194%。</strong></p><p id="15c2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在本文发表之日，当前的ETH价格为<strong class="jh hu">2708.11美元。</strong>接下来一周比特币价格的变化过程是怎样的？</p><p id="51e5" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">流程如下:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff ld"><img src="../Images/6852903c38893f9d888a82112989e253.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*RYdfi3TPVpdl5yTvXg2yyg.png"/></div></figure><p id="bead" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">其中<em class="kd"> ε </em>是从标准正态分布中随机抽取的。如果间隔是一周，或者δ<em class="kd">t</em>= 1/52 = 0.01923，则平均值为</p><p id="f649" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="kd">μ</em>δ<em class="kd">t</em>= 1.94×0.01923 = 0.0373062</p><p id="6ebb" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">以太坊目前的平均波动率为<strong class="jh hu"> 72%，</strong>因此:</p><p id="8dc7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">σ√δ<em class="kd">t =</em>0.72×√0.01923 = 0.0937373837</p><p id="15ba" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这给了我们:</p><p id="3456" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">δ<em class="kd">S</em>= 2708.11美元x(0.0373062+0.09984403837 x<em class="kd">ε)</em></p><p id="5e55" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">对于这个过程，我们最终得到:</p><p id="1b69" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">δ<em class="kd">S =</em>101.029+270.389×<em class="kd">ε</em></p></div><div class="ab cl le lf hb lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hm hn ho hp hq"><h2 id="4396" class="ll lm ht bd ln lo lp lq lr ls lt lu lv jq lw lx ly ju lz ma mb jy mc md me mf dt translated"><strong class="ak">用Python预测以太币价格</strong></h2><p id="2f66" class="pw-post-body-paragraph jf jg ht jh b ji mg jk jl jm mh jo jp jq mi js jt ju mj jw jx jy mk ka kb kc hm dt translated">现在我们有了过程方程，让我们开始编码。我推荐使用Python3+。在我们的模拟中，该过程由具有正态分布的小步长近似，平均值和方差由下式给出:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/a841b1245668ea774a78574329980392.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*Vq1kbtZg_zRp6bbq08m1uw.png"/></div></figure><p id="7114" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">为了预测以太坊的未来价格，我们将从当前价格St开始，生成一个独立的标准正态变量ε的序列，对于<em class="kd"> i = 1，2，.。。，n </em>。</p><p id="80a1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">根据上面的等式，我们得到St +1为</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/3b4a5048f824306d6b2a41bb44cc96a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*uu-t0uwZwpT-FJqo27mnoQ.png"/></div></figure><p id="3c3d" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">对于St +n，我们得到St，它应该具有类似对数的分布。</p><p id="9881" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们将漂移(<em class="kd"> μ </em>)设置为0%。在数据科学中，<strong class="jh hu">漂移</strong>是指目标变量随时间变化的统计特性。我们将波动率定为70%左右，分为100步。</p><p id="1ec6" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">因此，局部预期收益为μδt = 0.0/100 = 0.0，波动率为0.70 × √(1/100) = 0.07</p><p id="77a4" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">下面是我的python脚本设置。初始化之后，我们将定义2个函数，第一个函数称为RAND()，它生成0和1之间均匀分布的随机数。下一个是NORMINV，它计算x的累积正态分布函数的倒数，以及提供的分布平均值&amp;标准差。</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="3d9b" class="ll lm ht mo b fv ms mt l mu mv">import numpy as np<br/>import pandas as pd<br/>from scipy.stats import norm<br/>from numpy.random import randn<br/>from numpy import random as rn<br/>import scipy.stats as si<br/>from matplotlib import pyplot as plt<br/>from IPython.display import Image<br/>%matplotlib inline</span><span id="932e" class="ll lm ht mo b fv mw mt l mu mv">def RAND():<br/> d = rn.uniform(0, 1, 1)[0]<br/> return (d)</span><span id="8159" class="ll lm ht mo b fv mw mt l mu mv">def NORMINV(x,mu,sigma):<br/> d = si.norm.ppf(x, loc = mu, scale = sigma)<br/> return (d)</span><span id="c2f3" class="ll lm ht mo b fv mw mt l mu mv">S0 = 2708.11</span><span id="c9f8" class="ll lm ht mo b fv mw mt l mu mv">M = 100<br/>S = np.ones(M)<br/>print (S)</span></pre><p id="0a7f" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">当我们打印S时，我们得到:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mx"><img src="../Images/14c338179b4bd051127fdfd31f34cebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KkEhiLiU4SfPGAfi-XDRbw.png"/></div></div></figure><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="4f7c" class="ll lm ht mo b fv ms mt l mu mv">step = np.arange(0,101)<br/>print (step)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff my"><img src="../Images/2c42e561b1dd0f00ec468a0c6f55879a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z9AjFBsGkk0_QzD44uRrGQ.png"/></div></div></figure><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="da00" class="ll lm ht mo b fv ms mt l mu mv">df = pd.DataFrame(step, columns=[‘Step i’])<br/>print (df)</span></pre><p id="def8" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们现在初始化我们的熊猫数据帧，看起来像:</p><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/88fe601e16afee0fc928556e8e269489.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*Df86d8xHFVVvmyioG8qVmg.png"/></div></figure><p id="ee1f" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">现在，让我们创建第二列，这将是一个统一的U(0，1)变量的实现，带有相应的RAND()函数。</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="fc0c" class="ll lm ht mo b fv ms mt l mu mv">df[‘Uniform ui RAND(⋅)’]=0.0000<br/>for i in range(1,len(df[‘Step i’])):<br/> df[‘Uniform ui RAND(⋅)’][i]=RAND()<br/>print(df)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff na"><img src="../Images/3b0ec5087d75aa5b583e6b4d5876c7e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*avWrLverZq_rWijJsMKGng.png"/></div></div></figure><p id="371c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们的下一篇专栏文章将把这个变量转换成均值为0.0、波动性为0.07的正态变量。</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="ca7b" class="ll lm ht mo b fv ms mt l mu mv">df[‘Normal ui NORMINV(ui,0.0,0.07)’]=0.0000<br/>for i in range(1,len(df[‘Step i’])):<br/> df[‘Normal ui NORMINV(ui,0.0,0.07)’][i] = NORMINV(df[‘Uniform ui RAND(⋅)’][i],0.0,0.07)<br/>print (df)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nb"><img src="../Images/7be5ee7649cc6330986ede0988d2c0fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xh_UFyqQaBNyAC2Kp1qczA.png"/></div></div></figure><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="595f" class="ll lm ht mo b fv ms mt l mu mv">df[‘Price St+i’]=0.000<br/>df[‘Price St+i’][0]=S0<br/>print(df)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nc"><img src="../Images/a2b4f2611896673a7f03fb70f9b69765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ww99pRJ-ZLIyUUcNTkH9Vg.png"/></div></div></figure><p id="bb1b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">第0步的St+i价格是我们最初的以太坊价格:2708.11美元。现在我们将创建一般的布朗运动过程:</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="ba80" class="ll lm ht mo b fv ms mt l mu mv">for i in range(0,100):<br/> df[‘Price St+i’][i+1] = df[‘Price St+i’][i]+ df[‘Price St+i’][i]*df[‘Normal ui NORMINV(ui,0.0,0.07)’][i+1]<br/>print(df)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nc"><img src="../Images/f20ffcf0b50ff83ca4201ba45265fb8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b5ZN9idjgFKcotGkMPI6Aw.png"/></div></div></figure><p id="5173" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">使用上面的数据框架，我们可以简单地通过将随机变量乘以之前的价格得到价格增量，就像这样。</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="304d" class="ll lm ht mo b fv ms mt l mu mv">df[‘Price Increment’]=0.000<br/>for i in range(1,100):<br/> df[‘Price Increment’][i] = df[‘Price St+i’][i-1] * df[‘Normal ui NORMINV(ui,0.0,0.07)’][i]<br/>df.drop([‘Price St+i’],axis=1,inplace=True)<br/>print(df)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nd"><img src="../Images/8fe731e324a909746025be58ae5e9cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itfSAfgx-FR6GjsbGi5oaw.png"/></div></div></figure><p id="9f0c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">最后，我们将构建价格St+i的后验列。</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="871d" class="ll lm ht mo b fv ms mt l mu mv">df[‘Price St+i’] = 0.000<br/>df[‘Price St+i’][0] = S0<br/>for i in range(0,100):<br/> df[‘Price St+i’][i+1] = df[‘Price St+i’][i]+ df[‘Price Increment’][i+1]<br/>print(df)</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nd"><img src="../Images/02de0882edb764be209836c2ec1ca6e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9ih4hlQLj8TYKc-9y_5Mg.png"/></div></div></figure><p id="7dbc" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">重复该过程，直到在第100步达到以太坊的最终价格。</p><p id="a7ad" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这个实验可以根据需要重复进行。将<em class="kd"> K </em>定义为重复或随机试验的次数。</p><pre class="ku kv kw kx fq mn mo mp mq aw mr dt"><span id="16d0" class="ll lm ht mo b fv ms mt l mu mv">import numpy as np<br/>import pandas as pd<br/>from scipy.stats import norm<br/>from numpy.random import randn<br/>from numpy import random as rn<br/>from matplotlib import pyplot as plt<br/>%matplotlib inline</span><span id="cbe7" class="ll lm ht mo b fv mw mt l mu mv">S0 = 2708.11<br/>mu = 0.00<br/>sigma = 0.07<br/>M = 10<br/>N = 100<br/>T = 1<br/>h = T/N<br/>Z = rn.randn(M,N)<br/>S = S0*np.ones((M,N+1))<br/>for i in range(0,N):<br/> S[:,i+1] = S[:,i] + S[:,i]*( mu*h + sigma*np.sqrt(h)*Z[:,i] )<br/>plt.figure(figsize=(17,10))<br/>a = [ rn.randint(0,M) for j in range(1,20)]<br/>for runer in a:<br/> plt.plot(np.arange(0,T+h,h),S[runer])</span></pre><figure class="ku kv kw kx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ne"><img src="../Images/c06e5f3a3a31456bcd9672367acc0528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UOmgu0qLd1j3pUYoe6Vysw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">X axis is Steps into the future and the Y axis is the price of Ethereum</figcaption></figure><p id="1e25" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在上图中，我们看到了前10次试验。每一个都导致一个模拟的最终值SkT。这产生了模拟价格ST的分布。</p><p id="d0a2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">对于原子模拟，分布总是正态的，然而，我们进行的模拟越多，分布就越趋于对数。</p><p id="246e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">正如你所看到的，这个模型对于模拟以太坊的未来价格非常有用，但是，这种方法有一些问题。</p><p id="c2e7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这种方法的缺点:</p><ul class=""><li id="9b03" class="ke kf ht jh b ji jj jm jn jq kg ju kh jy ki kc kj kk kl km dt translated">蒙特卡罗模拟很大程度上依赖于所做的假设，包括参数、分布的类型和形状以及定价函数</li><li id="b237" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated">我们假设漂移为零，但事实往往并非如此</li><li id="584e" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated">我们没有考虑影响资产价格的其他数据向量，如新闻、公众情绪、金融活动等。</li></ul><p id="9d24" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这篇文章的灵感来自于Roi Polanitzer的作品。我希望这是一个很好的学习练习，并提供了一些好的见解。每天，我都大量参与创建机器学习模型和算法方法以生成alpha的研究和开发。我也一直在幕后从事web3和De-fi项目，所以期待这些主题的更多内容！</p><blockquote class="nf"><p id="d450" class="ng nh ht bd ni nj nk nl nm nn no kc ek translated">加入Coinmonks <a class="ae kn" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae kn" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="5e01" class="np lm ht bd ln nq nr ns lr nt nu nv lv nw nx ny ly nz oa ob mb oc od oe me of dt translated">另外，阅读</h1><ul class=""><li id="82ab" class="ke kf ht jh b ji mg jm mh jq og ju oh jy oi kc kj kk kl km dt translated"><a class="ae kn" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">密码本交易平台</a> | <a class="ae kn" rel="noopener" href="/coinmonks/coinmama-review-ace5641bde6e"> Coinmama审核</a></li><li id="8ac0" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度的加密交易所</a> | <a class="ae kn" rel="noopener" href="/coinmonks/bitcoin-savings-account-e65b13f92451">比特币储蓄账户</a></li><li id="e474" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" href="https://coincodecap.com/okex-kucoin" rel="noopener ugc nofollow" target="_blank"> OKEx vs KuCoin </a> | <a class="ae kn" href="https://coincodecap.com/celsius-alternatives" rel="noopener ugc nofollow" target="_blank">摄氏替代品</a> | <a class="ae kn" href="https://coincodecap.com/buy-vechain" rel="noopener ugc nofollow" target="_blank">如何购买VeChain </a></li><li id="0530" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" href="https://coincodecap.com/binance-futures-trading" rel="noopener ugc nofollow" target="_blank">币安期货交易</a>|<a class="ae kn" href="https://coincodecap.com/mudrex-3commas-etoro" rel="noopener ugc nofollow" target="_blank">3 comas vs Mudrex vs eToro</a></li><li id="28ca" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" href="https://coincodecap.com/buy-monero" rel="noopener ugc nofollow" target="_blank">如何购买Monero </a> | <a class="ae kn" href="https://coincodecap.com/idex-review" rel="noopener ugc nofollow" target="_blank"> IDEX评论</a> | <a class="ae kn" href="https://coincodecap.com/bitkan-trading-bot" rel="noopener ugc nofollow" target="_blank"> BitKan交易机器人</a></li><li id="b560" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" rel="noopener" href="/coinmonks/coindcx-review-8444db3621a2"> CoinDCX评论</a> | <a class="ae kn" href="https://coincodecap.com/crypto-margin-trading-exchanges" rel="noopener ugc nofollow" target="_blank">加密保证金交易交易所</a></li><li id="e6dc" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae kn" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae kn" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank">造币厂评论</a></li><li id="34cf" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap评论</a> | <a class="ae kn" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li><li id="e7e3" class="ke kf ht jh b ji ko jm kp jq kq ju kr jy ks kc kj kk kl km dt translated"><a class="ae kn" href="https://coincodecap.com/ftx-futures-trading" rel="noopener ugc nofollow" target="_blank">如何在FTX交易所交易期货</a> | <a class="ae kn" href="https://coincodecap.com/okex-vs-binance" rel="noopener ugc nofollow" target="_blank"> OKEx vs币安</a></li></ul></div></div>    
</body>
</html>