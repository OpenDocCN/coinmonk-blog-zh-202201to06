<html>
<head>
<title>HOW TO USE PAYABLE FUNCTION IN SOLIDITY</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SOLIDITY中使用PAYABLE函数</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-use-payable-function-in-solidity-fa871e79b167?source=collection_archive---------9-----------------------#2022-04-28">https://medium.com/coinmonks/how-to-use-payable-function-in-solidity-fa871e79b167?source=collection_archive---------9-----------------------#2022-04-28</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/cf98228928dd8270dee61b09f17695bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U0H4y2hx7Uqx0atobYtm5A.jpeg"/></div></div></figure><p id="171a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这篇文章中，我将分解传递函数，并向您展示它是如何工作的，以及如何在solidity中最好地使用它。</p><p id="8a0e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我也将向你展示如何把乙醚从一个地址送到另一个地址</p><h1 id="e3ad" class="jz ka ht bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">传递函数是什么？</h1><p id="1538" class="pw-post-body-paragraph jb jc ht jd b je kx jg jh ji ky jk jl jm kz jo jp jq la js jt ju lb jw jx jy hm dt translated">转账功能允许您从智能合约中发送资金，因此每当您使用转账功能时，solidity都会知道即将发生转账。</p><p id="0af0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们使用下面我创建的合同来更好地解释这次转让。</p><p id="7daa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">// SPDX-License-Identifier: MIT</code></p><p id="1c5c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">pragma solidity &gt;=0.8.0;</code></p><p id="528c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">contract pay{</code></p><p id="c01c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//2nd stage</code></p><p id="9258" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//the account of the user we want to send ether to</code></p><p id="ae88" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">address payable receiver = payable(0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db);</code></p><p id="b1e7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我用这个0x4b 20993 BC 481177 EC 7e 8 f 571 ecae 8 a9 e 22 c 02 db创建了一个契约支付并添加了一个名为receiver的地址</p><p id="0e05" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">从remix我选择了一个不同的地址，因为我们想支付一些乙醚到这个地址。</p><p id="881a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//we are creating a function that allows for user to send money from</code></p><p id="f5f1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//our smart contract</code></p><p id="c6c8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//notice if we deploy this contract and transfer 1 ether it will work but where</code></p><p id="2a74" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//did our money go.</code></p><p id="968b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">function cell() public payable returns (uint){</code></p><p id="c515" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//we gave the returns (uint) keyword to give us the balance</code></p><p id="a634" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">return address(this).balance;</code></p><p id="ad25" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//give us the balance of the address of our smart contract</code></p><p id="542d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">}</code></p><p id="fad3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我创建了一个函数，允许我们调用交易的余额，注意我调用了(uint ),它告诉函数参数是一个无符号变量。</p><p id="b9f5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我调用了返回地址，这是我们的地址，因为这是我们引用内部变量时调用的，所以我们的地址会在发送资金后给我们余额</p><p id="b0a7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">//this function sends 5 ether to the receiver address above</code></p><p id="b9e4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">function sendEther()public {</code></p><p id="effb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">receiver.transfer(5 ether);</code></p><p id="a242" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">}</code></p><p id="cb19" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lc ld le lf b">}</code></p><p id="053b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这是将以太网发送到我们上面创建的地址接收器的逻辑。</p><p id="19a9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们测试一下，看看应付款是如何工作的。</p><p id="d0a2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我将部署合同，并确保没有错误，如果有错误，合同将不会部署。</p><p id="0f26" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我选择了不同的帐户，然后部署了合同。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lg"><img src="../Images/e061924d12789b0a7f8442e5dba006a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/0*OGOFd7tTMFZJatkp.PNG"/></div></figure><p id="0408" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">部署后，注意到我们有两个称为Cell和sendEther的函数，这是我们在此合约中的函数。</p><p id="982f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">接下来，我必须将资金发送到合同中，我将发送10个以太到合同中，确保将值从Wei更改为Ether</p><p id="c397" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">点击呼叫功能，如果有绿色勾号，表示资金已成功发送到区块链。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ll"><img src="../Images/09854809f95826b4899fda0eae922ad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7j8q3YZZe31wIpGJ.PNG"/></div></div></figure><p id="c979" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们在区块链(当地)有资金，检查账目，你会注意到10 Ether遗漏了主要地址，但它没有反映在任何地址中。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lm"><img src="../Images/9ce637d512f495374423aa5969e5cb09.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/0*4ZSXzr0CD3I1GqAp.png"/></div></figure><p id="7711" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们把5以太网发送到我们在接收者帐户中设置的地址。点击发送以太网，10以太网被添加到帐户。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff ln"><img src="../Images/87c19cf642a1055aa0b8e8b5b4f2b5fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/0*vUCEV1Jxnpkf1LvT.png"/></div></figure><p id="f214" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">哇哦。</p><p id="3a08" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">令人兴奋的是，下周我们将看看如何使用修饰符和构造函数。</p><blockquote class="lo"><p id="0a6c" class="lp lq ht bd lr ls lt lu lv lw lx jy ek translated">加入Coinmonks <a class="ae ly" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ly" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="b79e" class="jz ka ht bd kb kc kd ke kf kg kh ki kj kk lz km kn ko ma kq kr ks mb ku kv kw dt translated">另外，阅读</h1><ul class=""><li id="65b1" class="mc md ht jd b je kx ji ky jm me jq mf ju mg jy mh mi mj mk dt translated"><a class="ae ly" href="https://coincodecap.com/buy-monero" rel="noopener ugc nofollow" target="_blank">如何购买Monero </a> | <a class="ae ly" href="https://coincodecap.com/idex-review" rel="noopener ugc nofollow" target="_blank"> IDEX评论</a> | <a class="ae ly" href="https://coincodecap.com/bitkan-trading-bot" rel="noopener ugc nofollow" target="_blank"> BitKan交易机器人</a></li><li id="f244" class="mc md ht jd b je ml ji mm jm mn jq mo ju mp jy mh mi mj mk dt translated"><a class="ae ly" rel="noopener" href="/coinmonks/coindcx-review-8444db3621a2"> CoinDCX评论</a> | <a class="ae ly" href="https://coincodecap.com/crypto-margin-trading-exchanges" rel="noopener ugc nofollow" target="_blank">加密保证金交易交易所</a></li><li id="b32a" class="mc md ht jd b je ml ji mm jm mn jq mo ju mp jy mh mi mj mk dt translated"><a class="ae ly" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae ly" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae ly" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank"> CoinGate评论</a></li><li id="a2ad" class="mc md ht jd b je ml ji mm jm mn jq mo ju mp jy mh mi mj mk dt translated"><a class="ae ly" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap点评</a> | <a class="ae ly" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li><li id="2c1c" class="mc md ht jd b je ml ji mm jm mn jq mo ju mp jy mh mi mj mk dt translated"><a class="ae ly" href="https://coincodecap.com/ftx-futures-trading" rel="noopener ugc nofollow" target="_blank">如何在FTX交易所交易期货</a> | <a class="ae ly" href="https://coincodecap.com/okex-vs-binance" rel="noopener ugc nofollow" target="_blank"> OKEx vs币安</a></li><li id="f25b" class="mc md ht jd b je ml ji mm jm mn jq mo ju mp jy mh mi mj mk dt translated"><a class="ae ly" href="https://coincodecap.com/coinloan-review" rel="noopener ugc nofollow" target="_blank"> CoinLoan审查</a> | <a class="ae ly" rel="noopener" href="/coinmonks/youhodler-4-easy-ways-to-make-money-98969b9689f2"> YouHodler审查</a> | <a class="ae ly" href="https://coincodecap.com/blockfi-review" rel="noopener ugc nofollow" target="_blank"> BlockFi审查</a></li></ul></div></div>    
</body>
</html>