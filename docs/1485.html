<html>
<head>
<title>Solana on-chain cron scheduler is here</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">索拉纳链上克隆调度程序在这里</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/solana-on-chain-cron-scheduler-is-here-7839b7d67c0?source=collection_archive---------6-----------------------#2022-03-02">https://medium.com/coinmonks/solana-on-chain-cron-scheduler-is-here-7839b7d67c0?source=collection_archive---------6-----------------------#2022-03-02</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="6dc3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">索拉纳链上克隆调度程序终于来了。在Solana上安排一个链上cron作业只需要2行漂亮的代码。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/a24366fd5ca4d2f5ed7f1364076bf6a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DiveA-CHzxskfx5O5oKnQ.png"/></div></div></figure><p id="cd68" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你想直接进入代码，我们的SDK就在这里。如果你想要一点介绍，那就喝杯茶继续读下去。</p></div><div class="ab cl kb kc hb kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hm hn ho hp hq"><h1 id="b768" class="ki kj ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">克朗乔布</h1><p id="582f" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">Cron scheduler是应用程序开发的重要组成部分，已经被许多Web 2.0开发人员广泛使用。每种语言和每个平台都有一个cron库，这是很常见的。想想Linux的<em class="ll"> crontab </em>，NodeJS的<em class="ll"> node-cron </em>，Rust的<em class="ll"> tokio-cron-scheduler </em>，Amazon的<em class="ll"> lamda </em>等等。</p><p id="3824" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果您是构建在以太坊或Solana上的Web 3.0开发人员，您可能会问:</p><blockquote class="lm ln lo"><p id="139b" class="iq ir ll is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hm dt translated">智能合约的cron调度程序相当于什么？</p></blockquote><p id="fda4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">大多数时候，您得到的答案是智能合约中没有cron调度程序。建议的解决方法是构建你自己的外链服务，定期触发你的智能合约。这种方法可能适用于某些团队，但它是以巨大的开发成本、缺乏分散化和牺牲服务可靠性为代价的。一个链上的、分散的cron调度程序可以解决所有这三个问题——cron job 3.0是昨天需要的。</p><blockquote class="lm ln lo"><p id="376d" class="iq ir ll is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hm dt translated">毕竟，Web 3.0的要点是在其所有部分 <em class="ht">去中心化<strong class="is hu">。</strong></em></p></blockquote><h1 id="ebd1" class="ki kj ht bd kk kl ls kn ko kp lt kr ks kt lu kv kw kx lv kz la lb lw ld le lf dt translated">为索拉纳量身打造的链条克朗乔</h1><p id="723d" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">多年来，已经有许多尝试来解决这个具有挑战性的链上调度问题，主要是针对以太坊。像<a class="ae ka" href="https://ethereum-alarm-clock.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">以太坊闹钟</em> </a>或<a class="ae ka" href="https://www.gelato.network/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">意式冰淇淋</em> </a>这样的协议随后也因此而产生。</p><p id="dae2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">作为Solana的建造者，我们从零开始建造一些不同的、独特的、令人愉快的东西。</p><blockquote class="lm ln lo"><p id="56bb" class="iq ir ll is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hm dt translated">我们希望一流的调度经验为索拉纳开发人员建立的目的。</p></blockquote><p id="4268" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">雪花就是这样。</p><h1 id="a4d7" class="ki kj ht bd kk kl ls kn ko kp lt kr ks kt lu kv kw kx lv kz la lb lw ld le lf dt translated">雪花在行动</h1><p id="35eb" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">雪花使得在Solana上安排连锁cron作业变得容易。您可以通过Snowflake SDK或使用Snowflake Composer Dapp以编程方式实现这一点。</p><h2 id="cff7" class="lx kj ht bd kk ly lz ma ko mb mc md ks jb me mf kw jf mg mh la jj mi mj le mk dt translated">雪花SDK</h2><p id="6430" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">为您的web3项目安装雪花SDK。</p><pre class="jp jq jr js fq ml mm mn mo aw mp dt"><span id="bf0a" class="lx kj ht mm b fv mq mr l ms mt">npm i @snowflake-so/snowflake-sdk</span></pre><p id="0628" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">安排一个将来一次执行一次的作业</p><pre class="jp jq jr js fq ml mm mn mo aw mp dt"><span id="ac89" class="lx kj ht mm b fv mq mr l ms mt">const job = new JobBuilder()<br/>  .jobName("hello world")<br/>  .jobInstructions(instructions)<br/>  .scheduleOnce(tomorrow())<br/>  .build();<br/><br/>await snowflake.createJob(job);</span></pre><p id="7696" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用cron表达式计划重复作业</p><pre class="jp jq jr js fq ml mm mn mo aw mp dt"><span id="1c69" class="lx kj ht mm b fv mq mr l ms mt">const job = new JobBuilder()<br/>  .jobName("hello world")<br/>  .jobInstructions(instructions)<br/>  .scheduleCron("* * * * *", 10)<br/>  .build();<br/><br/>await snowflake.createJob(job);</span></pre><p id="d7b8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">调度基于开发人员程序中定义的任意条件触发的作业。</p><pre class="jp jq jr js fq ml mm mn mo aw mp dt"><span id="7ee7" class="lx kj ht mm b fv mq mr l ms mt">const job = new JobBuilder()<br/>  .jobName("hello world")<br/>  .jobInstructions(instructions)<br/>  .scheduleConditional(1)<br/>  .build();<br/><br/>await snowflake.createJob(job);</span></pre><p id="dc6c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">找份工作</p><pre class="jp jq jr js fq ml mm mn mo aw mp dt"><span id="6bcf" class="lx kj ht mm b fv mq mr l ms mt">await snowflake.fetch(jobPubkey);</span></pre><p id="e5ab" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你还可以做更多的事情。前往Github 中的<a class="ae ka" href="https://github.com/snowflake-so/snowflake-sdk" rel="noopener ugc nofollow" target="_blank">雪花SDK了解更多信息。</a></p><h2 id="4647" class="lx kj ht bd kk ly lz ma ko mb mc md ks jb me mf kw jf mg mh la jj mi mj le mk dt translated">雪花作曲家</h2><p id="68a5" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">Snowflake Composer使您可以轻松地创建、管理和监控您的cron作业。只需前往<a class="ae ka" href="https://app-staging.snowflake.so/#/global" rel="noopener ugc nofollow" target="_blank">https://devnet . snow flake . so</a>查看你的工作。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff mu"><img src="../Images/284bad43e06f602c40b7a4f2693809f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TIUcjYs7Ks5tDJSPbIERVQ.png"/></div></div></figure></div><div class="ab cl kb kc hb kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hm hn ho hp hq"><p id="b46d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在<a class="ae ka" href="https://snowflake.so/" rel="noopener ugc nofollow" target="_blank">雪花网络</a>，我们的使命是让建设者在Solana上构建下一代自主Dapps想想循环支付、自动化产量农业、自主NFT……过去需要几个月的智能合同开发和基础设施工程，现在只需两行代码就能实现。</p><p id="12b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们很期待看到你下一步要做什么。在推特上给我们发<a class="ae ka" href="https://discord.gg/9qWK2BNaMD" rel="noopener ugc nofollow" target="_blank">不和</a>或<a class="ae ka" href="https://twitter.com/snowflake_sol" rel="noopener ugc nofollow" target="_blank">DM</a>。雪花团队将帮助您解决可能遇到的任何问题。</p></div></div>    
</body>
</html>