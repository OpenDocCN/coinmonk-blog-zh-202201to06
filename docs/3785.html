<html>
<head>
<title>How Will Bashoswap Avoid The Huge Vulnerability Minswap Had?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bashoswap将如何避免Minswap曾有的巨大漏洞？</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-will-bashoswap-avoid-the-huge-vulnerability-minswap-had-2555c330aecb?source=collection_archive---------13-----------------------#2022-03-30">https://medium.com/coinmonks/how-will-bashoswap-avoid-the-huge-vulnerability-minswap-had-2555c330aecb?source=collection_archive---------13-----------------------#2022-03-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/6cb340713dc1b827a5a71adde0e64bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_CrpSaS_ewgjVE9sv-QraA.jpeg"/></div></div></figure><p id="5c11" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在检查几天前开源的<a class="ae jz" href="https://twitter.com/MinswapDEX/status/1506260223572549633?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1506260223572549633%7Ctwgr%5E%7Ctwcon%5Es1_c10&amp;ref_url=https%3A%2F%2Fbeincrypto.com%2Fcardano-based-minswap-dex-exits-maintenance-mode-patching-critical-vulnerability%2F" rel="noopener ugc nofollow" target="_blank"> Minswap智能合约</a>时，WingRiders团队注意到了一些bug。</p><p id="76fa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">多个bug很关键。WingRiders团队在UTC时间3月21日晚上与MinSwap团队取得了联系，并向他们通报了关键漏洞。</p><p id="2ceb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">根据这份报告，这个漏洞可能是流动性池令牌的一个缺陷，攻击者可以破坏它并带走资金。</p><p id="3334" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Bashoswap开发团队一直在密切关注这一情况，下面是我们对这个bug的看法以及我们已经采取的预防措施。</p><p id="7a64" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">核心问题</strong></p><p id="5451" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们先来看看问题的根源是什么<strong class="jd hu">[</strong><a class="ae jz" href="https://www.tweag.io/blog/2022-03-25-minswap-lp-vulnerability/" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">source</strong></a><strong class="jd hu">】</strong>具体来说，他们有一个铸造策略，允许在铸造该铸造策略中具有特定令牌名称的一个令牌时进行验证，<strong class="jd hu">* *忽略** </strong>可以铸造其他令牌。</p><p id="cf26" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当你忽略脚本不是<strong class="jd hu">*做* </strong>的事情，而是<strong class="jd hu">*验证* </strong>的动作时，这是一个容易犯的错误。</p><p id="3d04" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们如何抓住它？</p><p id="e4b3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这包括两个部分。</p><p id="5a56" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第一部分是Bashoswap开发团队如何使用Cardano设计协议，我们本质上将协议定义为一组可能被允许的事务/案例，这样，与所讨论的协议相关的要验证的事务子集与案例完全匹配。</p><p id="9a14" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这将防止上述问题，因为允许创建特定的<em class="ka"> `AssetClass` </em>不允许创建具有相同<em class="ka"> `CurrencySymbol` </em>的<strong class="jd hu">*和* </strong>另一个<em class="ka"> `AssetClass` </em>。</p><p id="d2de" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有了这样的规范，我们很容易进行测试，以确保我们的具体实现符合规范。</p><p id="bdbc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第二部分是我们可以自由地使用Plutarch进行高级抽象。几乎所有现在使用的脚本都有一个问题，那就是很难进行抽象来防止上述的错误。核心原因是<em class="ka"> `plutus-tx` </em>、Haskell到非类型化普路托斯核心(UPLC)编译器，必须逐字翻译代码，这意味着抽象是<strong class="jd hu">* *而不是零成本** </strong>。</p><p id="c54f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以状态机API为例。不管它是否是一个<strong class="jd hu"> *good* </strong>抽象，没有人可以使用它，因为使用它制作的脚本太大了，甚至无法在一个事务中<strong class="jd hu"> *fit* </strong>。</p><p id="52df" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">然后是可读性和抽象性与实际效率之间的权衡。</p><p id="3ac0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">但是，使用Plutarch，我们可以设计<strong class="jd hu">* *零成本** </strong>抽象(或者在某些情况下几乎零成本)。</p><p id="9b33" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">其原因更加复杂，尽管它源于这样一个事实，即Plutarch实际上是嵌入在Haskell中的领域特定语言。</p><p id="edc4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">关注Bashoswap medium博客，了解最新的开发进展。</p><p id="5799" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><a class="ae jz" href="https://twitter.com/cardano_daily/status/1508823545672966144?s=20&amp;t=-rqfYi3kD6BRUaL0oE1hkg" rel="noopener ugc nofollow" target="_blank">巴肖斯华普第二届AMA将于世界协调时明天上午11点在卡尔达诺日报</a>举行。</p><figure class="kc kd ke kf fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kb"><img src="../Images/d64b070609e28044b1a34f25cf322745.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jv5qEN6uGp-eUgPm_SGx6Q.jpeg"/></div></div></figure><p id="ddb6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">私人销售白名单明天结束，钱包预订将于2022年4月1日开始(<a class="ae jz" href="https://whitelist.bashoswap.finance/" rel="noopener ugc nofollow" target="_blank">加入白名单</a>)。</p><h1 id="8c33" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">📍跟上Bashoswap💥🚀</h1><p id="fa7d" class="pw-post-body-paragraph jb jc ht jd b je le jg jh ji lf jk jl jm lg jo jp jq lh js jt ju li jw jx jy hm dt translated">- <a class="ae jz" href="https://bashoswap.finance/" rel="noopener ugc nofollow" target="_blank">网站</a></p><p id="189a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">- <a class="ae jz" href="https://t.me/bashoswap" rel="noopener ugc nofollow" target="_blank">电报社区</a></p><p id="f5b7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">- <a class="ae jz" href="https://twitter.com/basho_swap" rel="noopener ugc nofollow" target="_blank">推特</a></p><p id="7943" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">——<a class="ae jz" href="https://discord.gg/FRKD9V8MBa" rel="noopener ugc nofollow" target="_blank">不和</a></p><p id="f21e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">- <a class="ae jz" href="https://bashoswap.medium.com/" rel="noopener">培养基</a></p><p id="cc84" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">- <a class="ae jz" href="https://www.reddit.com/r/bashoswap/" rel="noopener ugc nofollow" target="_blank"> Reddit </a></p><ul class=""><li id="535e" class="lj lk ht jd b je jf ji jj jm ll jq lm ju ln jy lo lp lq lr dt translated"><a class="ae jz" href="https://docs.bashoswap.finance/whitepaper" rel="noopener ugc nofollow" target="_blank">白皮书</a></li></ul><blockquote class="ls"><p id="9dda" class="lt lu ht bd lv lw lx ly lz ma mb jy ek translated">加入Coinmonks <a class="ae jz" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jz" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="9593" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr mc kt ku kv md kx ky kz me lb lc ld dt translated">另外，阅读</h1><ul class=""><li id="8aac" class="lj lk ht jd b je le ji lf jm mf jq mg ju mh jy lo lp lq lr dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94">如何在印度购买比特币？</a> | <a class="ae jz" rel="noopener" href="/coinmonks/wazirx-review-5c811b074f5b">瓦济克斯审查</a></li><li id="d12b" class="lj lk ht jd b je mi ji mj jm mk jq ml ju mm jy lo lp lq lr dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/cryptohopper-alternatives-d67287b16d27">隐翅虫替代品</a> | <a class="ae jz" rel="noopener" href="/coinmonks/hitbtc-review-c5143c5d53c2"> HitBTC审查</a></li><li id="9451" class="lj lk ht jd b je mi ji mj jm mk jq ml ju mm jy lo lp lq lr dt translated"><a class="ae jz" href="https://coincodecap.com/cbet-casino-review" rel="noopener ugc nofollow" target="_blank"> CBET点评</a> | <a class="ae jz" href="https://coincodecap.com/kucoin-vs-coinbase" rel="noopener ugc nofollow" target="_blank">库币vs比特币基地</a></li><li id="6f12" class="lj lk ht jd b je mi ji mj jm mk jq ml ju mm jy lo lp lq lr dt translated"><a class="ae jz" href="https://coincodecap.com/fold-app-review" rel="noopener ugc nofollow" target="_blank">折叠App审核</a> | <a class="ae jz" rel="noopener" href="/coinmonks/kucoin-trading-bot-automate-your-trades-8cf0ca2138e0"> Kucoin交易机器人</a> | <a class="ae jz" href="https://coincodecap.com/probit-review" rel="noopener ugc nofollow" target="_blank"> Probit审核</a></li><li id="25a3" class="lj lk ht jd b je mi ji mj jm mk jq ml ju mm jy lo lp lq lr dt translated"><a class="ae jz" href="https://coincodecap.com/buy-bitcoin-anonymously" rel="noopener ugc nofollow" target="_blank">如何匿名购买比特币</a> | <a class="ae jz" href="https://coincodecap.com/bitcoin-cash-wallets" rel="noopener ugc nofollow" target="_blank">比特币现金钱包</a></li></ul></div></div>    
</body>
</html>