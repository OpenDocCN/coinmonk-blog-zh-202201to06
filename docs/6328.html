<html>
<head>
<title>Blockchain Oracle Design Patterns — Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">区块链Oracle设计模式—解释</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/blockchain-oracle-design-patterns-explained-1ce2e185fa1d?source=collection_archive---------3-----------------------#2022-05-07">https://medium.com/coinmonks/blockchain-oracle-design-patterns-explained-1ce2e185fa1d?source=collection_archive---------3-----------------------#2022-05-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/d7392655a0ae3d5f06272eb80232726e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrX4Q9nVFJFK9qvNXo1uiA.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><a class="ae jf" href="https://www.freepik.com/vectors/prediction" rel="noopener ugc nofollow" target="_blank">Prediction vector created by vectorjuice — www.freepik.com</a></figcaption></figure><p id="8d40" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">智能合同提供了安全性、透明度、效率和信任，可以在区块链内部启动协议。因为它是在区块链内部执行的，所以它不能访问任何外部数据，比如天气数据或汇率。区块链Oracles旨在缓解这一问题。</p><p id="767d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">oracle是可以向智能合同提供外部数据的程序。在本文中，让我们讨论可以用来设计oracles的不同模式。</p><h1 id="e331" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">神谕的关键步骤</h1><p id="a50b" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">智能合同将使用oracle的3个关键步骤。我们将在本文中讨论的所有设计模式都使用这些步骤:</p><ol class=""><li id="e079" class="lh li ht ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">从链外来源收集数据</li><li id="3982" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">用签名的消息传输数据</li><li id="d139" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">通过将数据放入智能合约的消息中，使数据可用</li></ol><h1 id="3e46" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">设计模式的类型</h1><p id="3ba1" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">根据以下因素，设计模式分为两种类型</p><ol class=""><li id="8a34" class="lh li ht ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">提取数据的频率</li><li id="95bb" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">数据的流动方向</li></ol><h1 id="d065" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">模式源于提取数据的频率</h1><h2 id="4a80" class="lv kf ht bd kg lw lx ly kk lz ma mb ko jr mc md ks jv me mf kw jz mg mh la mi dt translated">1 —立即<strong class="ak">—读取</strong></h2><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/3d0d23b4502067d71127174b7538e9ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*x9r6pRiqWPteE45PEPOaiw.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Example for Immediate-Read Design Pattern</figcaption></figure><p id="8f7d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">允许获取数据的神谕<strong class="ji hu">将用于立即做出决策</strong>。这种类型的oracle将数据存储在智能合约存储中。数据会不时更新。因为它使用契约存储，所以只有与用例高度相关的数据才会被存储。</p><p id="230a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu"> <em class="mo">举例:</em> </strong></p><p id="d317" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">书店使用的智能合同可以使用oracle来提供特定图书的ISBN。在这种情况下，oracle只在合同存储中存储图书的名称和ISBN，因为存储诸如作者姓名、年份等属性太多了。</p><h2 id="b08a" class="lv kf ht bd kg lw lx ly kk lz ma mb ko jr mc md ks jv me mf kw jz mg mh la mi dt translated">2-发布-订阅</h2><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div class="fe ff mp"><img src="../Images/c37378d7d715e9e8453ec76d6d6b560e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*SM2MDSUK6wvGasDQ7K264Q.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Example for Publish-Subscribe Design Pattern</figcaption></figure><p id="1627" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在订阅oracle 时提供数据的oracle属于这种模式。它向智能合同提供数据广播服务。数据将通过智能合同的轮询或离线运行一个工人并在oracle中监视更新来提供给智能合同。</p><p id="6896" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu"> <em class="mo">举例:</em> </strong></p><p id="0dcc" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们想象一下，在去中心化的世界里有一个交易所，它将允许你购买股票。这个交易所的智能合约应该知道特定股票或所有股票的最新价格。然后，智能合同可以订阅oracle，Oracle将提供价格。从智能合约的角度来看，它可以轮询oracle，或者oracle可以将更新推送到所有客户端。</p><h2 id="9391" class="lv kf ht bd kg lw lx ly kk lz ma mb ko jr mc md ks jv me mf kw jz mg mh la mi dt translated">3 —请求-响应</h2><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mq"><img src="../Images/a76632b2a308a49cd001950aab292894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vMxeUl_9K3o3fAKg9a_Wiw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Example for Request-Response Design Pattern</figcaption></figure><p id="e81a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">用这种模式设计的甲骨文比以前的先进得多。这种模式类似于<strong class="ji hu">客户端-服务器架构，其中请求从客户端发出，由服务器</strong>处理。与此oracle相关的数据可能存储在外部基础架构中，因为它使用了无法存储在智能合约存储中的更大的数据集。由于这种情况和对额外性能的需要，这些类型的oracles使用服务器等链外基础设施。</p><p id="55f2" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu"> <em class="mo">举例:</em> </strong></p><p id="354c" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">杰森教授想知道奇迹大学1998年至2000年的数学成绩。由于这所大学使用区块链和智能合约来存储学生的部分数据，负责提供该查询的智能合约必须调用oracle并取回数据。在智能合同调用oracle之后，oracle会将查询传递给拥有所有数据记录的服务器。最后，服务器将执行查询并将结果传递回oracle，oracle将数据传递回智能合同。</p><h1 id="7648" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">模式源于数据的流动方向</h1><h2 id="7673" class="lv kf ht bd kg lw lx ly kk lz ma mb ko jr mc md ks jv me mf kw jz mg mh la mi dt translated">1-入站Oracle</h2><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div class="fe ff mr"><img src="../Images/32359555712f41d53704594b687c4602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*dZTIwxa6bgGTAnbldp3Ftg.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Example for Inbound Oracle Design Pattern</figcaption></figure><p id="e727" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">入站oracle <strong class="ji hu">将数据从外部(或链外)世界传输到区块链</strong>。在入站oracle中可以识别两种子模式</p><ol class=""><li id="838b" class="lh li ht ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated"><strong class="ji hu">基于拉取的入站Oracle — </strong>当智能合同需要数据时，它会向Oracle请求数据。oracle收到请求后，它从离线数据源收集信息，并将其提供给区块链。</li><li id="86b9" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji hu">基于推送的入站Oracle — </strong> Oracle监视特定链外数据源中的任何变化。当数据源发生变化时，这些变化将被传送到区块链。</li></ol><h2 id="dfbd" class="lv kf ht bd kg lw lx ly kk lz ma mb ko jr mc md ks jv me mf kw jz mg mh la mi dt translated">2-出站Oracle</h2><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div class="fe ff ms"><img src="../Images/9b5b9bc13379f37efbbed5b82fbeb5e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*3CQiJ-gCqdY5wmhcv0EjcA.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Example for Outbound Oracle Design Pattern</figcaption></figure><p id="8ff3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">出站oracle <strong class="ji hu">将数据从区块链传输到外部世界</strong>。当有数据(如发生在区块链内部的金融交易)需要通过链外资源传递给相关方时，这很有用。在这个oracle中也有两个子模式。</p><ol class=""><li id="2ef4" class="lh li ht ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated"><strong class="ji hu">基于拉取的出站oracle — </strong>当链外资源需要从区块链查询数据时，它会从链上数据源请求数据。收到请求后，它提供数据。</li><li id="1209" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji hu">基于推送的出站oracle — </strong>智能合约监视区块链数据集中的任何变化。当有变化时，它将被传达给离线资源。</li></ol><p id="96fd" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我希望这篇文章已经帮助你理解了什么是用于创建区块链神谕的设计模式。另一篇文章再见:)</p><p id="0304" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">参考文献:</strong></p><p id="6366" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[1] Andreas Antonopoulos，<a class="ae jf" href="https://www.amazon.com/Mastering-Ethereum-Building-Smart-Contracts/dp/1491971940" rel="noopener ugc nofollow" target="_blank">掌握以太坊:建立智能合约和dapp</a></p><p id="caa5" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[2] R. Mühlberger，S. Bachhofner，E. Castelló Ferrer，C. D. Ciccio，I. Weber，m . hrer，U. Zdun，<a class="ae jf" href="https://link.springer.com/chapter/10.1007/978-3-030-58779-6_3" rel="noopener ugc nofollow" target="_blank">基础甲骨文模式:连接区块链和链外世界</a></p><p id="29ae" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[3] A .贝尼奇，<a class="ae jf" href="https://arxiv.org/abs/2004.07140" rel="noopener ugc nofollow" target="_blank">区块链神谕研究</a></p><blockquote class="mt"><p id="1e3a" class="mu mv ht bd mw mx my mz na nb nc kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="0afa" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp nd kr ks kt ne kv kw kx nf kz la lb dt translated">另外，阅读</h1><ul class=""><li id="eb2c" class="lh li ht ji b jj lc jn ld jr ng jv nh jz ni kd nj ln lo lp dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/bitcoin-margin-trading-exchange-bcbfcbf7b8e3">最佳比特币保证金交易</a> | <a class="ae jf" rel="noopener" href="/coinmonks/lolli-review-e6ddc7895ad8">萝莉点评</a> | <a class="ae jf" href="https://coincodecap.com/bityard-margin-trading" rel="noopener ugc nofollow" target="_blank">比特币保证金交易</a></li><li id="cdbf" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd nj ln lo lp dt translated"><a class="ae jf" href="https://coincodecap.com/create-nft" rel="noopener ugc nofollow" target="_blank">创造并出售你的第一个NFT </a> | <a class="ae jf" href="https://coincodecap.com/best-crypto-trading-bots" rel="noopener ugc nofollow" target="_blank">密码交易机器人</a></li><li id="45b7" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd nj ln lo lp dt translated"><a class="ae jf" href="https://coincodecap.com/buy-shiba-coindcx" rel="noopener ugc nofollow" target="_blank">如何在CoinDCX上购买柴犬(SHIB)币？</a></li><li id="fb7a" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd nj ln lo lp dt translated"><a class="ae jf" href="https://coincodecap.com/cbet-casino-review" rel="noopener ugc nofollow" target="_blank"> CBET评论</a> | <a class="ae jf" href="https://coincodecap.com/kucoin-vs-coinbase" rel="noopener ugc nofollow" target="_blank">库科恩vs比特币基地</a> | <a class="ae jf" href="https://coincodecap.com/bybit-vs-coinbase" rel="noopener ugc nofollow" target="_blank">拜比特vs比特币基地</a></li><li id="242f" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd nj ln lo lp dt translated"><a class="ae jf" href="https://coincodecap.com/fold-app-review" rel="noopener ugc nofollow" target="_blank">折叠App回顾</a> | <a class="ae jf" rel="noopener" href="/coinmonks/localbitcoins-review-6cc001c6ed56"> LocalBitcoins回顾</a> | <a class="ae jf" href="https://coincodecap.com/bybit-binance-moonxbt" rel="noopener ugc nofollow" target="_blank"> Bybit vs币安</a></li><li id="6239" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd nj ln lo lp dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/crypto-margin-trading-exchanges-428b1f7ad108">加密保证金交易交易所</a> | <a class="ae jf" rel="noopener" href="/coinmonks/earn-bitcoin-6e8bd3c592d9">赚取比特币</a> | <a class="ae jf" href="https://coincodecap.com/mudrex-invest-review-the-best-way-to-invest-in-crypto" rel="noopener ugc nofollow" target="_blank"> Mudrex投资</a></li></ul></div></div>    
</body>
</html>