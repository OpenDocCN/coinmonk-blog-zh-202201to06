<html>
<head>
<title>Ola Finance hack: A post-mortem analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ola财务黑客:事后分析</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ola-finance-hack-a-post-mortem-analysis-7bf498f73a54?source=collection_archive---------11-----------------------#2022-04-01">https://medium.com/coinmonks/ola-finance-hack-a-post-mortem-analysis-7bf498f73a54?source=collection_archive---------11-----------------------#2022-04-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="eb0e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Ola Finance是一个贷款即服务平台，任何人只需点击一下按钮，就可以创建自己的品牌贷款网络和Defi模块。它是一个技术提供者，使其他人能够构建由创建者管理和控制的类似复合的实例，因为每个借出网络(LeN)由许多不同的令牌(由网络创建者确定)组成，这些令牌可以借出和借出，而无需通过不必要的和浪费时间的管理要求。</p><p id="de8d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2022年3月31日，奥拉金融被黑。</p><p id="de23" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这次攻击跨越了两个协议，两个区块链和六个资产($usdc，$fusd，$busd，$wbtc，$weth &amp; $fuse)。这是可能的，因为Ola的一部分构建在复合分叉(COMP)和一些基于以太坊的令牌之间缺乏兼容性。ERC677/ERC77令牌具有内置的回调功能，这使得黑客能够滥用Ola的机制来耗尽访问的流动性池，并利用他们在Fuse Chain上构建的一个网络中价值400万美元的加密资产。</p><p id="7b74" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">重入漏洞</strong></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/e9d85a9d0defc8402973f652775899fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eSAMZBudOqmI5c_ecJ7avA.png"/></div></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff ka"><img src="../Images/8001556b426e84372ddea734e4bee279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*BCHb-76ikZifYXwJJdsm-w.png"/></div></figure><p id="ac87" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当一个函数对另一个不受信任的契约进行外部调用时，就会发生可重入攻击。然后不受信任的契约对原始函数进行回调，企图榨干资金。在borrow()函数的代码逻辑中，相关的内部状态在外部调用后被更新。具体来说，doTransferOut()函数将调用基于ERC677的令牌的transfer()函数，这将最终导致外部调用。</p><p id="3495" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">同样的攻击已经在使用Compound代码的其他几个项目(Agave DAO &amp; Bailey Finance)上进行过，应该足以警告Ola Finance检查他们的代码。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kb"><img src="../Images/3f398a7d9cff2b9973d32f8c63f66f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JPY-dQvlKOYo1uO7lgZvxQ.jpeg"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">BlockSec</figcaption></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kg"><img src="../Images/31052c1b7a51c567f6231e3d389496ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ePVf5vnyqMcAL1wl7gO1w.jpeg"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">BlockSec</figcaption></figure><p id="e6f0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">通过利用重新进入漏洞，攻击者能够在平台上获得贷款，提取抵押品，然后在不偿还贷款的情况下离开。被盗资金随后被转移到币安和以太坊连锁店，因此更难追回。<a class="ae kh" href="https://explorer.fuse.io/tx/0x1b3e06b6b310886dfd90a5df8ddbaf515750eda7126cf5f69874e92761b1dc90/token-transfers?s=03" rel="noopener ugc nofollow" target="_blank">https://explorer . fuse . io/tx/0x 1 B3 e 06 b 6 b 310886 DFD 90 a5 df 8 ddbaf 515750 EDA 7126 cf 5 f 69874 e 92761 B1 DC 90/token-transfers？s=03 </a></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ki"><img src="../Images/3ac7df5ec7b1993adfff4a7a20593173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VrXhTP4G6KKFSmd8929i1A.jpeg"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">BlockSec</figcaption></figure><p id="c732" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">资助黑客的初始资金从tornado cash中提取，并通过Fuse bridge发送到Fuse network。Voltage Finance已经要求USD coin operator (Circle Inc .)、Etherscan和CEX团队将参与黑客攻击的地址列入黑名单。截至本文撰写之时，被利用的资金仍在黑客的钱包里。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff kj"><img src="../Images/2499044228419897ad1b46cbb12bac18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*NPCPgRwipaI8M9lXWq1vmw.jpeg"/></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">PeckShield</figcaption></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kk"><img src="../Images/ac14d1e56adab249874d734d922a2efd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FeMvw6DcV0p6o5HkniORog.png"/></div></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kk"><img src="../Images/734a655e9fc6370b8bec019a79b0060c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*utmbN_PdJ7UPRBXisuK0FQ.png"/></div></div></figure><p id="6bdf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">学分:BlockSecTeam、Peckshield和Etherscsan</p><blockquote class="kl"><p id="ec90" class="km kn ht bd ko kp kq kr ks kt ku jn ek translated">加入Coinmonks <a class="ae kh" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae kh" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="debd" class="kv kw ht bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">另外，阅读</h1><ul class=""><li id="422b" class="lt lu ht is b it lv ix lw jb lx jf ly jj lz jn ma mb mc md dt translated"><a class="ae kh" href="https://coincodecap.com/smithbot-review" rel="noopener ugc nofollow" target="_blank"> SmithBot评论</a> | <a class="ae kh" href="https://coincodecap.com/free-open-source-trading-bots" rel="noopener ugc nofollow" target="_blank"> 4款最佳免费开源交易机器人</a></li><li id="9c9c" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kh" rel="noopener" href="/coinmonks/coinbase-bots-ac6359e897f3">比特币基地僵尸程序</a> | <a class="ae kh" rel="noopener" href="/coinmonks/ascendex-review-53e829cf75fa"> AscendEX审查</a> | <a class="ae kh" rel="noopener" href="/coinmonks/okex-trading-bots-234920f61e60"> OKEx交易僵尸程序</a></li><li id="eec7" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kh" rel="noopener" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94">如何在印度购买比特币？</a> | <a class="ae kh" rel="noopener" href="/coinmonks/wazirx-review-5c811b074f5b">瓦济克斯审查</a></li><li id="7ed8" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kh" rel="noopener" href="/coinmonks/cryptohopper-alternatives-d67287b16d27">隐翅虫替代品</a> | <a class="ae kh" rel="noopener" href="/coinmonks/hitbtc-review-c5143c5d53c2"> HitBTC审查</a></li><li id="33f6" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kh" href="https://coincodecap.com/cbet-casino-review" rel="noopener ugc nofollow" target="_blank"> CBET评论</a> | <a class="ae kh" href="https://coincodecap.com/kucoin-vs-coinbase" rel="noopener ugc nofollow" target="_blank">库科恩vs比特币基地</a></li><li id="bbe9" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kh" href="https://coincodecap.com/fold-app-review" rel="noopener ugc nofollow" target="_blank">折叠App审核</a> | <a class="ae kh" rel="noopener" href="/coinmonks/kucoin-trading-bot-automate-your-trades-8cf0ca2138e0"> Kucoin交易机器人</a> | <a class="ae kh" href="https://coincodecap.com/probit-review" rel="noopener ugc nofollow" target="_blank"> Probit审核</a></li></ul></div></div>    
</body>
</html>