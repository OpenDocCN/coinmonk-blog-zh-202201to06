<html>
<head>
<title>Simple Crypto Payment System Using PHP and Coinex.net API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨PHPå’ŒCoinex.net APIçš„ç®€å•åŠ å¯†æ”¯ä»˜ç³»ç»Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/coinmonks/simple-crypto-payment-system-using-php-and-coinex-net-api-45d38cf2131?source=collection_archive---------6-----------------------#2022-05-28">https://medium.com/coinmonks/simple-crypto-payment-system-using-php-and-coinex-net-api-45d38cf2131?source=collection_archive---------6-----------------------#2022-05-28</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="d3ba" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å˜¿å˜¿å˜¿ï¼</p><p id="3e1f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">0xliveåœ¨è¿™é‡ŒğŸ˜ƒ</p><p id="14a8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨phpå’Œcoiex.net APIå¼€å‘ä¸€ä¸ªç®€å•çš„åŠ å¯†æ”¯ä»˜ç³»ç»Ÿ</p><p id="867e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> web3.jså®‰è£…</strong></p><p id="79b4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¦åœ¨ç»ˆç«¯ç±»å‹ä¸­å®‰è£…web3.js:</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="6bc4" class="jx jy ht jt b fv jz ka l kb kc">npm install web3</span></pre><p id="b815" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æ‚¨ä¹Ÿå¯ä»¥å®‰è£…çº±çº¿:</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="b4ca" class="jx jy ht jt b fv jz ka l kb kc">yarn add web3</span></pre><p id="f8cd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å¦‚æœæ‚¨æƒ³åœ¨ä¸å®‰è£…ä»»ä½•ä¸œè¥¿çš„æƒ…å†µä¸‹ä½¿ç”¨web3.jsï¼Œè¯·å°†å…¶å¯¼å…¥æµè§ˆå™¨:</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="c615" class="jx jy ht jt b fv jz ka l kb kc">&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.3/web3.min.js" integrity="sha512-Ws+qbaGHSFw2Zc1e7XRpvW+kySrhmPLFYTyQ95mxAkss0sshj6ObdNP3HDWcwTs8zBJ60KpynKZywk0R8tG1GA==" crossorigin="anonymous" referrerpolicy="no-referrer"&gt;&lt;/script&gt;</span></pre><p id="3b6a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">é¡¹ç›®è®¾ç½®</strong></p><p id="5e18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºpayment.htmlçš„æ–‡ä»¶</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="8ddf" class="jx jy ht jt b fv jz ka l kb kc">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>&lt;head&gt;<br/>&lt;title&gt;Payment Gateway&lt;/title&gt;<br/>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.3/web3.min.js" integrity="sha512-Ws+qbaGHSFw2Zc1e7XRpvW+kySrhmPLFYTyQ95mxAkss0sshj6ObdNP3HDWcwTs8zBJ60KpynKZywk0R8tG1GA==" crossorigin="anonymous" referrerpolicy="no-referrer"&gt;&lt;/script&gt;<br/>&lt;&lt;link rel="stylesheet" href="style.css"&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/><br/>     &lt;section id="payment" class="payment"&gt;<br/>&lt;form class="credit-card"&gt;<br/>  &lt;div class="form-header"&gt;<br/>    &lt;h4 class="title"&gt;Payment&lt;/h4&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="form-body"&gt;<br/>    &lt;input class="card-number" id="Amount" type="number" placeholder="Amount"&gt;<br/>    &lt;div class="date-field"&gt;<br/>      &lt;/div&gt;<br/>    &lt;button class="pay-button" type="submit"&gt; &lt;a href="#"&gt;Buy&lt;/a&gt;&lt;/button&gt;<br/>        &lt;div id="status"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/form&gt;<br/>&lt;/section&gt;<br/><br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="ea26" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªä»˜æ¬¾å½¢å¼çš„éƒ¨åˆ†ï¼Œç°åœ¨æˆ‘ä»¬æƒ³ä½¿ç”¨metamask + JSè¿›è¡Œäº¤æ˜“</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="9127" class="jx jy ht jt b fv jz ka l kb kc">window.addEventListener('load', async () =&gt; {<br/>      if (window.ethereum) {<br/>        window.web3 = new Web3(ethereum);<br/>        try {<br/>          await ethereum.eth_requestAccounts;<br/>          initPayButton()<br/>        } catch (err) {<br/>          $('#status').html('User denied account access', err)<br/>        }<br/>      } else if (window.web3) {<br/>        window.web3 = new Web3(web3.currentProvider)<br/>        initPayButton()<br/>      } else {<br/>        $('#status').html('No Metamask (or other Web3 Provider) installed')<br/>      }<br/>    })</span></pre><p id="b8c6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">é¦–å…ˆï¼Œæˆ‘ä»¬è¦æ±‚è®¸å¯ï¼Œå¦‚æœç”¨æˆ·æ¥å—ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥ï¼Œå¦‚æœæ²¡æœ‰çŠ¶æ€æ ‡ç­¾å°†æ˜¾ç¤ºâ€œ<code class="eh kd ke kf jt b">No Metamask (or other Web3 Provider) installed".</code></p><p id="fb10" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">ä»˜æ¬¾</strong></p><p id="a18f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬ä»è¾“å…¥ä¸­è·å–å€¼ï¼Œç„¶åå­˜å‚¨åˆ°æ”¯ä»˜åœ°å€ã€‚å¦‚æœäº¤æ˜“æˆåŠŸï¼Œå®ƒä¼šå°†æ•°æ®ä¼ é€’ç»™pay.phpï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ã€‚</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="28c2" class="jx jy ht jt b fv jz ka l kb kc">const initPayButton = () =&gt; {<br/>      $('.pay-button').click(() =&gt; {<br/>        const paymentAddress = 'YOUR ADDRESS'<br/>        const amountEth = document.getElementById("Amount").value;<br/><br/>        web3.eth.sendTransaction({<br/>          to: paymentAddress,<br/>          value: web3.toWei(amountEth, 'ether')<br/>        }, function(err, transactionHash) {<br/>    if (err) { <br/>        console.log('Payment failed', err)<br/>            $('#status').html('Payment failed')<br/>    } else {<br/><br/> document.getElementById("status").innerHTML = transactionHash;<br/>            $('#status').html('Payment successful')<br/> var httpc = new XMLHttpRequest(); <br/>    var url = "pay.php";<br/>    httpc.open("POST", url, true);<br/><br/>    httpc.onreadystatechange = function() {.<br/>        if(httpc.readyState == 4 &amp;&amp; httpc.status == 200) {<br/>            alert(httpc.responseText);<br/>        }<br/>    };<br/>    httpc.send(transactionHash);<br/>      }})</span></pre><p id="5877" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">Coinex.net API</strong></p><p id="4596" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¦ä¸coinex.net apiæœåŠ¡äº¤äº’ï¼Œæˆ‘ä»¬éœ€è¦APIå¯†é’¥ï¼</p><p id="abaf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æ‰“å¼€<a class="ae kg" href="https://testnet.coinex.net/register" rel="noopener ugc nofollow" target="_blank">https://testnet.coinex.net/register</a></p><figure class="jo jp jq jr fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff kh"><img src="../Images/cd328f820399d1661d66d9e343aa58fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qurRMV75jQTwYE7RrwrDnA.jpeg"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">coinex.net</figcaption></figure><p id="23ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æ³¨å†Œåï¼Œè½¬åˆ°â€œapiå¯†é’¥â€</p><p id="2ad0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æ³¨æ„:ä¸è¦å’Œä»»ä½•äººåˆ†äº«ä½ çš„apiå¯†åŒ™ï¼</p><p id="d581" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">Pay.php</strong></p><p id="d92b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è®©æˆ‘ä»¬é…ç½®æˆ‘ä»¬çš„è„šæœ¬:</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="7562" class="jx jy ht jt b fv jz ka l kb kc">&lt;?php<br/><br/>$tx= $_POST['Amount'];<br/><br/>$curl = curl_init();<br/>curl_setopt_array($curl, [<br/>	CURLOPT_URL =&gt; "https://www.coinex.net/api/v1/transactions/".$tx,<br/>	CURLOPT_RETURNTRANSFER =&gt; true,<br/>	CURLOPT_FOLLOWLOCATION =&gt; true,<br/>	CURLOPT_ENCODING =&gt; "",<br/>	CURLOPT_MAXREDIRS =&gt; 10,<br/>	CURLOPT_TIMEOUT =&gt; 30,<br/>	CURLOPT_HTTP_VERSION =&gt; CURL_HTTP_VERSION_1_1,<br/>	CURLOPT_CUSTOMREQUEST =&gt; "GET",<br/>	CURLOPT_HTTPHEADER =&gt; [<br/>		"apikey: YOUR KEY",<br/>	],<br/>]);<br/><br/>$response = curl_exec($curl);<br/>$err = curl_error($curl);<br/>curl_close($curl);<br/>$data = json_decode($response, true);<br/><br/><br/>if ($err) {<br/>	echo "cURL Error #:" . $err;<br/>} else {<br/>	if  (strlen($data["data"]["error"]) == 0) {<br/>            echo "successful";<br/>    else{<br/>        echo"a mistake was made";<br/>}}}<br/>?&gt;</span></pre><p id="a2d3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬é¦–å…ˆä»è¾“å…¥ä¸­è·å¾—æ•°é‡ã€‚ç„¶åæˆ‘ä»¬å»è¯·æ±‚apiæœåŠ¡ã€‚</p><p id="52ed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬ä»apiè·å–æ•°æ®å¹¶è§£ç æˆjsonæ ¼å¼ã€‚</p><p id="3841" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å¦‚æœäº‹åŠ¡çš„é”™è¯¯éƒ¨åˆ†æœ‰ä»»ä½•æ•°æ®ï¼Œåˆ™è¡¨ç¤ºäº‹åŠ¡å¤±è´¥ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œåˆ™è¡¨ç¤ºäº‹åŠ¡æˆåŠŸï¼</p><p id="e196" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ç¥è´ºğŸ¥³</p><p id="e7f9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬å·²ç»ä½¿ç”¨web3.jsã€metamaskã€coinex.net APIæœåŠ¡å’Œphpä¸ºcscåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„åŠ å¯†æ”¯ä»˜</p><blockquote class="kt"><p id="4850" class="ku kv ht bd kw kx ky kz la lb lc jn ek translated"><em class="ld">åŠ å…¥Coinmonks </em> <a class="ae kg" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> <em class="ld">ç”µæŠ¥é¢‘é“</em> </a> <em class="ld">å’Œ</em> <a class="ae kg" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> <em class="ld"> Youtubeé¢‘é“</em> </a> <em class="ld">äº†è§£åŠ å¯†äº¤æ˜“å’ŒæŠ•èµ„</em></p></blockquote><h1 id="2dc0" class="le jy ht bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">å¦å¤–ï¼Œé˜…è¯»</h1><ul class=""><li id="023b" class="mb mc ht is b it md ix me jb mf jf mg jj mh jn mi mj mk ml dt translated"><a class="ae kg" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3å•†ä¸šè¯„è®º</a> | <a class="ae kg" href="https://coincodecap.com/pionex-review-exchange-with-crypto-trading-bot" rel="noopener ugc nofollow" target="_blank"> Pionexè¯„è®º</a> | <a class="ae kg" rel="noopener" href="/coinmonks/coinrule-review-2021-a-beginner-friendly-crypto-trading-bot-daf0504848ba"> Coinruleè¯„è®º</a></li><li id="8ff7" class="mb mc ht is b it mm ix mn jb mo jf mp jj mq jn mi mj mk ml dt translated"><a class="ae kg" rel="noopener" href="/coinmonks/ledger-vs-ngrave-zero-7e40f0c1d694">è±æ°vs n rave</a>|<a class="ae kg" rel="noopener" href="/coinmonks/ledger-nano-s-vs-x-battery-hardware-price-storage-59a6663fe3b0">è±æ°nano s vs x </a> | <a class="ae kg" rel="noopener" href="/coinmonks/binance-review-ee10d3bf3b6e">å¸å®‰è¯„è®º</a></li><li id="af2e" class="mb mc ht is b it mm ix mn jb mo jf mp jj mq jn mi mj mk ml dt translated"><a class="ae kg" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybitäº¤æ˜“æ‰€è¯„è®º</a> | <a class="ae kg" href="https://coincodecap.com/bityard-reivew" rel="noopener ugc nofollow" target="_blank"> Bityardè¯„è®º</a> | <a class="ae kg" href="https://coincodecap.com/jet-bot-review" rel="noopener ugc nofollow" target="_blank"> Jet-Botè¯„è®º</a></li><li id="e8ba" class="mb mc ht is b it mm ix mn jb mo jf mp jj mq jn mi mj mk ml dt translated"><a class="ae kg" rel="noopener" href="/coinmonks/3commas-vs-pionex-vs-cryptohopper-best-crypto-bot-6a98d2baa203">3 commas vs crypto hopper</a>|<a class="ae kg" rel="noopener" href="/coinmonks/earn-crypto-interest-b10b810fdda3">èµšå–åŠ å¯†åˆ©æ¯</a></li><li id="a4d0" class="mb mc ht is b it mm ix mn jb mo jf mp jj mq jn mi mj mk ml dt translated">æœ€å¥½çš„æ¯”ç‰¹å¸<a class="ae kg" rel="noopener" href="/coinmonks/hardware-wallets-dfa1211730c6">ç¡¬ä»¶é’±åŒ…</a> | <a class="ae kg" rel="noopener" href="/coinmonks/bitbox02-review-your-swiss-bitcoin-hardware-wallet-c36c88fff29"> BitBox02å›é¡¾</a></li><li id="42ab" class="mb mc ht is b it mm ix mn jb mo jf mp jj mq jn mi mj mk ml dt translated"><a class="ae kg" rel="noopener" href="/coinmonks/blockfi-vs-celsius-vs-hodlnaut-8a1cc8c26630">block fi vs Celsius</a>|<a class="ae kg" rel="noopener" href="/coinmonks/hodlnaut-review-best-way-to-hodl-is-to-earn-interest-on-your-bitcoin-6658a8c19edf">Hodlnautå®¡æ ¸</a> | <a class="ae kg" href="https://coincodecap.com/kucoin-review" rel="noopener ugc nofollow" target="_blank"> KuCoinå®¡æ ¸</a></li></ul></div></div>    
</body>
</html>