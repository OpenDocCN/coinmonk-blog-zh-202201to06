# é€šè¿‡ç¤ºä¾‹äº†è§£å¯é æ€§

> åŸæ–‡ï¼š<https://medium.com/coinmonks/understanding-solidity-by-example-2fb06ab26f62?source=collection_archive---------8----------------------->

*åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘å°†å¸¦æ‚¨æµè§ˆä¸€äº›ç”¨ Remix IDE ç¼–å†™çš„ Solidity ä»£ç ç¤ºä¾‹ï¼Œè®©æ‚¨å¯¹å®ƒçš„å·¥ä½œåŸç†å’Œä¸€äº›å¸¸è§ç”¨ä¾‹æœ‰ä¸€ä¸ªæ€»ä½“çš„äº†è§£ã€‚*

![](img/9295ef06f55c31cde49fb7d70816c6a2.png)

Source: [ethereum.org](http://ethereum.org/)

# ä»‹ç»

è¿™ç¯‡æ–‡ç« æ˜¯ä¸ºé‚£äº›å·²ç»äº†è§£ä¸€äº›ç¼–ç¨‹è¯­è¨€å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç¨‹åºå‘˜è€Œå†™çš„ã€‚

æˆ‘ä»¬å°†æ¶‰åŠçš„ä¾‹å­ç›®å‰åœ¨ [Remix](https://remix.ethereum.org/) ä»‹ç»ä¾‹å­ä¸­å¯ç”¨ï¼Œæˆ‘å°†åœ¨æœ¬æ–‡ä¸­å¤åˆ¶/ç²˜è´´ä¸€äº›ä»£ç å—ï¼Œä»¥é˜²ä»–ä»¬æ›´æ–°æˆ–åˆ é™¤å®ƒã€‚

æ¶µç›–äº† 3 ç§ç”¨ä¾‹ï¼ŒæŒ‰å¤æ‚æ€§é€’å¢æ’åº:

*   **å­˜å‚¨:**éå¸¸ç®€å•çš„æ™ºèƒ½å¥‘çº¦ï¼Œå°†ä¸€ä¸ªå€¼å­˜å‚¨åœ¨ä¸€ä¸ªæ•´æ•°å˜é‡ä¸­ã€‚
*   **Owner:** ç±»ä¼¼äº storageï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¥‘çº¦å­˜å‚¨ä¸€ä¸ªåä¸º*â€œOwnerâ€çš„**åœ°å€**ç±»å‹å˜é‡ã€‚*
*   **æŠ•ç¥¨:**åœ¨æœ€åä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´æœ‰ç”¨çš„â€œçœŸå®ä¸–ç•Œâ€ç”¨ä¾‹ï¼Œå¥‘çº¦å®ç°äº†æŠ•ç¥¨è¿‡ç¨‹å’ŒæŠ•ç¥¨å§”æ‰˜ã€‚

![](img/0ffc240583b8b8f091a55caebf66b2c9.png)![](img/417d6bcec5ded24179e0c3ca764156ef.png)

Source: [ethereum.org](http://ethereum.org/)

# ç¤ºä¾‹ 1:å­˜å‚¨

Solidity By Example â€” Storage.sol

# æ„ä¹‰

`store`å‡½æ•°å°†ä½¿ç”¨ç»™å®šçš„å‚æ•°æ›´æ–° number å˜é‡çš„å€¼ã€‚`retrieve`å‡½æ•°å°†è¿”å›æ•°å­—å‡½æ•°çš„å½“å‰å€¼ã€‚

# æ¦‚å¿µ

*   `pragma`:è¯¥å…³é”®å­—ç”¨äºå¯ç”¨æŸäº›ç¼–è¯‘å™¨ç‰¹æ€§æˆ–æ£€æŸ¥ã€‚ä¸€ä¸ª`pragma`æŒ‡ä»¤æ€»æ˜¯åœ¨ä¸€ä¸ªæºæ–‡ä»¶çš„æœ¬åœ°ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³åœ¨ä½ æ‰€æœ‰çš„é¡¹ç›®ä¸­å¯ç”¨å®ƒï¼Œä½ å¿…é¡»æŠŠç¼–è¯‘æŒ‡ä»¤æ·»åŠ åˆ°ä½ æ‰€æœ‰çš„æ–‡ä»¶ä¸­ã€‚
*   `contract`:é€šå¸¸ä¸ OOP ç¼–ç¨‹è¯­è¨€çš„ç±»æ¯”æ˜¯*å¥‘çº¦*å°±åƒ*ç±»*ï¼Œå…¶ä¸­åŒ…å«å±æ€§å’Œæ–¹æ³•ã€‚
*   `public view returns`:å®ƒä»¬æ˜¯*ä¿®é¥°ç¬¦*ï¼Œæœ¬è´¨ä¸Šå®ƒä»¬å¯ä»¥ä¸ºåŒ…å«å®ƒä»¬çš„å‡½æ•°æä¾›ä¸€äº›é™åˆ¶æˆ–éªŒè¯ã€‚è¿™ç§æƒ…å†µä¸‹`public`æ„å‘³ç€å‡½æ•°å¯ä»¥ä»å¥‘çº¦å¤–éƒ¨è°ƒç”¨ï¼Œ`view`æ„å‘³ç€å‡½æ•°ä¸èƒ½æ”¹å˜å¥‘çº¦çš„çŠ¶æ€ï¼Œ`returns`ä»…ä»…æ„å‘³ç€å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œæ³¨æ„ï¼Œæ‚¨å¯ä»¥åƒåœ¨`returns`ç¤ºä¾‹ä¸­é‚£æ ·ä¸ºä¿®é¥°ç¬¦è®¾ç½®å‚æ•°ã€‚

# ç¤ºä¾‹ 2:æ‰€æœ‰è€…

Solidity By Example â€” Owner.sol

# æ„ä¹‰

è¿™æ®µä»£ç åšçš„äº‹æƒ…ä¸ç¬¬ä¸€ä¸ªç¤ºä¾‹ç±»ä¼¼ï¼Œåœ¨æ™ºèƒ½åˆçº¦ä¸­å­˜å‚¨å’Œæ›´æ–°ä¸€ä¸ªå˜é‡ã€‚ä½†æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª ***åœ°å€*** æ•°æ®ç±»å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„æ•´æ•°ã€‚

è¿™ä¸ª**åœ°å€**(è´¦æˆ·æ ‡è¯†ç¬¦)ä»£è¡¨ä¸€ä¸ªæ‹¥æœ‰è€…ï¼Œè¯¥æ‹¥æœ‰è€…å¯¹å¥‘çº¦å…·æœ‰ä¸€äº›ç‰¹å®šçš„ç‰¹æƒï¼Œä¾‹å¦‚ï¼Œè°ƒç”¨ä¸€äº›å‡½æ•°æˆ–è®¿é—®ä¸€äº›å€¼ã€‚

# æ¦‚å¿µ

*   `private`:å°±åƒåœ¨å¥‘çº¦å‡½æ•°ä¸­ä¸€æ ·ï¼Œå±æ€§æœ‰*è®¿é—®ä¿®é¥°ç¬¦ï¼Œ*è¿™äº›ä¿®é¥°ç¬¦é™åˆ¶ä»£ç ä»â€œå“ªé‡Œâ€å¯ä»¥è¯»å–æˆ–æ”¹å˜å±æ€§çš„çŠ¶æ€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯`private`ï¼Œè¿™æ„å‘³ç€è¯¥å˜é‡åªèƒ½ä»å¥‘çº¦å‡½æ•°ä¸­è®¿é—®ã€‚å¦‚æœä½ æƒ³æŠŠå˜é‡ä¿æŒä¸ºåªè¯»ï¼Œé‚£ä¹ˆä½ å¯ä»¥æŠŠå®ƒå£°æ˜ä¸ºç§æœ‰ï¼Œç„¶åç”¨ä¸€ä¸ªåªè¿”å›å€¼çš„`view`ä¿®é¥°ç¬¦åˆ›å»ºä¸€ä¸ª getter å‡½æ•°ã€‚
*   `event`:æ˜¯åˆåŒçš„å¯ç»§æ‰¿æˆå‘˜ã€‚å‘å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œå®ƒå­˜å‚¨åœ¨äº‹åŠ¡æ—¥å¿—ä¸­ä¼ é€’çš„å‚æ•°ã€‚è¿™äº›æ—¥å¿—å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šï¼Œå¯ä»¥ä½¿ç”¨åˆåŒåœ°å€è¿›è¡Œè®¿é—®ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œæ¯æ¬¡åœ¨`changeOwner`å‡½æ•°ä¸­æ›´æ”¹æ‰€æœ‰è€…æ—¶éƒ½ä¼šå‘å‡ºè¯¥äº‹ä»¶ã€‚
*   `constructor & msg.sender`:éƒ¨ç½²æ™ºèƒ½åˆçº¦æ—¶è°ƒç”¨`constructor`å‡½æ•°ï¼Œç”±äºæ™ºèƒ½åˆçº¦**ä¸å¯å˜**ï¼Œåªèƒ½éƒ¨ç½²ä¸€æ¬¡ï¼Œå› æ­¤`constructor`å‡½æ•°ä¹Ÿåªè°ƒç”¨ä¸€æ¬¡ã€‚`msg.sender`æ˜¯å½“å‰(å¤–éƒ¨)å‡½æ•°è°ƒç”¨çš„æ¥æºåœ°å€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç”¨éƒ¨ç½²è€…çš„åœ°å€åˆå§‹åŒ– owner å˜é‡ã€‚
*   Solidity æä¾›äº†è¿™ä¸ªå…³é”®å­—æ¥åˆ›å»ºä½ è‡ªå·±çš„å¸¦æœ‰è‡ªå®šä¹‰é€»è¾‘çš„ä¿®æ”¹å™¨ã€‚å¦‚æœ`require`çš„ç¬¬ä¸€ä¸ªå‚æ•°è¯„ä¼°ä¸º`false`ï¼Œé‚£ä¹ˆå‡½æ•°å†…éƒ¨çš„æ“ä½œè¢«æ¢å¤ï¼Œè¿™å¯¹äºæ£€æŸ¥å‡½æ•°æ˜¯å¦è¢«æ­£ç¡®è°ƒç”¨ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ä½œä¸ºç¬¬äºŒä¸ªè®ºæ®ï¼Œä½ ä¹Ÿå¯ä»¥è§£é‡Šå“ªé‡Œå‡ºäº†é—®é¢˜ã€‚

# ç¤ºä¾‹ 3:æŠ•ç¥¨

> *ä»£ç ç›¸å½“é•¿ï¼Œæ²¡æœ‰å¿…è¦å…¨éƒ¨è¯»å®Œï¼Œæˆ‘å°†åœ¨* ***ä¸­ç”¨å‡ å¥è¯è§£é‡Šä¸€ä¸‹*** *å—çš„å«ä¹‰ï¼Œç„¶åå¦‚æœä½ æƒ³é˜…è¯»å’Œåˆ†æä¸€äº›å…·ä½“çš„ç‰‡æ®µå°±çœ‹ä½ çš„äº†ã€‚*

Solidity By Example â€” Ballot.sol

# æ„ä¹‰

å®æ–½æŠ•ç¥¨æµç¨‹ä»¥åŠæŠ•ç¥¨æˆæƒï¼Œè¿™æ„å‘³ç€æœ‰ä¸€äº›ææ¡ˆéœ€è¦æŠ•ç¥¨(å¯ä»¥æ˜¯äººå‘˜ã€è®¡åˆ’ã€æƒ³æ³•ç­‰ã€‚)è€Œä¸”æ¯ä¸ªé€‰æ°‘ä¸€ç¥¨ã€‚

æ¯ä¸ªæŠ•ç¥¨è€…ä¹Ÿå¯ä»¥"*å§”æ‰˜*"è¿™æ˜¯å¯¹å¦ä¸€ä¸ªæŠ•ç¥¨è€…çš„æŠ•ç¥¨ï¼Œè¿™å¢åŠ äº†æ¥æ”¶è€…çš„æŠ•ç¥¨æƒé‡*(æœ€åˆæƒé‡æ˜¯æ¯ä¸ªæŠ•ç¥¨è€… 1)ã€‚ä¸èƒ½æœ‰å§”æ‰˜å¾ªç¯ï¼Œè¿™æ„å‘³ç€å¦‚æœ **Jon** å°†ä»–çš„é€‰ç¥¨å§”æ‰˜ç»™ **Rose** ï¼Œé‚£ä¹ˆ **Rose** å°†å¥¹çš„é€‰ç¥¨å§”æ‰˜ç»™ **Tom** ï¼Œ **Tom** ä¸èƒ½å†å°†ä»–çš„é€‰ç¥¨å§”æ‰˜ç»™ **Jon** ï¼Œè¿™ä¸ªå¾ªç¯å°±è¢«é˜»æ­¢äº† 2 åˆ° *K* äººï¼Œå…¶ä¸­ *K* æ˜¯æŠ•ç¥¨äººçš„æ€»æ•°ã€‚*

*æœ€åï¼Œä¸»å¸­*å¯ä»¥å°†æŠ•ç¥¨æƒåˆ†é…ç»™å·²ç»å§”æ‰˜æŠ•ç¥¨çš„æŠ•ç¥¨äººã€‚**

# *æ¦‚å¿µ*

*   *`struct`:å®ƒä»¬æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªè®°å½•çš„ç±»å‹ï¼Œå°±åƒåœ¨ c ä¸­ä¸€æ ·ï¼Œç”±äºä¸å­˜åœ¨*ç±»*çš„æ¦‚å¿µ(ä¸€ä¸ª*å¥‘çº¦*æ˜¯ä¸€ä¸ª*ç±»*çš„ç±»æ¯”)ï¼Œå®ƒä»¬åœ¨ Solidity ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸åŒçš„ç»“æ„:`Voter`å’Œ`Proposal`ã€‚*
*   *`bytes32`:æ˜¯ä¸€ä¸ªæœ‰ 32 å­—èŠ‚å†…å­˜çš„`string`ï¼Œå®ƒåœ¨å€¼æ°¸è¿œä¸ä¼šè¶…è¿‡å¤§å°çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ï¼Œå®ƒä½¿ç”¨è¾ƒå°‘çš„ [**æ°”ä½“**](https://ethereum.org/en/developers/docs/gas/) å› ä¸ºå®ƒé€‚åˆ [**EVM**](https://ethereum.org/en/developers/docs/evm/) **çš„ä¸€ä¸ªå•è¯ã€‚**å¦ä¸€æ–¹é¢ï¼Œ`string`æ˜¯ä¸€ä¸ªåŠ¨æ€è°ƒæ•´å¤§å°çš„ç±»å‹ï¼Œåœ¨å¯é æ€§æ–¹é¢æœ‰å½“å‰çš„é™åˆ¶(æ¯”å¦‚ä¸èƒ½ä»å‡½æ•°è¿”å›åˆ°å¥‘çº¦)ã€‚*
*   *`mapping`:å®ƒä»¬å¯ä»¥è¢«è§†ä¸º [**æ•£åˆ—è¡¨**](https://en.wikipedia.org/wiki/Hash_table) ï¼Œè¿™äº›æ•£åˆ—è¡¨è¢«è™šæ‹Ÿåœ°åˆå§‹åŒ–ï¼Œä½¿å¾—æ¯ä¸ªå¯èƒ½çš„å…³é”®å­—éƒ½å­˜åœ¨å¹¶ä¸”è¢«æ˜ å°„åˆ°ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºå…¨ä¸ºé›¶çš„å€¼ã€‚å®ƒä»¬æ²¡æœ‰é•¿åº¦ï¼Œä¹Ÿæ²¡æœ‰è®¾ç½®é”®æˆ–å€¼çš„æ¦‚å¿µã€‚*
*   *`memory`:Solidity ä¸­çš„`memory`å˜é‡åªèƒ½åœ¨æ–¹æ³•ä¸­å£°æ˜ï¼Œå®ƒä»¬æ˜¯çŸ­æœŸå˜é‡ï¼Œä¸èƒ½ä¿å­˜åœ¨åŒºå—é“¾ä¸­ã€‚å®ƒåªåœ¨å‡½æ•°æ‰§è¡ŒæœŸé—´ä¿å­˜å€¼ï¼Œåœ¨æ‰§è¡Œåå®ƒçš„å€¼è¢«é”€æ¯ã€‚*

*![](img/a140ff4232c038b0f667179dd23bd3c9.png)**![](img/8560b46bfffc940732d5fe923933c652.png)*

*Source: [ethereum.org](http://ethereum.org/)*

# *ç»“è®º*

*æ··éŸ³ç‰ˆä¸Šçš„ä»‹ç»æ€§ä¾‹å­å¯¹é‚£äº›æƒ³ç†è§£åŸºæœ¬å’Œä¸å¤ªåŸºæœ¬çš„åšå®æ¦‚å¿µçš„äººæ¥è¯´æ˜¯éå¸¸å¥½çš„ã€‚*

*æˆ‘ç¡®ä¿¡è¿™äº›ä¾‹å­æ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘çš„ï¼Œæˆ‘ç›¸ä¿¡å®ƒä»¬å€¼å¾—ä¸€ä¸ªå½»åº•çš„è§£é‡Šï¼Œç”šè‡³æ›´å¤šï¼Œå› ä¸ºåƒæˆ‘è¿™æ ·çš„äººå€¾å‘äºåˆ é™¤ä»£ç å¹¶å¼€å§‹åœ¨ç¼–è¾‘å™¨ä¸­ç¼–å†™`console.log(â€œHello world!â€)`è€Œä¸ç”¨æƒ³å¤ªå¤šã€‚*

*å¦‚æœä½ æƒ³åœ¨å¼€å§‹ç¼–å†™æ™ºèƒ½åˆåŒä¹‹å‰æ›´æ·±å…¥åœ°ç ”ç©¶è¿™ç§ç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘è¯šæŒšåœ°é‚€è¯·ä½ é˜…è¯»ä»¥å¤ªåŠ[å®˜æ–¹æ–‡æ¡£](https://ethereum.org/en/developers/docs/)ä¸­çš„æ–‡æ¡£ã€‚ğŸ¤“ã€‚*

> ***æƒ³è”ç³»ä½œè€…ï¼Ÿ**åœ¨[æ¨ç‰¹](https://twitter.com/LakshayMaini_)ä¸Šå…³æ³¨æˆ‘ã€‚*
> 
> *åŠ å…¥ Coinmonks [ç”µæŠ¥é¢‘é“](https://t.me/coincodecap)å’Œ [Youtube é¢‘é“](https://www.youtube.com/c/coinmonks/videos)äº†è§£åŠ å¯†äº¤æ˜“å’ŒæŠ•èµ„*

# *å¦å¤–ï¼Œé˜…è¯»*

*   *[AscendEx ä¿è¯é‡‘äº¤æ˜“](https://coincodecap.com/ascendex-margin-trading) | [Bitfinex èµŒæ³¨](https://coincodecap.com/bitfinex-staking) | [bitFlyer å®¡æ ¸](https://coincodecap.com/bitflyer-review)*
*   *[éº»é›€äº¤æ¢è¯„è®º](https://coincodecap.com/sparrow-exchange-review) | [çº³ä»€äº¤æ¢è¯„è®º](https://coincodecap.com/nash-exchange-review)*
*   *[æ”¯æŒå¡å®¡æ ¸](https://coincodecap.com/uphold-card-review) | [ä¿¡ä»»é’±åŒ… vs MetaMask](https://coincodecap.com/trust-wallet-vs-metamask)*
*   *[Exness å›é¡¾](https://coincodecap.com/exness-review)|[moon xbt Vs bit get Vs Bingbon](https://coincodecap.com/bingbon-vs-bitget-vs-moonxbt)*
*   *[å¦‚ä½•å¼€å§‹é€šè¿‡åŠ å¯†è´·æ¬¾èµšå–è¢«åŠ¨æ”¶å…¥](https://coincodecap.com/passive-income-crypto-lending)*
*   *[åŠ å¯†è´§å¸å‚¨è“„è´¦æˆ·](/coinmonks/cryptocurrency-savings-accounts-be3bc0feffbf) | [åŠ å¯†äº¤æ˜“æœºå™¨äºº](https://coincodecap.com/best-crypto-trading-bots)*
*   *[BigONE äº¤æ˜“æ‰€è¯„è®º](/coinmonks/bigone-exchange-review-64705d85a1d4) | [CEXã€‚IO å®¡æŸ¥](https://coincodecap.com/cex-io-review) | [Swapzone å®¡æŸ¥](/coinmonks/swapzone-review-crypto-exchange-data-aggregator-e0ad78e55ed7)*
*   *[æœ€ä½³æ¯”ç‰¹å¸ä¿è¯é‡‘äº¤æ˜“](/coinmonks/bitcoin-margin-trading-exchange-bcbfcbf7b8e3) | [æ¯”ç‰¹å¸ä¿è¯é‡‘äº¤æ˜“](https://coincodecap.com/bityard-margin-trading)*
*   *[åŠ å¯†ä¿è¯é‡‘äº¤æ˜“äº¤æ˜“æ‰€](/coinmonks/crypto-margin-trading-exchanges-428b1f7ad108) | [èµšå–æ¯”ç‰¹å¸](/coinmonks/earn-bitcoin-6e8bd3c592d9)*