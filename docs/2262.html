<html>
<head>
<title>RACE Poker Tech Reveal — Encrypted Communication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RACE Poker Tech Reveal —加密通信</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/tech-reveal-encrypted-communication-89619433f1d5?source=collection_archive---------31-----------------------#2022-03-11">https://medium.com/coinmonks/tech-reveal-encrypted-communication-89619433f1d5?source=collection_archive---------31-----------------------#2022-03-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/8b9aa4c5b4d634f034b5f7c74466c060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ah_V0Q9gzS5IXppZ-lkB8Q.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">A message from Player A to Player B</figcaption></figure><p id="fc8a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">洗牌一完成，游戏就开始了。在游戏过程中，卡片会显示出客户提供的钥匙。根据卡的类型，密钥将被相应地共享。例如，玩家的底牌正在被点对点共享。</p><p id="cb80" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">交易者用于将数据从一个客户端转发到另一个客户端(如WebRTC中常见的那样)，但这并不意味着这些数据对交易者是可见的，因为数据在发送到交易者之前已经被加密了。</p><p id="7d9b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">RACE Poker有三种加密方式:<br/> 1。索拉纳使用的氯化钠。用户可以生成一对密钥:私钥和公钥。公钥将用于验证签名。在RACE Poker中，NaCL将验证某个客户端是否发送了特定的消息。<br/> 2。AES-CTR，用于洗牌。这种加密的可交换性使得加密和解密的顺序变得无关紧要，这意味着数据可以以任意顺序加密或解密。<br/> 3。RSA，用于客户端之间的通信。这些消息用客户机的私钥加密，用公钥解密。</p><p id="1aa9" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">对于客户端之间的通信，玩家将生成自己的RSA密钥对。公钥将存储在用户在Solana上的个人资料帐户中。客户端可以通过区块链上的数据发现其他人，并获得他们相应的公钥。私钥将本地存储在浏览器的数据库中。只要玩家不在游戏中，他们总是可以更新他们的密钥对。</p><p id="48f5" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在发牌完成后，在公布公共牌之前，游戏中的玩家需要共享他们的公钥才能看到分配给他们的牌。当游戏中的每个玩家看到在任何给定时刻发生的事情时，他们中的任何人都应该能够知道谁需要谁的钥匙。此时，将会出现一个需要共享的密钥列表。密钥的密钥标识可以表示如下:</p><blockquote class="kd ke kf"><p id="443a" class="jf jg kg jh b ji jj jk jl jm jn jo jp kh jr js jt ki jv jw jx kj jz ka kb kc hm dt translated">[发送者、密钥身份、接收者]</p></blockquote><p id="b98d" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">所有客户端根据该列表共享它们的公钥。发送客户端使用接收客户端的RSA公钥对每条消息进行加密，然后通过交易器发送到目标客户端。</p><p id="fdea" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">例如，当客户端A想要与客户端B通信时，它将从区块链上的B的配置文件帐户中读取RSA公钥，并在发送消息之前用该密钥对消息进行加密。</p><p id="62a8" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">然后，客户端A将消息传递给交易者，交易者又将消息传递给客户端B。注意，由于交易者没有客户端B的RSA私钥，所以它根本看不到消息内容。</p><p id="5c12" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">当客户端B收到消息时，它可以使用自己的私钥解密消息体。</p><p id="8acc" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这基本上就是在游戏过程中，必要的信息是如何一条一条地被揭示出来的。在下一篇文章中，我们将讨论密钥共享和解密。</p></div></div>    
</body>
</html>