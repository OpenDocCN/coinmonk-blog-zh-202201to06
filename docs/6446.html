<html>
<head>
<title>How 2 trillion of dollars are secured by 12 words ? Mnemonics | Bip39</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">两万亿美元是如何被12个字担保的？助记符| Bip39</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-2-trillion-of-dollars-are-secured-by-12-words-mnemonics-bip39-6f5d9a2824d9?source=collection_archive---------45-----------------------#2022-05-09">https://medium.com/coinmonks/how-2-trillion-of-dollars-are-secured-by-12-words-mnemonics-bip39-6f5d9a2824d9?source=collection_archive---------45-----------------------#2022-05-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk iq ir is it"><div class="bz el l di"><div class="iu iv l"/></div></figure><p id="00e3" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">Live Colab笔记本<a class="ae ju" href="https://colab.research.google.com/drive/1zAfJKUQ4M4lBxmDFaEMa9TBzwD8BIcI1?usp=sharing" rel="noopener ugc nofollow" target="_blank">这里</a>。Github回购<a class="ae ju" href="https://github.com/sonsofcrypto/videosSampleCode/tree/master/bip39" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="beb4" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">首先，我们需要密码安全的随机来源。至少有128位。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="0e71" class="ke kf ht ka b fv kg kh l ki kj"># valid entropy bit sizes [128, 160, 192, 224, 256]<br/>entropyBitSize = 128</span><span id="6af5" class="ke kf ht ka b fv kk kh l ki kj"># secure source of randomness<br/>entropyBytes = os.urandom(entropyBitSize // 8) # Byte has 8 bits<br/>print(“Entropy:”, entropyBytes.hex())</span></pre><p id="f827" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">将我们的熵字节转换为位数组，这样更容易处理。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="fb2b" class="ke kf ht ka b fv kg kh l ki kj">from bitarray import bitarray<br/>entropyBits = bitarray()<br/>entropyBits.frombytes(entropyBytes)<br/>print(“Entropy bits:”, entropyBits)</span></pre><p id="8ed3" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">我们需要在熵的末尾添加校验和位。校验和是熵字节的“sha256”散列的第一个“校验和”位。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="9150" class="ke kf ht ka b fv kg kh l ki kj"># checksum length depends on the length of entropy<br/>checksumLen = entropyBitSize // 32<br/>print(“checksum size:”, checksumLen)</span><span id="b7c1" class="ke kf ht ka b fv kk kh l ki kj"># We need to take a hash of our entropy<br/>hashBytes = hashlib.sha256(entropyBytes).digest()<br/>print(“hashed bytes:”, hashBytes.hex())</span><span id="3d77" class="ke kf ht ka b fv kk kh l ki kj">hashBits = bitarray()<br/>hashBits.frombytes(hashBytes)<br/>checksum = hashBits[:checksumLen]<br/>print(“checksum bits:”, checksum)</span><span id="32ac" class="ke kf ht ka b fv kk kh l ki kj"># Add checksum bits at the end of entropy<br/>entropyBits.extend(checksum)<br/>print(“entropy length:”, len(entropyBits))</span></pre><p id="0362" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">将“entropyBits”分组到11位的组中。并将它们转换成整数。这些整数</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="caf8" class="ke kf ht ka b fv kg kh l ki kj"># Get indexed from bits<br/>indexes = list()<br/>from bitarray.util import ba2int</span><span id="afca" class="ke kf ht ka b fv kk kh l ki kj">for idx in range(len(entropyBits) // 11):<br/> startIdx = idx * 11<br/> endIdx = startIdx + 11<br/> wordIndex = ba2int(entropyBits[startIdx:endIdx])<br/> indexes.append(wordIndex)</span><span id="cf92" class="ke kf ht ka b fv kk kh l ki kj">print(indexes)</span></pre><p id="98f0" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">Bip39是标准的，它定义了2024个单词的列表。我们把单词放入一个数组。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="7cc3" class="ke kf ht ka b fv kg kh l ki kj"># Load bip 39 words<br/>fileObj = open(“bip-0039/english.txt”, “r”)<br/>words = fileObj.read().splitlines()<br/>fileObj.close()<br/>print(“words len:”, len(words))</span></pre><p id="03aa" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">我们将索引从熵映射到词。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="b964" class="ke kf ht ka b fv kg kh l ki kj"># Map indexes onto words<br/>mnemonic = list(map(lambda idx: words[idx] , indexes))<br/>print(“mnemonic:”, mnemonic)</span></pre><p id="65d5" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">添加可选密码。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="ce55" class="ke kf ht ka b fv kg kh l ki kj"># Generate salt<br/>password = “”<br/>salt = “mnemonic” + password</span></pre><p id="a55d" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">最终我们得到了一颗种子。</p><pre class="jv jw jx jy fq jz ka kb kc aw kd dt"><span id="d2da" class="ke kf ht ka b fv kg kh l ki kj"># Finally, we derive seed<br/>mnemonicStr = ‘ ‘.join(mnemonic)<br/>seed = hashlib.pbkdf2_hmac(<br/> “sha512”,<br/> mnemonicStr.encode(“utf-8”),<br/> salt.encode(“utf-8”),<br/> 2048<br/>)</span><span id="ae23" class="ke kf ht ka b fv kk kh l ki kj">print(“seed len:”, len(seed))<br/>print(“seed hex:”, seed.hex())<br/>print(“priv key:”, seed[0:32].hex())<br/>print(“chain co:”, seed[32:64].hex())</span></pre><p id="9c1f" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">它的前32个字节是我们的主私钥，后32个字节是链码。你如何获得钱包私钥和地址是另一篇文章。</p><p id="5a7c" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">你们中的一些人可能会说，等等，就这样？这128个随机位，尽管它们很漂亮，却是保护所有加密的全部。如果其他人碰巧得到了和我一样的熵呢？128位给你2个⁸数。这比宇宙中的起始数还要多。如果用24个字。你正在接近比宇宙中原子数量还要多的数量。那种安静的可能性简直是天文数字。在任何情况下，加密的整体性，每次你登录到某个地方，都以类似的方式工作，所以不要担心。它工作了。</p><p id="a033" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">以上这些都很好，但是如何让普通人也能轻松使用呢？我们来看看帖子顶部的视频。</p><p id="7ef3" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">Live Colab笔记本<a class="ae ju" href="https://colab.research.google.com/drive/1zAfJKUQ4M4lBxmDFaEMa9TBzwD8BIcI1?usp=sharing" rel="noopener ugc nofollow" target="_blank">这里</a>。Github repo <a class="ae ju" href="https://github.com/sonsofcrypto/videosSampleCode/tree/master/bip39" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><figure class="jv jw jx jy fq it fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kl"><img src="../Images/971b0467c7a3a448676169b846cc2249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fIkRDSEz8R0DKe1xALrLoQ.jpeg"/></div></div></figure><blockquote class="ks"><p id="84f7" class="kt ku ht bd kv kw kx ky kz la lb jt ek translated">加入Coinmonks <a class="ae ju" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ju" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="147b" class="lc kf ht bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly dt translated">另外，阅读</h1><ul class=""><li id="8604" class="lz ma ht iy b iz mb jd mc jh md jl me jp mf jt mg mh mi mj dt translated"><a class="ae ju" href="https://coincodecap.com/p2p-crypto-exchanges-in-india" rel="noopener ugc nofollow" target="_blank">印度最佳P2P加密交易所</a> | <a class="ae ju" href="https://coincodecap.com/baby-shiba-inu-wallets" rel="noopener ugc nofollow" target="_blank">柴犬钱包</a></li><li id="ff90" class="lz ma ht iy b iz mk jd ml jh mm jl mn jp mo jt mg mh mi mj dt translated"><a class="ae ju" href="https://coincodecap.com/crypto-affiliate-programs" rel="noopener ugc nofollow" target="_blank">八大加密附属计划</a> | <a class="ae ju" href="https://coincodecap.com/etoro-vs-coinbase" rel="noopener ugc nofollow" target="_blank"> eToro vs比特币基地</a></li><li id="dc93" class="lz ma ht iy b iz mk jd ml jh mm jl mn jp mo jt mg mh mi mj dt translated"><a class="ae ju" href="https://coincodecap.com/best-ethereum-wallets" rel="noopener ugc nofollow" target="_blank">最佳以太坊钱包</a> | <a class="ae ju" href="https://coincodecap.com/telegram-crypto-bots" rel="noopener ugc nofollow" target="_blank">电报上的加密货币机器人</a></li><li id="c459" class="lz ma ht iy b iz mk jd ml jh mm jl mn jp mo jt mg mh mi mj dt translated"><a class="ae ju" href="https://coincodecap.com/leveraged-token-exchanges" rel="noopener ugc nofollow" target="_blank">交易杠杆代币的最佳交易所</a> | <a class="ae ju" href="https://coincodecap.com/buy-floki-inu-token" rel="noopener ugc nofollow" target="_blank">购买Floki </a></li><li id="64b7" class="lz ma ht iy b iz mk jd ml jh mm jl mn jp mo jt mg mh mi mj dt translated"><a class="ae ju" href="https://coincodecap.com/3commas-vs-pionex-vs-cryptohopper" rel="noopener ugc nofollow" target="_blank">3 commas vs . Pionex vs . crypto hopper</a>|<a class="ae ju" href="https://coincodecap.com/bingbon-review" rel="noopener ugc nofollow" target="_blank">Bingbon Review</a></li></ul></div></div>    
</body>
</html>