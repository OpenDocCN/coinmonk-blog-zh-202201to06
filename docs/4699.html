<html>
<head>
<title>Graftroot on Bitcoin Today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如今比特币上的Graftroot</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/graftroot-on-bitcoin-today-a50a4226ba5?source=collection_archive---------16-----------------------#2022-04-12">https://medium.com/coinmonks/graftroot-on-bitcoin-today-a50a4226ba5?source=collection_archive---------16-----------------------#2022-04-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="5297" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">不需要叉子</h2></div><p id="4537" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们已经演示了如何使用<a class="ae ke" href="https://xiaohuiliu.medium.com/contractless-contract-cb9b60e9bb91" rel="noopener">无契约契约</a>在原始比特币上<a class="ae ke" href="https://xiaohuiliu.medium.com/taproot-on-bitcoin-d52fce9201e4" rel="noopener">实现主根</a>。我们展示了它的后续提议，<a class="ae ke" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-February/015700.html" rel="noopener ugc nofollow" target="_blank"> Graftroot </a>，可以以类似的方式实现。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff kf"><img src="../Images/31177fcfde39929387bcbb3228dd5dab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q2FDBjz37ab8t_yE.jpg"/></div></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">Source: <a class="ae ke" href="https://bitcoinmagazine.com/technical/graftroot-how-delegating-signatures-allows-near-infinite-spending-variations" rel="noopener ugc nofollow" target="_blank">Bitcoin Magazine</a></figcaption></figure><h1 id="b570" class="kv kw ht bd kx ky kz la lb lc ld le lf iz lg ja lh jc li jd lj jf lk jg ll lm dt translated">BTC的格拉夫鲁特</h1><p id="c7aa" class="pw-post-body-paragraph ji jj ht jk b jl ln iu jn jo lo ix jq jr lp jt ju jv lq jx jy jz lr kb kc kd hm dt translated">与Taproot类似，有两种方式来使用由多方创建的聚合公钥<strong class="jk hu"> <em class="ls"> P </em> </strong>中锁定的资金:</p><ol class=""><li id="217c" class="lt lu ht jk b jl jm jo jp jr lv jv lw jz lx kd ly lz ma mb dt translated"><strong class="jk hu">合作案例</strong>:又名默认密钥支出路径</li></ol><p id="0f28" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">所有各方同意并签署在常规支付交易中释放资金，与在Taproot中相同。</p><p id="4e85" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">2.<strong class="jk hu">不合作案例</strong>:又名替代脚本支出路径</p><p id="4ea6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果任何一方未能签署，另一个脚本选择运行解锁基金。在Taproot中，脚本是一个<a class="ae ke" href="https://xiaohuiliu.medium.com/merkelized-abstract-syntax-tree-6a49b2008435" rel="noopener"> Merklized替代脚本树</a> (MAST)中的叶节点。通过链接<strong class="jk hu"> <em class="ls"> P </em> </strong>中的桅杆<strong class="jk hu">mT19】的根，并通过Merkle proof验证该脚本确实是桅杆的一片叶子，从而获得授权。然而，在Graftroot中，被称为代理脚本的替代脚本仅由共同签署脚本本身的各方授权。 </strong>这与我们之前介绍过的<a class="ae ke" rel="noopener" href="/coinmonks/delegation-in-bitcoin-ac7afcab991e">密钥委托</a>类似，只不过是通过签名委托一个脚本，而不是公钥。</p><h2 id="525d" class="mc kw ht bd kx md me mf lb mg mh mi lf jr mj mk lh jv ml mm lj jz mn mo ll mp dt translated">与主根相比</h2><p id="27f8" class="pw-post-body-paragraph ji jj ht jk b jl ln iu jn jo lo ix jq jr lp jt ju jv lq jx jy jz lr kb kc kd hm dt translated">在设置期间，各方共同签署所有可能的代理脚本。在消费时，某一方可能不愿意或无法签字。在这种情况下，Graftroot比Taproot有几个显著的优势:</p><ol class=""><li id="6ef5" class="lt lu ht jk b jl jm jo jp jr lv jv lw jz lx kd ly lz ma mb dt translated">它在<strong class="jk hu"> <em class="ls"> O(1) </em> </strong>而不是<strong class="jk hu"> <em class="ls"> O(log n) </em> </strong>缩放，其中<strong class="jk hu"> <em class="ls"> n </em> </strong>是备选脚本的总数，每个脚本代表一种花费方式。无论<strong class="jk hu"> <em class="ls"> n </em> </strong>都需要一个单独的签名。而在直根，消费时需要一张大小<strong class="jk hu"><em class="ls">【O(log n)</em></strong>的Merkle凭证。</li><li id="2ecc" class="lt lu ht jk b jl mq jo mr jr ms jv mt jz mu kd ly lz ma mb dt translated">在Graftroot中，在设置和花费之间的任何时间，可以在事后委托新的替代脚本。这在Taproot中是不可能的，因为MAST root是提交的，并且在设置后不能修改。</li></ol><h1 id="1270" class="kv kw ht bd kx ky kz la lb lc ld le lf iz lg ja lh jc li jd lj jf lk jg ll lm dt translated">原始比特币中的Graftroot</h1><p id="b5db" class="pw-post-body-paragraph ji jj ht jk b jl ln iu jn jo lo ix jq jr lp jt ju jv lq jx jy jz lr kb kc kd hm dt translated">事实证明，Graftroot可以在比特币上实现，无需对原始协议进行任何更改。</p><p id="561e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">下图显示了Alice和Bob之间的比特币上的<a class="ae ke" href="https://xiaohuiliu.medium.com/taproot-on-bitcoin-d52fce9201e4" rel="noopener">主根。有四个可供选择的支出脚本(<em class="ls"> S₀、【S₁】、</em>和<em class="ls"> S₃ </em>，它们位于根为<strong class="jk hu"> <em class="ls"> m </em> </strong>的桅杆的叶节点上。</a></p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff mv"><img src="../Images/24c34350e6c4ffd386212a988fd4d59a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KMWrPQCBgx4ls0QbBkibLw.png"/></div></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">Figure 1: <strong class="bd mw">Taproot</strong> with 4 Alternative Spending Scripts</figcaption></figure><p id="df95" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">不是在单个事务<em class="ls"> tx2 </em>中提交MAST中的四个脚本，而是每个脚本都可以成为一个单独的事务。在运行<a class="ae ke" href="https://xiaohuiliu.medium.com/contractless-contract-cb9b60e9bb91" rel="noopener">Nakamoto签名协议</a>后，所有交易(即<em class="ls"> tx2_0、tx2_1、tx2_2和tx2_3 </em>)由双方签署并保持离线。双方通过共同签署包含脚本的事务来委托脚本。例如，两个签名<em class="ls"> tx2_0 </em>使<em class="ls"> S₀ </em>成为代理人。</p><p id="ec7e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在不合作的情况下，可以广播包含所选脚本的这四个事务之一。最多只能兑换其中一个，因为他们都是从tx1中的同一个UTXO消费的。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff mx"><img src="../Images/04d9c28ad724ea03a76dac9b8e96e69e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bv_M5qtUYYYPO72eJ2x0KQ.png"/></div></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">Figure 2: <strong class="bd mw">Graftroot</strong> with 4 Alternative Spending Scripts</figcaption></figure><p id="d848" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">比较图1和图2，很明显，从另一个脚本，比如说tx2_0中的<em class="ls"> S₀，</em>花费更少，没有它的Merkle证明<em class="ls">的开销。</em></p><p id="e438" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">只要双方同意，可以委托更多的脚本。例如，一个新的脚本<em class="ls"> S₄ </em>可以通过双方签署包含它的<em class="ls"> tx2_4 </em>来添加为代理。</p><h1 id="3f2b" class="kv kw ht bd kx ky kz la lb lc ld le lf iz lg ja lh jc li jd lj jf lk jg ll lm dt translated">摘要</h1><p id="7780" class="pw-post-body-paragraph ji jj ht jk b jl ln iu jn jo lo ix jq jr lp jt ju jv lq jx jy jz lr kb kc kd hm dt translated">与BTC不同，比特币上的Graftroot不需要任何共识性的改变，因此今天它可以用来改善隐私和效率。例如，可以使用现有的操作码OP_CHECKSIG来检查用于委托的签名，而BTC需要新的操作码，如<a class="ae ke" href="https://elementsproject.org/features/opcodes" rel="noopener ugc nofollow" target="_blank"> OP_CHECKSIGFROMSTACK </a>，因为签名的消息是脚本本身，而不是事务数据。</p><blockquote class="my"><p id="8592" class="mz na ht bd nb nc nd ne nf ng nh kd ek translated">加入Coinmonks <a class="ae ke" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ke" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="bcb8" class="kv kw ht bd kx ky kz la lb lc ld le lf iz ni ja lh jc nj jd lj jf nk jg ll lm dt translated">另外，阅读</h1><ul class=""><li id="f3c6" class="lt lu ht jk b jl ln jo lo jr nl jv nm jz nn kd no lz ma mb dt translated"><a class="ae ke" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap评论</a> | <a class="ae ke" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li><li id="a492" class="lt lu ht jk b jl mq jo mr jr ms jv mt jz mu kd no lz ma mb dt translated">最佳加密<a class="ae ke" rel="noopener" href="/coinmonks/hardware-wallets-dfa1211730c6">硬件钱包</a> | <a class="ae ke" rel="noopener" href="/coinmonks/bitbns-review-38256a07e161"> Bitbns评论</a></li><li id="028b" class="lt lu ht jk b jl mq jo mr jr ms jv mt jz mu kd no lz ma mb dt translated"><a class="ae ke" href="https://coincodecap.com/crypto-exchange-in-singapore" rel="noopener ugc nofollow" target="_blank">新加坡十大最佳加密交易所</a> | <a class="ae ke" href="https://coincodecap.com/buy-axs-token" rel="noopener ugc nofollow" target="_blank">收购AXS </a></li><li id="303f" class="lt lu ht jk b jl mq jo mr jr ms jv mt jz mu kd no lz ma mb dt translated"><a class="ae ke" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae ke" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae ke" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank"> CoinGate评论</a></li><li id="2cd9" class="lt lu ht jk b jl mq jo mr jr ms jv mt jz mu kd no lz ma mb dt translated"><a class="ae ke" href="https://coincodecap.com/best-crypto-to-invest-in-india-in-2021" rel="noopener ugc nofollow" target="_blank">投资印度的最佳加密软件</a>|<a class="ae ke" href="https://coincodecap.com/wazirx-p2p" rel="noopener ugc nofollow" target="_blank">WazirX P2P</a>|<a class="ae ke" href="https://coincodecap.com/hi-dollar-review" rel="noopener ugc nofollow" target="_blank">Hi Dollar Review</a></li></ul></div></div>    
</body>
</html>