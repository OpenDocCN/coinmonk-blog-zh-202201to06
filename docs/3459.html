<html>
<head>
<title>Constructing an ERC721 Token Contract</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构造ERC721令牌协定</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/constructing-an-erc721-token-contract-b27f9fb02876?source=collection_archive---------20-----------------------#2022-03-26">https://medium.com/coinmonks/constructing-an-erc721-token-contract-b27f9fb02876?source=collection_archive---------20-----------------------#2022-03-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="cd17" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">关于使用ERC0的可替换标记，我们已经讲了很多，但是为什么不标记一些不寻常的东西呢？房地产或收藏品，其中一些项目因其有用性、稀有性等而比其他项目更有价值。ERC721是代表不可替换令牌所有权的标准，其中每个令牌都是唯一的。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/1874f1a57637496d535acb7afadc6189.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5tRjxmejKYmBMEmP.png"/></div></div></figure><p id="6dbe" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">ERC721是一个比ERC20更复杂的标准，具有多个可选扩展，并被划分为多个合同。首先来看看<a class="ae kq" rel="noopener" href="/@NFTSwapnet/erc-721-eip-721-and-nft-non-fungible-token-standard-6a083be6f3d4"> <strong class="jw hu"> ERC 721、EIP-721和NFT:不可替代令牌标准</strong> </a> <strong class="jw hu">。</strong></p><h1 id="cd19" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">构造ERC721令牌协定</h1><p id="b434" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">举个例子，用ERC721来追踪游戏中的物品，每个物品都有自己独特的属性。当其中的一个给了玩家，它将被铸造并发送给他们。玩家可以保留他们的代币，或者按照他们认为合适的方式与他人交换，就像区块链上的任何其他资产一样。</p><p id="3f99" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">我们以OpenZeppelin为例。以下是令牌化项目的合同可能的样子:</p><blockquote class="lo lp lq"><p id="0845" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">务实稳健的^0.5.0；</strong></p><p id="8fcb" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">导入“@ open zeppelin/contracts/token/ERC 721/ERC 721 full . sol”；导入“@ open zeppelin/contracts/drafts/counters . sol”；</strong></p><p id="66fc" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">契约GameItem为ERC721Full { <br/>使用计数器为计数器。柜台；<br/>计数器。Counter private _ tokenIds</strong></p><p id="f881" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">constructor()ERC 721 full(" game item "，" ITM") public { <br/> } </strong></p><p id="58d7" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">函数awardItem(地址播放器，字符串内存token uri)public returns(uint 256){<br/>_ token ids . increment()；</strong></p><p id="9828" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">uint 256 new itemid = _ token ids . current()；<br/> _mint(球员，new itemid)；<br/> _setTokenURI(newItemId，token uri)；</strong></p><p id="99f5" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated"><strong class="jw hu">返回newItemId<br/> } <br/> } </strong></p></blockquote><p id="e6ad" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">ERC721Full合同包括所有标准扩展，可能就是您想要使用的那个。特别是，它包含了<strong class="jw hu"> ERC721元数据</strong>，它提供了<strong class="jw hu"> _setTokenURI </strong>方法，我们用它来存储一个项目的元数据。</p><p id="801a" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">还要注意的是，与ERC20不同，ERC721缺少一个<strong class="jw hu">小数</strong>字段，因为每个令牌都是不同的，不能被分割。</p><p id="8407" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">可以创建新项目:</p><blockquote class="lo lp lq"><p id="08db" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated">&gt; game item . awarditem(player address，"<a class="ae kq" href="https://game.example/item-id-8u5h2m.json" rel="noopener ugc nofollow" target="_blank">https://game.example/item-id-8u5h2m.json</a>"<br/>7)</p></blockquote><p id="f0cb" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">以及每个被查询项目的所有者和元数据:</p><blockquote class="lo lp lq"><p id="a10b" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated">&gt; game item . ownerof(7)<br/>player address<br/>&gt;game item . token uri(7)<br/>"【https://game.example/item-id-8u5h2m.json】T42</p></blockquote><p id="57a5" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">这个<strong class="jw hu"> tokenURI </strong>应该解析成一个JSON文档，看起来可能类似于:</p><blockquote class="lo lp lq"><p id="6de2" class="ju jv lr jw b jx jy iu jz ka kb ix kc ls ke kf kg lt ki kj kk lu km kn ko kp hm dt translated">{ <br/>《姓名》:“雷神之锤”，<br/>《描述》:“mjlnir，北欧雷神传说中的锤子。”、<br/>【形象】:<a class="ae kq" href="https://game.example/item-id-8u5h2m.png" rel="noopener ugc nofollow" target="_blank">https://game.example/item-id-8u5h2m.png</a>、<br/>【实力】:20 <br/> }</p></blockquote><p id="8974" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">关于<strong class="jw hu"> tokenURI </strong>元数据JSON Schema，查看<a class="ae kq" rel="noopener" href="/@NFTSwapnet/erc-721-eip-721-and-nft-non-fungible-token-standard-6a083be6f3d4"> <strong class="jw hu"> ERC 721、EIP-721和NFT:不可替换令牌标准</strong> </a> <strong class="jw hu">。</strong></p><h1 id="107b" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">参考资料:</h1><ol class=""><li id="5176" class="lv lw ht jw b jx lj ka lk kd lx kh ly kl lz kp ma mb mc md dt translated"><a class="ae kq" href="https://eips.ethereum.org/EIPS/eip-20" rel="noopener ugc nofollow" target="_blank"> ERC-20 </a>令牌标准。</li><li id="e0f9" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated"><a class="ae kq" href="https://eips.ethereum.org/EIPS/eip-165" rel="noopener ugc nofollow" target="_blank"> ERC-165 </a>标准接口检测。</li><li id="d34a" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated">【https://docs.openzeppelin.com/contracts/2.x/erc721】</li><li id="7805" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated"><a class="ae kq" href="https://eips.ethereum.org/EIPS/eip-173" rel="noopener ugc nofollow" target="_blank"> ERC-173 </a>拥有标准。</li><li id="de29" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated"><a class="ae kq" href="https://github.com/ethereum/EIPs/issues/223" rel="noopener ugc nofollow" target="_blank"> ERC-223 </a>令牌标准。</li><li id="f915" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated"><a class="ae kq" href="https://github.com/ethereum/EIPs/issues/677" rel="noopener ugc nofollow" target="_blank"> ERC-677 </a>令牌标准。</li><li id="4a2d" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated"><a class="ae kq" href="https://github.com/ethereum/EIPs/issues/827" rel="noopener ugc nofollow" target="_blank"> ERC-827 </a>令牌标准。</li><li id="1b8c" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated">以太坊名称服务(ENS)。<a class="ae kq" href="https://ens.domains/" rel="noopener ugc nofollow" target="_blank"> https://ens.domains </a></li><li id="8b01" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated">insta gram——图像分辨率是多少？<a class="ae kq" href="https://help.instagram.com/1631821640426723" rel="noopener ugc nofollow" target="_blank">https://help.instagram.com/1631821640426723</a></li><li id="f8b6" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated">JSON模式。<a class="ae kq" href="https://json-schema.org/" rel="noopener ugc nofollow" target="_blank">https://json-schema.org/</a></li><li id="0c3d" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated">多地址。<a class="ae kq" href="https://github.com/multiformats/multiaddr" rel="noopener ugc nofollow" target="_blank">https://github.com/multiformats/multiaddr</a></li><li id="8859" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated">RFC 2119在RFC中用于表示要求级别的关键词。<a class="ae kq" href="https://www.ietf.org/rfc/rfc2119.txt" rel="noopener ugc nofollow" target="_blank">https://www.ietf.org/rfc/rfc2119.txt</a></li><li id="3fd2" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp ma mb mc md dt translated"><a class="ae kq" href="https://github.com/fulldecent" rel="noopener ugc nofollow" target="_blank">威廉·恩特里肯</a>、<a class="ae kq" href="mailto:dete@axiomzen.co" rel="noopener ugc nofollow" target="_blank">迪特·雪莉</a>、<a class="ae kq" href="mailto:jacob@dekz.net" rel="noopener ugc nofollow" target="_blank">雅各布·伊文思</a>、<a class="ae kq" href="mailto:nastassia.sachs@protonmail.com" rel="noopener ugc nofollow" target="_blank">纳斯塔西亚·萨克斯</a>、【EIP-721:不可替代令牌标准】、<em class="lr">以太坊改进提案</em>，第721期，2018年1月。【网上连载】。可用:<a class="ae kq" href="https://eips.ethereum.org/EIPS/eip-721." rel="noopener ugc nofollow" target="_blank">https://eips.ethereum.org/EIPS/eip-721.</a></li></ol><h1 id="c5a3" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">交换。网队<br/>官网—<a class="ae kq" href="https://swap.net/" rel="noopener ugc nofollow" target="_blank">https://swap.net/</a><br/>推特—<a class="ae kq" href="https://twitter.com/NFTSwapnet" rel="noopener ugc nofollow" target="_blank">https://twitter.com/NFTSwapnet</a><br/>不和—<a class="ae kq" href="https://t.co/uzz0Qt12tf" rel="noopener ugc nofollow" target="_blank">https://t.co/uzz0Qt12tf</a><br/>中—<a class="ae kq" rel="noopener" href="/@NFTSwapnet">https://medium.com/@NFTSwapnet</a><br/>Docs&amp;白皮书—<a class="ae kq" href="https://t.co/5qc7Mxt2p5" rel="noopener ugc nofollow" target="_blank">http://docs.swap.net</a></h1><blockquote class="mj"><p id="0472" class="mk ml ht bd mm mn mo mp mq mr ms kp ek translated">加入Coinmonks <a class="ae kq" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae kq" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="0063" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz mt ja ld jc mu jd lf jf mv jg lh li dt translated">另外，阅读</h1><ul class=""><li id="c6d0" class="lv lw ht jw b jx lj ka lk kd lx kh ly kl lz kp mw mb mc md dt translated"><a class="ae kq" href="https://coincodecap.com/5-best-crypto-trading-bots-in-canada" rel="noopener ugc nofollow" target="_blank">加拿大最佳加密交易机器人</a> | <a class="ae kq" href="https://coincodecap.com/kucoin-review" rel="noopener ugc nofollow" target="_blank">库币评论</a></li><li id="70f8" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp mw mb mc md dt translated"><a class="ae kq" href="https://coincodecap.com/huobi-crypto-trading-signals" rel="noopener ugc nofollow" target="_blank">用于Huobi的加密交易信号</a> | <a class="ae kq" rel="noopener" href="/coinmonks/hitbtc-review-c5143c5d53c2"> HitBTC审查</a></li><li id="648b" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp mw mb mc md dt translated"><a class="ae kq" href="https://coincodecap.com/ftx-futures-trading" rel="noopener ugc nofollow" target="_blank">如何在FTX交易所交易期货</a> | <a class="ae kq" href="https://coincodecap.com/okex-vs-binance" rel="noopener ugc nofollow" target="_blank"> OKEx vs币安</a></li><li id="5297" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp mw mb mc md dt translated"><a class="ae kq" href="https://coincodecap.com/okex-kucoin" rel="noopener ugc nofollow" target="_blank"> OKEx vs KuCoin </a> | <a class="ae kq" href="https://coincodecap.com/celsius-alternatives" rel="noopener ugc nofollow" target="_blank">摄氏替代品</a> | <a class="ae kq" href="https://coincodecap.com/buy-vechain" rel="noopener ugc nofollow" target="_blank">如何购买VeChain </a></li><li id="c403" class="lv lw ht jw b jx me ka mf kd mg kh mh kl mi kp mw mb mc md dt translated"><a class="ae kq" href="https://coincodecap.com/profitfarmers-review" rel="noopener ugc nofollow" target="_blank"> ProfitFarmers回顾</a> | <a class="ae kq" href="https://coincodecap.com/cornix-trading-bot" rel="noopener ugc nofollow" target="_blank">如何使用Cornix交易机器人</a></li></ul></div></div>    
</body>
</html>